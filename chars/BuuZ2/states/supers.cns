;===============================================
; CNS File for Buu Z2 by Barker & XGargoyle
; Super Moves
;===============================================


;===========================================================================
; <<<<< HEAVY RAIN Lv1>>>>>
; State = 2000
; Helper : 2010
;===========================================================================
;HEAVY RAIN Lv1
[Statedef 2000]
type = S
physics = S
movetype = A
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,0,-1000)

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 0, VarSet]
type = VarSet
trigger1 = AILevel<=0 && !time
var(15) = cond(NumExplod(90000200)||NumExplod(90000205),1,cond(NumExplod(90000210)||NumExplod(90000215),2,3))
;ignorehitpause =
;persistent =

[State 1500, VarSet]
type=VarSet
trigger1 =AILevel>0 && !time
var(15)=cond(random<300,1,cond(random<500,2,3))
ignorehitpause=1

[State 3000, width]
type = width
trigger1 = 1 ;animelemtime(23)<0
value = 30,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(5)<0
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1 ;time<=45 ;animelemtime(5)<0
time = 1
value = SCA


[State 3000, superpause]
type = superpause
trigger1 = time=10 ;5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2010,0 ;s2000,0
darken = 0
movetime = 40

[State 0, Super FX]
type = Explod
trigger1 = time = 10 ;5
anim = 2005
id = 2005
pos = -75,-5
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Charge Ball FX 1]
type = Explod
trigger1 = time = 10 ;5
anim = 2007
id = 2007
pos = 36,-118
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 43 ;41
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, Charge Ball FX 2]
type = Explod
trigger1 = time = 53
anim = 2007
id = 2007
pos = 26,-165
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 3
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, Charge Ball FX 3]
type = Explod
trigger1 = time = 56
anim = 2007
id = 2007
pos = 18,-180
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 3
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 1900, dust]
type = null;explod
triggerall = !NumExplod(908)
trigger1 = time=12
anim = 908+(var(2)=0)
id = 908
pos = 25,5
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
sprpriority = 4
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
removetime = 66 ;-2

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 2001
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;H.RAIN - Launch
[Statedef 2001]
type = S
physics = S
movetype = A
anim = 2001
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0

[State 0, PlaySnd] ;bye bye!
type = PlaySnd
trigger1 = !time
value = 4100,random%4
channel = 0
ignorehitpause = 1
volumescale = 255
;persistent =

[State 0, Spark FX]
type = Explod
trigger1 = !time
anim = 2004
id = 2004
pos = 0,-179
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 36
sprpriority = 10
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 4106, Launch Sound]
type = PlaySnd
trigger1 = time=6
value = 2010, 3

[State 4101, Temp Blast helper]
type = helper
trigger1 = time = 6
trigger2 = time = 11;12
trigger3 = time = 16;18
trigger4 = time = 21;24
trigger5 = time = 26;30
trigger6 = time = 31;36
trigger7 = time = 36
helpertype = normal
stateno = 2010
ID = 2010
name = "Heavy Rain Blast"
postype = p1
pos = 3,-151
ownpal = 1

[State 4101, Temp Blast helper offscreen]
type = helper
trigger1 = time = 6
trigger2 = time = 11;12
trigger3 = time = 16;18
trigger4 = time = 21;24
trigger5 = time = 26;30
trigger6 = time = 31;36
trigger7 = time = 36
helpertype = normal
stateno = 2010
ID = 2011
name = "Heavy Rain OFF"
postype = p1
pos = 3,-951
ownpal = 1

[State 3000, end]
type = changestate
trigger1 = time=36
value = 2002
ctrl = 0

;H.RAIN - End
[Statedef 2002]
type = S
physics = S
movetype = I
anim = 2002
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =



;===========================================================================
; <<<<< VICE SHOT GROUND >>>>>
; State beginning : 2100
; State launch : 2101
; Helper : 2102
; Return & land : 2120
;===========================================================================
; Ground Vice Shot
[Statedef 2100]
type = A
physics = N
movetype = A
anim = 2100
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,0,-1000)
facep2 = 1

[State 2300, superpause]
type = superpause
triggerall = prevstateno=450 ;c.SK
trigger1 = !time
time = 4
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2000,0
darken = 0
movetime = 4

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 0, reset VS hitcount]
type = VarSet
trigger1 = !time
var(36)=1
;ignorehitpause =
;persistent =

; Teleport Helper
[State -2, Teleport Helper]
type = helper
trigger1 = AnimElemTime(2)=0
stateno = 2160
ID = 2160
postype = p1
pos =  0,0
helpertype = normal
name = "teleport,helper"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0


[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 2302,0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(3)=0
y = -100
ignorehitpause = 1
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2100,0 ;s2000,0
darken = 0
movetime = 40

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2101)
trigger1 = time = 5
anim = 2101
id = 2101
pos = 0,0
postype = p1
supermovetime = 0;9999
pausemovetime = 0;9999
supermove = 1
removetime = 40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 0, Super FX]
type = Explod
trigger1 = time = 7
anim = 2005
id = 2005
pos = -55,35
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3121, PlaySnd]  ;"Vice!"
type = PlaySnd
trigger1 = time = 30
value = 2110,random%2
channel = 0

[State 3000, end]
type = changestate
trigger1 = time = 45
value = 2101
ctrl = 0

;-------------------------
;Launch Vice Shot
[Statedef 2101]
type = A
physics = N
movetype = A
anim = 2102
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2103)
trigger1 = !time
anim = 2103
id = 2103
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 0 ;1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Vice Shot Helper]
type = helper
triggerall = !NumHelper(2150)
trigger1 = !time
helpertype = normal
stateno = 2150
ID = 2150
name = "Vice Shot"
postype = p1
pos = 55,-80 ;TEMP
ownpal = 1


[State 3000, end]
type = changestate
trigger1 = !animtime
value = 2120 ;50
ctrl = 0

;---------------------------
;Return & Landing from Aerial move

[Statedef 2120]
type = A
physics = N
movetype = I
anim = 44
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = prevstateno=4102 ;Finisher 1
value = 0
movecamera = 1,0
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno=2600 ;Madman's Ball Lv1
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
;persistent =


[State 40, 4]; fall
type = Veladd
trigger1 = anim = 44
Y = 0.9

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 44
trigger1 = Pos Y = 0
value = 2120

[State 4001, Stop]
type = VelSet
trigger1 = Vel Y > abs(Pos Y)
Y = 0

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2120
X = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2120
persistent = 0
statetype = S
physics = N

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2120
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2120
anim=17100
id=17100
pos=7,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2120
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; <<<<< VICE SHOT AIR >>>>>
; State beginning : 2200
; State launch : 2201
; Helper : 2102
;===========================================================================
; Air Vice Shot
[Statedef 2200]
type = A
physics = N
movetype = A
anim = 2200
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,0,-1000)
facep2 = 1

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 0, reset VS hitcount]
type = VarSet
trigger1 = !time
var(36)=1
;ignorehitpause =
;persistent =

; Teleport Helper
[State -2, Teleport Helper]
type = helper
trigger1 = AnimElemTime(2)=0
stateno = 2160
ID = 2160
postype = p1
pos =  0,0
helpertype = normal
name = "teleport helper"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0


[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 2302,0

[State 0, PosSet]
type = PosSet
trigger1 = AnimElemTime(3)=0
y = 0
ignorehitpause = 1
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2100,0 ;s2000,0
darken = 0
movetime = 40

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2201)
trigger1 = time = 5
anim = 2201
id = 2201
pos = 0,0
postype = p1
supermovetime = 0;9999
pausemovetime = 0;9999
supermove = 1
removetime = 40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 0, Super FX]
type = Explod
trigger1 = time = 7
anim = 2005
id = 2005
pos = -55,15
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3121, PlaySnd]  ;"Vice!"
type = PlaySnd
trigger1 = time = 30
value = 2110,random%2
channel = 0

[State 3000, end]
type = changestate
trigger1 = time = 45
value = 2201
ctrl = 0

;-------------------------
; Air Launch Vice Shot
[Statedef 2201]
type = A
physics = N
movetype = A
anim = 2202
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2203)
trigger1 = !time
anim = 2203
id = 2203
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 0 ;1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Vice Shot Helper]
type = helper
triggerall = !NumHelper(2150)
trigger1 = !time
helpertype = normal
stateno = 2250
ID = 2150
name = "Air Vice Shot"
postype = p1
pos = 55,-100 ;TEMP
ownpal = 1


[State 3000, end]
type = changestate
trigger1 = !animtime
value = 0 ;2120 ;50
ctrl = 1
;===========================================================================
; <<<<< GACKT >>>>>
; State : 2300
; Helper : 2310
;===========================================================================
;GACKT! Lv1
[Statedef 2300]
type = S
physics = S
movetype = A
anim = 2300
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,0,-1000)
;facep2 = 1

[State 2300, superpause]
type = superpause
triggerall = prevstateno=1000 ;Burp Fireball
trigger1 = !time
time = 5
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2000,0
darken = 0
movetime = 5

[State 3000, width]
type = width
trigger1 = 1
value = 30,0

[State 2300, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 2300, charge variable]
type = VarSet
trigger1 = !time
var(21) = 7

[State 2300, AssertSpecial]
type = AssertSpecial
trigger1 = time<=45 ;animelemtime(5)<0
flag = noBG
flag2 = noFG
persistent=0

[State 2300, nhb]
type = nothitby
trigger1 = time<=45 ;animelemtime(5)<0
time = 1
value = SCA
;persistent=0

[State 2300, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2300, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 2300, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2005
id = 2005
pos = -155, 70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2300, charge SND]
type = playsnd
trigger1 = time = 5
value = 2310,0

[State 1900, dust]
type = explod
triggerall = !NumExplod(908)
triggerall = time>=40
trigger1 = command="holdx"
trigger2 = command="holdy"
trigger3 = command="holdz"
trigger4 = AILevel>0 ;AI will always charge as much as possible
anim = 908+(var(2)=0)
id = 908
pos = 8,10
scale = 0.75,0.75
sprpriority = 4
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
removetime = -2

[State 0, VarAdd]
type = VarAdd
triggerall = time>40
triggerall = time%20=0
trigger1 = command="holdx"
trigger2 = command="holdy"
trigger3 = command="holdz"
trigger4 = AILevel>0 ;AI will always charge as much as possible
var(21)= 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd] ;hold charge
type = PlaySnd
trigger1 = time=41
value = 2310,3
channel = 5
loop = 1
ignorehitpause = 1

[State 2300, to launch]
type = ChangeState
triggerall = AILevel<=0
triggerall = time >= 50
trigger1 = command!="holdx"
trigger1 = command!="holdy"
trigger1 = command!="holdz"
trigger2 = var(21)>=15 ;Gackt Limit
value = 2301
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 2300, AI to launch]
type = ChangeState
triggerall = AILevel>0
triggerall = time >= 50
trigger1 = p2bodydist x<=110 ;enemy too close
trigger2 = var(21)>=15 ;Gackt Limit
trigger3 = enemynear,movetype=A ;Enemy attacking
value = 2301
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;Gackt Launch
[Statedef 2301]
type = S
physics = S
movetype = A
anim = 2301
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0
;facep2 = 1

[State 0, StopSnd] ;stop hold charge
type = StopSnd
trigger1 = !time
channel = 5
ignorehitpause = 1
;persistent =


[State 3000, width]
type = width
trigger1 = 1
value = 30,0

[State 2300, voice SND]
type = playsnd
triggerall = Anim=2301
trigger1 = AnimElemtime(1)=0
value = 2310,4
channel = 0

[State 2301, Gackt Beam]
type = helper
triggerall = Anim=2301
trigger1 = AnimElemtime(2)=0
helpertype = normal
stateno = 2310
ID = 2310
name = "gackt"
postype = p1
pos = 0,0 ;90,-120
ownpal = 1

[State 2300, launch SND]
type = playsnd
triggerall = Anim=2301
trigger1 = AnimElemtime(2)=0
value = 2310,1

[State 0, ChangeAnim - UUF]
type = ChangeAnim
triggerall = Anim=2301
trigger1 = !animtime
value = 2302
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim - UFF]
type = ChangeAnim
triggerall = Anim=2302
trigger1 = !animtime
value = 2303
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim - FFF0]
type = ChangeAnim
triggerall = Anim=2303
trigger1 = !animtime
value = 2304
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim - FFF]
type = ChangeAnim
triggerall = Anim=2304
trigger1 = !animtime
value = 2305
ignorehitpause = 1
;persistent =


[State 2301, Hold UP]
type = null; ChangeAnim
triggerall = Anim=2301
triggerall = AnimElemtime(3)>=0
trigger1 = (command="up") || (command="holdup")
value = 2301
elem = 3
ignorehitpause = 1
;persistent =

[State 2301, NO Hold UP]
type = null ;ChangeAnim
triggerall = Anim=2301 && !animtime
trigger1 = (command!="up") && (command!="holdup")
value = 2302
ignorehitpause = 1
;persistent =

[State 2301, VelSet U]
type = VelSet
triggerall = NumHelper(2311)
trigger1 = Helper(2311),Anim=2314
trigger2 = Helper(2311),Anim=2315
x = 2*const(velocity.walk.back.x)
y = 0
;ignorehitpause =
persistent = 0

[State 2301, VelSet F]
type = VelSet
triggerall = NumHelper(2311)
trigger1 = Helper(2311),Anim=2311
trigger2 = Helper(2311),Anim=2312
trigger3 = Helper(2311),Anim=2313
x = 2*const(velocity.run.back.x)
y = 0
;ignorehitpause =
persistent = 0

[State 2301, end]
type = changestate
triggerall = time>20
trigger1 = !NumHelper(2310)
value = 2302
ctrl = 0

;Gackt End
[Statedef 2302]
type = S
physics = S
movetype = I
anim = 2306
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0
;facep2 = 1

[State 2302, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =

;===========================================================================
; <<<<< LV2 VICE SHOT GROUND >>>>>
; Beginning : 2400
; Launch : 2401
; Combo : 2402
; P2 hit (custom state: 2410
; Helper : 2450,2451,2452
; Return & land : 2420
;===========================================================================
; G.Vice Shot LV2
[Statedef 2400]
type = A
physics = N
movetype = A
anim = 2100
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,-1000,-2000)
facep2 = 1

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 2400, reset VS hitcount]
type = VarSet
trigger1 = !time
var(36)=1
;ignorehitpause =
;persistent =

; Teleport Helper
[State -2, Teleport Helper]
type = helper
trigger1 = AnimElemTime(2)=0
stateno = 2160
ID = 2160
postype = p1
pos =  0,0
helpertype = normal
name = "teleport,helper"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0


[State 2400, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 2302,0

[State 2400, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(3)=0
y = -100
ignorehitpause = 1
;persistent =


[State 2400, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 2400, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 2400, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2100,0 ;s2000,0
darken = 0
movetime = 40

[State 2400, Front Arm]
type = Explod
triggerall = !NumExplod(2101)
trigger1 = time = 5
anim = 2101
id = 2101
pos = 0,0
postype = p1
supermovetime = 0;9999
pausemovetime = 0;9999
supermove = 1
removetime = 40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2400, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX]
type = Explod
trigger1 = time = 7
anim = 2442 ;2440 ;Anim 2442 is 6 ticks longer!
id = 2440
pos = 57,-72
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3121, PlaySnd]  ;"Ill Will!"
type = PlaySnd
trigger1 = time = 30
value = 2110,2+random%2
channel = 0

[State 2400, end]
type = changestate
trigger1 = time = 45
value = 2401
ctrl = 0

;-------------------------
;Launch Vice Shot
[Statedef 2401]
type = A
physics = N
movetype = A
anim = 2400
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2401, Front Arm]
type = Explod
triggerall = !NumExplod(2103)
trigger1 = !time
anim = 2103
id = 2103
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 0 ;1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2401, RemoveExplod] ;Lv2 spark
type = RemoveExplod
trigger1 = !time
id =  2440
ignorehitpause = 1
;persistent =


[State 2401, Vice Shot Helper 1]
type = helper
triggerall = !NumHelper(2450)
trigger1 = !time
helpertype = normal
stateno = 2450
ID = 2450
name = "Vice Shot"
postype = p1
pos = 55,-80 ;TEMP
ownpal = 1

[State 2401, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2400
trigger1 = !animtime
value = 44
;elem = 1
ignorehitpause = 1
;persistent =


[State 2401, VelAdd]
type = veladd
trigger1 = Anim = 44
trigger1 = AnimElemTime(1)>0
y = const(movement.yaccel)/2.0
;Y = 0.9

[State 2401, bgpalfx1] ;darkening combo
type = bgpalfx
trigger1 = var(36)>=5
time = 1
color=0
mul=0,0,0

[State 2401, AssertSpecial]
type = AssertSpecial
trigger1 = var(36)>=5
flag = noBG
flag2 = noFG

[State 2401, ChangeAnim] ;change to teleport
type = ChangeAnim
trigger1 = Anim=44;2400
trigger1 = var(36)>=5
value = 2401
;elem = 1
ignorehitpause = 1
;persistent = 0

[State 2401, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Anim=2401
trigger1 = AnimElemTime(1)=0
value = 2302,0

[State 2401, end]
type = changestate
trigger1 = Anim=2401
trigger1 = !animtime
value = 2402
ctrl = 0

[State 2401, end]
type = changestate
trigger1 = NumHelper(2450)
trigger1 = helper(2450),StateNo=2451
trigger1 = helper(2450),Time>=15
trigger1 = time>0 ;=60
trigger2 = Anim=44
trigger2 = pos y>0
value = 2420 ;50
ctrl = 0

;LV2 VS Combo
[Statedef 2402]
type = A
physics = N
movetype = A
ctrl = 0
;anim = 9999
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, VarSet] ;combo keeper
type = VarSet
trigger1 = !Time
var(35) = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = Var(35)
persistent = 0
[State 2402, ChangeAnim] ;Freeze anim until VS1 disappears
type = ChangeAnim
;trigger1 = NumHelper(2450) 
trigger1 = NumHelper(2450)
trigger1 = helper(2450),StateNo=2451
trigger1 = helper(2450),Time>=15  ;fail safe
trigger2 = !NumHelper(2450)			   
value = 2402
elem = 1
ignorehitpause = 1
persistent = 0

[State 2402, bgpalfx1] ;darkening combo
type = bgpalfx
trigger1 = !NumHelper(2150)
;trigger1 = AnimElemTime(5)<=0
time = 1
color=0
mul=0,0,0

[State 2402, AssertSpecial]
type = AssertSpecial
trigger1 = NumHelper(2450)
trigger1 = helper(2450),StateNo=2451
trigger1 = helper(2450),Time>=15 
trigger2 = !NumHelper(2450)
;trigger1 = AnimElemTime(5)<=0
flag = noBG
flag2 = noFG

[State 2402, PosAdd]
type = PosSet
;trigger1 = NumHelper(2450)
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
x = 150*facing ;(helper(2450),screenpos X)+120*facing
y = 0 ;(helper(2450),pos Y) ;0
ignorehitpause = 1
;persistent =

[State 2402, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
value = 2302,0

[State 2402, Turn] ;face P2
type = Turn
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
ignorehitpause = 1
;persistent =

[State 2402, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 2402, superpause]
type = superpause
trigger1 = Anim=2402
trigger1 = AnimElemTime(5)=0 ;time=5
trigger1 = P2StateNo != [120,155]
time = 10; 5 ;65 ;40
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2100,0 ;s2000,0
darken = 0
movetime = 10 ;5 ;65 ;40

[State 2402, Front Arm]
type = Explod
trigger1 = Anim=2402
triggerall = !NumExplod(2201)
trigger1 = AnimElemTime(5)=0 ;time = 5
anim = 2201
id = 2201
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1 ;40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2402, reset VS hitcount]
type = VarSet
trigger1 = Anim=2402
trigger1 = AnimElemTime(5)=0 ;time=6
var(36)=1
ignorehitpause = 1
;persistent =

[State 2402, Hyper Charge FX]
type = null;Explod
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0 ;time = 7
anim = 2440
id = 2440
pos = 52,-92
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2402, PlaySnd]  ;Peekaboo
type = PlaySnd
triggerall = gametime%2=0
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0
value = 300,random%2

[State 2402, PlaySnd]  ;Tada!!
type = PlaySnd
triggerall = gametime%2=1
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0
value = 410,5+random%2

[State 2402, ChangeAnim] ;launch anim
type = ChangeAnim
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)>0
;trigger1 = NumHelper(2150)
trigger1 = !NumExplod(2440) ;Helper(2150),vel x!=0
value = 2403
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Anim=2403
id = 2201
ignorehitpause = 1
;persistent =

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2203)
trigger1 = Anim=2403
;trigger1 = AnimElemtime(1)=0
anim = 2203
id = 2203
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Vice Shot Helper 2]
type = helper
trigger1 = Anim=2403
trigger1 = AnimElemTime(1)=0 ;time = 7
helpertype = normal
stateno = 2250
ID = 2150
name = "Air Vice Shot"
postype = p1
pos = 55,-100 ;TEMP
ownpal = 1
supermovetime = 9999
pausemovetime = 9999



[State 3000, end]
type = changestate
trigger1 = Anim=2403
trigger1 = !animtime; = 145
value = 2420
ctrl = 0


;P2 hit by LV2 VS
[Statedef 2410]
type = U ;S
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 2410, AssertSpecial]
type = null ;AssertSpecial
trigger1 = enemy,name="Buu Z2"
trigger1 = enemy,authorname="Team Z2"
;trigger1 = enemy,NumHelper(2450) ;!time
trigger1 = enemy,NumProjId(2450)
flag = invisible
ignorehitpause = 1
persistent = 0

[State 2410, Pos]
type = posset
trigger1 = enemy,name="Buu Z2"
trigger1 = enemy,authorname="Team Z2"
;trigger1 = enemy,NumHelper(2450) ;!time
trigger1 = enemy,NumProjId(2450)
x = 70*facing;0
;y = pos Y

[State 2410, go to common hitstate]    ;Satan Specific
type = SelfState
triggerall = enemy,name="Buu Z2"
triggerall = enemy,authorname="Team Z2"
Triggerall = Name="Shin Satan Z2"
trigger1 = time=50-20*(enemy,stateno=2402)-20*(Anim=[12000,12082]);-12*(Anim=[120,155]);!Time
value = IfElse((Anim=[12000,12082]),120,5020) ;5020 ;5100

[State 2410, go to common hitstate]
type = SelfState
triggerall = enemy,name="Buu Z2"
triggerall = enemy,authorname="Team Z2"
triggerall = Name!="Shin Satan Z2"
trigger1 = time=50-20*(enemy,stateno=2402)-20*(Anim=[120,155]);-12*(Anim=[120,155]);!Time
value = cond((Anim=[120,155]),120,5020) ;5020 ;5100

;---------------------------
;Return & Landing from Aerial move
[Statedef 2420]
type = A
physics = N
movetype = I
anim = 44
ctrl = 0
sprpriority = 2

[State 40, 4]; fall
type = Veladd
trigger1 = anim = 44
Y = 0.9

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 44
trigger1 = Pos Y = 0
value = 2120

[State 4001, Stop]
type = VelSet
trigger1 = Vel Y > abs(Pos Y)
Y = 0

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2120
X = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2120
persistent = 0
statetype = S
physics = N

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2120
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2120
anim=17100
id=17100
pos=7,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 2401, bgpalfx1] ;darkening combo
type = bgpalfx
triggerall = prevstateno!=2402
triggerall = prevstateno!=2462
trigger1 = var(36)>=5
time = 1
color=0
mul=0,0,0

[State 2401, AssertSpecial]
type = AssertSpecial
triggerall = prevstateno!=2402
triggerall = prevstateno!=2462
trigger1 = var(36)>=5
flag = noBG
flag2 = noFG

[State 2401, ChangeAnim] ;change to teleport
type = ChangeAnim
triggerall = prevstateno!=2402
triggerall = prevstateno!=2462
triggerall = var(36)>=5
trigger1 = Anim=44;2400
trigger2 = Anim=2120
value = 2401
;elem = 1
ignorehitpause = 1
;persistent = 0

[State 2401, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Anim=2401
trigger1 = AnimElemTime(1)=0
value = 2302,0

[State 2401, end]
type = changestate
trigger1 = Anim=2401
trigger1 = !animtime
value = 2402
ctrl = 0

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2120
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; <<<<< LV2 VICE SHOT AERIAL >>>>>
; Beginning : 2460
; Launch : 2461
; Combo : 2462
; P2 hit (custom state: 2410
; Helper : 2450,2451,2452
; Return & land : 2420
;===========================================================================
; A.Vice Shot LV2
[Statedef 2460]
type = A
physics = N
movetype = A
anim = 2200
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,-1000,-2000)
facep2 = 1

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 2400, reset VS hitcount]
type = VarSet
trigger1 = !time
var(36)=1
;ignorehitpause =
;persistent =

; Teleport Helper
[State -2, Teleport Helper]
type = helper
trigger1 = AnimElemTime(2)=0
stateno = 2160
ID = 2160
postype = p1
pos =  0,0
helpertype = normal
name = "teleport,helper"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 2302,0

[State 0, PosSet]
type = PosSet
trigger1 = AnimElemTime(3)=0
y = 0
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2100,0 ;s2000,0
darken = 0
movetime = 40

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2201)
trigger1 = time = 5
anim = 2201
id = 2201
pos = 0,0
postype = p1
supermovetime = 0;9999
pausemovetime = 0;9999
supermove = 1
removetime = 40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX]
type = Explod
trigger1 = time = 7
anim = 2442 ;2440 ;Anim 2442 is 6 ticks longer!
id = 2440
pos = 57,-97
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3121, PlaySnd]  ;"Ill Will!"
type = PlaySnd
trigger1 = time = 30
value = 2110,2+random%2
channel = 0

[State 2400, end]
type = changestate
trigger1 = time = 45
value = 2461
ctrl = 0

;-------------------------
;Launch A.Vice Shot
[Statedef 2461]
type = A
physics = N
movetype = A
anim = 2460
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2203)
trigger1 = !time
anim = 2203
id = 2203
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 0 ;1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2401, RemoveExplod] ;Lv2 spark
type = RemoveExplod
trigger1 = !time
id =  2440
ignorehitpause = 1
;persistent =


[State 2401, Vice Shot Helper 1]
type = null; helper
triggerall = !NumHelper(2450)
trigger1 = !time
helpertype = normal
stateno = 2450
ID = 2450
name = "Vice Shot"
postype = p1
pos = 55,-80 ;TEMP
ownpal = 1

[State 3000, Vice Shot Helper]
type = helper
triggerall = !NumHelper(2450)
trigger1 = !time
helpertype = normal
stateno = 2470
ID = 2450
name = "Air Vice Shot"
postype = p1
pos = 55,-100 ;TEMP
ownpal = 1

[State 2401, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2460
trigger1 = !animtime
value = 44
;elem = 1
ignorehitpause = 1
;persistent =


[State 2401, VelAdd]
type = veladd
trigger1 = Anim = 44
trigger1 = AnimElemTime(1)>0
y = const(movement.yaccel)/2.0
;Y = 0.9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=44
trigger1 = pos y>0
value = 0
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = Anim=0
y = 0
ignorehitpause = 1
persistent = 0

[State 2401, bgpalfx1] ;darkening combo
type = bgpalfx
trigger1 = var(36)>=5
time = 1
color=0
mul=0,0,0

[State 2401, AssertSpecial]
type = AssertSpecial
trigger1 = var(36)>=5
flag = noBG
flag2 = noFG

[State 2401, ChangeAnim] ;change to teleport
type = ChangeAnim
trigger1 = Anim=0 ;44;2400
trigger1 = var(36)>=5
value = 2401
;elem = 1
ignorehitpause = 1
;persistent = 0

[State 2401, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Anim=2401
trigger1 = AnimElemTime(1)=0
value = 2302,0

[State 2401, end]
type = changestate
trigger1 = Anim=2401
trigger1 = !animtime
value = 2462
ctrl = 0

[State 2401, end]
type = changestate
trigger1 = NumHelper(2450)
trigger1 = helper(2450),StateNo=2471
trigger1 = helper(2450),Time>=15
trigger1 = time>0
trigger2 = !NumHelper(2450);time>50
value = 0 ;2420 ;50
ctrl = 1

;LV2 VS Combo
[Statedef 2462]
type = A
physics = N
movetype = A
ctrl = 0
;anim = 9999
velset = 0,0
sprpriority = 1
facep2 = 1

[State 2402, ChangeAnim] ;Freeze anim until VS1 disappears
type = ChangeAnim
triggerall = NumHelper(2450)
trigger1 = helper(2450),StateNo=2471
trigger1 = helper(2450),Time<=23
trigger2 = helper(2450),StateNo = 2470
value = 2402
elem = 1
ignorehitpause = 1
;persistent = 0

[State 2402, bgpalfx1] ;darkening combo
type = bgpalfx
trigger1 = !NumHelper(2150)
;trigger1 = AnimElemTime(5)<=0
time = 1
color=0
mul=0,0,0

[State 2402, AssertSpecial]
type = AssertSpecial
trigger1 = NumHelper(2450)
trigger1 = helper(2450),StateNo=2471
trigger1 = helper(2450),Time>=15
trigger2 = !NumHelper(2450)
;trigger1 = AnimElemTime(5)<=0
flag = noBG
flag2 = noFG

[State 2402, PosAdd]
type = PosSet
;trigger1 = NumHelper(2450)
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
x = 150*facing ;(helper(2450),screenpos X)+120*facing
y = -100 ;(helper(2450),pos Y) ;0
ignorehitpause = 1
;persistent =

[State 2402, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
value = 2302,0

[State 2402, Turn] ;face P2
type = Turn
trigger1 = Anim=2402
trigger1 = AnimElemTime(3)=0
ignorehitpause = 1
;persistent =

[State 2402, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 2402, superpause]
type = superpause
trigger1 = Anim=2402
trigger1 = AnimElemTime(5)=0 ;time=5
trigger1 = P2StateNo != [120,155]
time = 5 ;65 ;40
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2100,0 ;s2000,0
darken = 0
movetime = 5 ;65 ;40

[State 2402, Front Arm]
type = Explod
trigger1 = Anim=2402
triggerall = !NumExplod(2201)
trigger1 = AnimElemTime(5)=0 ;time = 5
anim = 2201
id = 2201
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1 ;40
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2402, reset VS hitcount]
type = VarSet
trigger1 = Anim=2402
trigger1 = AnimElemTime(5)=0 ;time=6
var(36)=1
ignorehitpause = 1
;persistent =

[State 2402, Hyper Charge FX]
type = null ;Explod
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0 ;time = 7
anim = 2440
id = 2440
pos = 52,-92
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2402, PlaySnd]  ;Peekaboo
type = PlaySnd
triggerall = gametime%2=0
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0
value = 300,random%2

[State 2402, PlaySnd]  ;Tada!!
type = PlaySnd
triggerall = gametime%2=1
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)=0
value = 410,5+random%2

[State 2402, ChangeAnim] ;launch anim
type = ChangeAnim
trigger1 = Anim=2402
trigger1 = AnimElemTime(6)>0
;trigger1 = NumHelper(2150)
trigger1 = !NumExplod(2440) ;Helper(2150),vel x!=0
value = 2403
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Anim=2403
id = 2201
ignorehitpause = 1
;persistent =

[State 0, Front Arm]
type = Explod
triggerall = !NumExplod(2203)
trigger1 = Anim=2403
;trigger1 = AnimElemtime(1)=0
anim = 2203
id = 2203
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = -1
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Vice Shot Helper 2]
type = null;helper
trigger1 = Anim=2403
trigger1 = AnimElemTime(1)=0 ;time = 7
helpertype = normal
stateno = 2250
ID = 2150
name = "Air Vice Shot"
postype = p1
pos = 55,-100 ;TEMP
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 3000, Vice Shot Helper]
type = helper
triggerall = Anim=2403
trigger1 = AnimElemTime(1)=0
helpertype = normal
stateno = 2150
ID = 2150
name = "Vice Shot"
postype = p1
pos = 55,-80 ;TEMP
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 3000, end]
type = changestate
trigger1 = Anim=2403
trigger1 = !animtime; = 145
value = 2420
ctrl = 0

;Pain Train Lv1
[Statedef 2500]
type = S
physics = S
movetype = I
anim = 2500
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,0,-1000)
facep2 = 1

[State 2300, superpause]
type = superpause
triggerall = prevstateno=450 ;c.SK
trigger1 = !time
time = 4
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2000,0
darken = 0
movetime = 4


[State -2, EMO SHIELD]  ;TEMP
type = helper
triggerall = !NumHelper(915)
trigger1 = AnimElemtime(1)=0
ID = 915
stateno = 915
pos = 0, 0
postype = p1
helpertype = normal
name = "EMO"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 7
ownpal = 1
keyctrl = 0
ignorehitpause = 1

[State -2, Pain Train NotHitBy]
type = NotHitBy
trigger1 = NumHelper(915)
value = SCA,NA,SA,NP,SP,NT,ST
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 2300, disable rage mode]
type = VarSet
trigger1 = !time
var(32) = 0

[State 3200, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3200, superpause]
type = superpause
trigger1 = time = 5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 3200, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3200, nhb]
type = nothitby
trigger1 = animelemtime(5) < 0
time = 1
value = SCA

[State 3200, Hyper Charge FX 1]
type = Explod
trigger1 = time = 5
anim = 2005
id = 2005
pos = -90, 49
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3200, Hyper Charge FX 2]
type = Explod
trigger1 = time = 5
anim = 2005
id = 2005
pos = -150, 56
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 181, Pain!] ;here comes the pain train
type = playsnd
trigger1 = random%2=0
trigger1 = time = 5
value = 2500,random%2
volumescale = 300
channel = 0

[State -2, Aura Pain] ;TEMP
type = helper
triggerall = !NumHelper(2509)
trigger1 = time = 7
ID = 2509
stateno = 2509
pos = 0, 0
postype = p1
helpertype = normal
name = "Pain Aura"
pausemovetime = 999999
supermovetime = 999999
sprpriority = -7
ownpal = 1
keyctrl = 0
ignorehitpause = 1


[State 183, face A] ;old face
type = null;Explod
trigger1 = time =7 ;!time
anim =  1835
ID =  1835
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 2
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 181, Pain!] ;Choo choo!
type = playsnd
trigger1 = time=30
value = 2501,random%3
volumescale = 300
channel = 0
lowpriority = 1

[State 2300, to launch]
type = ChangeState
trigger1 = time = 60 ;110
value = 2501
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;Pain Train Lv1 Dash
[Statedef 2501]
type = S
physics = N ;S
movetype = A
anim = 2501
ctrl = 0
velset = 0,0
sprpriority = 10
poweradd = 0
facep2 = 1

[State -2, Pain Train NotHitBy]
type = NotHitBy
trigger1 = NumHelper(915)
value = SCA,NA,SA,NP,SP,NT,ST
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 3321, shake]
type = EnvShake
trigger1 = (Time%10) = 0
time = 10
freq = 0+10*ceil(Time/10)
ampl = ceil(Time/10)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 0, Remove face]
type = RemoveExplod
trigger1 = !time
id = 1835
ignorehitpause = 1
;persistent =

[State 0, VarSet]
type = null;VarSet
trigger1 = !time
var(3) = 0
ignorehitpause = 1
;persistent =

[State -2, Pain Steam] ;TEMP
type = helper
;triggerall = !NumHelper(2508)
trigger1 = time>20 ;!time
trigger1 = time%7=0
ID = 2508
stateno = 2508
pos = 0, 0
;pos = 40+random%5,-70-random%5
postype = p1
helpertype = normal
name = "Pain Steam"
pausemovetime = 999999
supermovetime = 999999
sprpriority = 7
ownpal = 1
keyctrl = 0
ignorehitpause = 1


[State 0, VelSet]
type = VelSet
trigger1 = 1 ;!time
x = Const(velocity.run.fwd.x)
y = 0
;ignorehitpause =
;persistent =

[State 200, 1] ;Blockable
type = HitDef
trigger1 = time=[0,20]
attr = S, HA
;damage = 90,0
damage = ceil(cond(fvar(11) * 90 < 45, 45, fvar(11) * 90)), 0
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = 40,-85
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 5,-6.5
guard.velocity = 9
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
yaccel = 0.45
ID = 1098
persistent = 0

[State 200, 1] ;Non blockable
type = HitDef
triggerall = !numtarget
trigger1 = time>20
attr = S, HA
;damage = 90,0
damage = ceil(cond(fvar(11) * 90 < 45, 45, fvar(11) * 90)), 0
hitflag = MAFD
;guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = 40,-85
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 5,-6.5
guard.velocity = 9
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
yaccel = 0.45
ID = 1098
persistent = 0

[State 181, Walk!] ;Godzilla Walk
type = playsnd
trigger1 = time = 5
value = 2501,10
volumescale = 255
channel = 1

[State 181, Walk!] ;Godzilla Walk
type = playsnd
trigger1 = time = 8
value = 2501,10
volumescale = 255
channel = 2

[State 181, Walk!] ;Godzilla Walk
type = playsnd
trigger1 = time = 15
value = 2501,10
volumescale = 255
channel = 3

[State 0, TargetState]
type = TargetState
triggerall = Numtarget
trigger1 = movehit
value = 2511
ID = -1
ignorehitpause = 1
persistent = 0

[State -2, dash Sound loop]
type = PlaySnd
trigger1 = numtarget
trigger1 = target,Anim=2511
trigger1= target,AnimElemtime(3)=0
value = 2501,11
volumescale = 300
loop = 1
channel = 5
ignorehitpause = 1

[State 810, bind]
type=targetbind
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1= target,AnimElemtime(2)<=0 && target,AnimElemtime(3)<0
pos = 45,-35
ignorehitpause = 1

[State 810, bind]
type=targetbind
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1= target,AnimElemtime(3)>=0
pos = 35,-5
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1 = target,AnimElemtime(4)>=0
trigger1 = time%10=0
value = -12
ID = -1
kill = 1
absolute = 0
ignorehitpause = 1
;persistent =


[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1 = target,AnimElemtime(4)>=0
trigger1 = time%10=0
ID = 7020
anim=7010+10*(random%3)
sprpriority=10
postype= left
pos= ceil(target,screenpos X)-random%20,ceil(target,screenpos Y)-random%20
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1 = target,AnimElemtime(4)>=0
trigger1 = time%10=0
value = 5,random%6
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =

[State 0, HitAdd]
type = HitAdd
triggerall = Numtarget
trigger1 = target,Anim=2511
trigger1 = target,AnimElemtime(4)>=0
trigger1 = time%10=0
value = 1
;ignorehitpause =
;persistent =


[state 1215, Smoke FX]
type = explod
triggerall = !NumExplod(2512)
trigger1 = numtarget
trigger1 = target,Anim=2511
trigger1= target,AnimElemtime(3)=0
anim = 10000
id = 2512
pos = 35,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -1
bindtime = -1
persistent = 0
ignorehitpause = 1
scale = .8,.8

[State 3554, Exclamation]
type = Explod
trigger1 = Movehit
anim = 3559
id = 3559
pos = 30,-60
postype = p1
sprpriority = 5
bindtime = -1
scale = 1,1
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
persistent = 0
ontop = 1

[State 13100, shake]
type = envshake
trigger1 = movehit
time = 12
freq = 80
ampl = 6
ignorehitpause = 1
persistent = 0

;[State 800, Level 2 Pain Train]
;type = null;VarSet
;trigger1 = time > 1
;trigger1 = command = "start" || (command = "2qcfa") || (command = "2qcfb") || (command = "2qcfc")
;trigger1 = power>=1000
;var(3) = 1

[State 0, Wall helper] ; P2 Back
type = helper
triggerall = !NumHelper(2510)
triggerall = FrontEdgeDist < 40;30
trigger1 = time>80
trigger2 = !numtarget ;bounce on whiff
trigger2 = time>15 ;threshold tolerance for whiff
helpertype = normal
stateno = 2510
ID = 2510
name = "Wall"
postype = front
pos = 10,0 ;-100
;persistent = 0
;size.ground.back = 5
;size.ground.front = 5
;size.height = 240


[State 0, ChangeState]
type = ChangeState
trigger1 = FrontEdgeDist < 20 ;10 ;30
trigger1 = time>90 ;
;trigger2 = time>=120
;trigger2 = time>60 && !numtarget
value = 0 ;2502 ;just in case
ctrl = 1 ;0 ;just in case
;anim =
;ignorehitpause =
;persistent =

;NOT USED Pain Train Lv2 Bounce
[Statedef 2502]
type    = A
movetype= A
physics = N
anim = 2505 ;1403  ;2505
ctrl = 0
sprpriority = 9
poweradd = -1000
facep2 = 1

[State 0, StopSnd] ;Pain Train Walk
type = StopSnd
trigger1 = !time
channel = 1
ignorehitpause = 1
[State 0, StopSnd] ;Pain Train Walk
type = StopSnd
trigger1 = !time
channel = 2
ignorehitpause = 1
[State 0, StopSnd] ;Pain Train Walk
type = StopSnd
trigger1 = !time
channel = 3
ignorehitpause = 1
[State 0, StopSnd] ;Pain Train Slide land
type = StopSnd
trigger1 = !time
channel = 5
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =!time
id = 2512
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 1420, Camera Helper]
type = Helper
triggerall = !NumHelper(1426)
trigger1 = !time
helpertype = normal
name = "Camera"
ID =   1426
stateno = 1426
pos = 0,0 ;-120 ;-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
ignorehitpause = 1
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = !time
x = 0
y = -70
ignorehitpause = 1
;persistent =

[State 2400, AssertSpecial]
type = AssertSpecial
trigger1 = time<=40 ;>=5
flag = noBG
flag2 = noFG

[State 2400, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 2400, superpause]
type = superpause
trigger1 = !time ;=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2400, bgpalfx1]
type = bgpalfx
trigger1 = time=[0,40];[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX]
type = Explod
trigger1 = !time; = 7
anim = 2440
id = 2440
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 10
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

;[State 800, Level 3 Pain Train]
;type = null;VarSet
;trigger1 = time > 1
;trigger1 = command = "start" || (command = "2qcfa") || (command = "2qcfb") || (command = "2qcfc")
;trigger1 = power>=1000
;var(3) = 1

[State 200, 1]
type = HitDef
trigger1 = time>42 ;0
attr = A, HA
;damage = 30,0 ;130,0
damage = ceil(cond(fvar(11) * 30 < 15, 15, fvar(11) * 30)), 0
hitflag = MAFD
;guardflag = MA
priority = 4, Hit
pausetime = 10,15
guard.pausetime = 10,15
sparkno = -1 ;s7030
guard.sparkno = -1 ;s7000
sparkxy = 0,0
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-10),-12
guard.velocity = 9
air.velocity = Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-10),-12
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
yaccel = 0.45
ID = 1098
;persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Numtarget ;hit
trigger1 = target,hitshakeover=0
movetype = I
ignorehitpause = 1
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Numtarget ;hit
trigger1 = target,hitshakeover=1
movetype = A
ignorehitpause = 1
;persistent =

[State 13100, shake]
type = envshake
trigger1 = movehit
time = 12
freq = 80
ampl = 6
ignorehitpause = 1

[State 1061, Velocity 000]
type = VelSet
trigger1 = Time = 42
x = 20
y = -20

[State 0, VelSet V]
type = VelSet
triggerall = Time>42
trigger1 = pos y>=-10
y = -20-random%5
ignorehitpause = 1

[State 0, VelSet >]
type = VelSet
triggerall = Time>42
trigger1 = FrontEdgeDist<=10
x = -20-random%5
ignorehitpause = 1

[State 0, VelSet ^]
type = VelSet
triggerall = Time>42
trigger1 = Screenpos Y <=10
y = 20+random%5
ignorehitpause = 1

[State 0, VelSet <]
type = VelSet
triggerall = Time>42
trigger1 = BackEdgeDist<=10
x = 20+random%5
ignorehitpause = 1

[State 200, bounce snd]
type = PlaySnd
triggerall = Time>42
trigger1 = pos y>=-10
trigger2 = FrontEdgeDist<=10
trigger3 = Screenpos Y <=10
trigger4 = BackEdgeDist<=10
value = 1400,2
volumescale = 100
channel = 8
lowpriority = 1

[State 181, Wee!] ;Wee/Woohoo!
type = playsnd
trigger1 = time=50
trigger2 = time=120
value = 2502,10+random%4
volumescale = 255
channel = 0


[State 3302, Sparks] ;Cybaster way
type=explod
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
anim=7030
sprpriority=7
postype=p2
pos=(target,const(size.ground.front)-15+random%10),ceil((pos y)-(target,pos y)-random%10)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100


[State 0, To Lv3 Pain Train]
type = SelfState
triggerall = !winKO
triggerall = pos Y<-120
trigger1 = var(3)=1 ;combo
trigger1 = time>=200
value = 2503
ctrl = 0
;anim =
ignorehitpause = 1
;persistent =


[State 0, SelfState]
type = SelfState
triggerall = pos Y<-120
trigger1 = var(3)=0 ;no combo
trigger1 = time>=200
trigger2 = winKO
value = 2504
ctrl = 0
ignorehitpause = 1
;persistent = 1

;Pain Train Lv3 Start
[Statedef 2503]
type    = A
movetype= I
physics = N
;anim = 2503
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -1000
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 2503
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemtime(2)=0
value = 2302,0

[State 0, PosAdd]
type = null; PosAdd
trigger1 = !time
x = 0
y = 70
ignorehitpause = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = numtarget
trigger1 = AnimElemtime(3)=0
x = target,pos X
y = (target,pos Y) -150
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !numtarget
trigger1 = AnimElemtime(3)=0
x = (enemynear(0),pos X) ;0
y = (enemynear(0),pos Y) -150
ignorehitpause = 1
;persistent =

[State 2400, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG
flag3 = nobardisplay

[State 2400, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 2400, superpause]
type = superpause
trigger1 = time=5
time = 65 ;40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 65 ;40

[State 2400, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX 1]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = -40,-118
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2400, Hyper Charge FX 2]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = 31,-138
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 0
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time=47
movetype = A        ;I,A,H
ignorehitpause = 1
;persistent =

[State 200, 1]
type = HitDef
trigger1 = time>0
attr = A, HA
;damage = 130,0
damage = ceil(cond(fvar(11) * 130 < 65, 65, fvar(11) * 130)), 0
hitflag = MAFD
;guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = 0,5
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 5,-6.5
guard.velocity = 9
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
fall = 1
air.animtype = back
getpower= 0,0
givepower = 35,35
yaccel = 0.45
ID = 1098
persistent = 0

[State 3554, Exclamation]
type = Explod
trigger1 = Movehit
anim = 3559
id = 3559
pos = 0,-70
postype = p1
sprpriority = 5
bindtime = -1
scale = 1,1
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
persistent = 0
ontop = 1

[State 13100, shake]
type = envshake
trigger1 = movehit
time = 12
freq = 80
ampl = 6
ignorehitpause = 1
persistent = 0

[State 0, Gravity]
type = VelAdd
trigger1 = time>=47
y = const(movement.yaccel)
;ignorehitpause =
;persistent =


[State 1410, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y>50
value = 2504
ctrl = 0
ignorehitpause = 1

;Pain Train Lv2-3 End
[Statedef 2504]
type    = A
movetype= I
physics = N
anim = 2504
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
ignorehitpause = 1
;persistent =

[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = !time
value = 2302,0

[State 0, PosAdd]
type = PosAdd
trigger1 = prevstateno!=2503
trigger1 = !time
x = 0
y = 70
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = numtarget
trigger1 = AnimElemtime(2)=0
x = -(target,pos X)
y = -150
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !numtarget
trigger1 = AnimElemtime(2)=0
x = -(enemynear(0),pos X)
y = -150
ignorehitpause = 1
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = !animtime
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N
ignorehitpause = 1
;persistent =

[State 1410, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1
ignorehitpause = 1

;P2 Hit by Pain Train 1
[Statedef 2511]
type = S
movetype = H
physics = S
;anim = 5011 ;5300
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 0
facep2 = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = -55
ignorehitpause = 1
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = !time
value = 2511
ignorehitpause = 1
;persistent =

[State 0, PosSet];prevent wrong statetype/pos Y on target
type = PosSet
trigger1 = enemy,NumHelper(2510)
y = 0
ignorehitpause = 1
;persistent =

[State 0, SelfState]
type = SelfState
trigger1 = Time=240 ;180
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1

;Madman's Ball Lv1
[Statedef 2600]
type    = A
movetype= A
physics = N
;anim = 2505 ;1403  ;2505
ctrl = 0
sprpriority = 9
;poweradd = -1000
facep2 = 1

[State 0, PowerAdd]
type = PowerAdd
triggerall = !isHelper
trigger1 = !time
value = cond(var(32)>0,0,-1000)
ignorehitpause = 1
;persistent =

[State 0, disable rage mode]
type = VarSet
triggerall = !isHelper
trigger1 = !time
var(32) = 0


[State 0, ScreenBound]
type = ScreenBound
trigger1 = Anim!=1402 ;1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 0, NotHitBy] ;Clone invincible
type = NotHitBy
trigger1 = IsHelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim] ;summon
type = ChangeAnim
trigger1 = !IsHelper
trigger1 = !time
value = 2600
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
;persistent =

[State 0, PlaySnd] ;Mash you to fudge, Pound you to taffy
type = PlaySnd
triggerall = !isHelper
trigger1 = !time
value = 2600,random%4
channel = 0
volumescale = 200
ignorehitpause = 1
;persistent =


[State 2400, superpause]
type = superpause
triggerall = !isHelper
trigger1 = !time ;=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2400, bgpalfx1]
type = bgpalfx
triggerall = !isHelper
trigger1 = time=[0,40];[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX]
type = Explod
triggerall = !isHelper
trigger1 = !time; = 7
anim = 2005 ;2440
id = 2005 ;2440
pos = -107,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 10
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, ChangeAnim] ;to slow
type = ChangeAnim
trigger1 = IsHelper
trigger1 = !time
trigger2 = !IsHelper
trigger2 = Anim=2600
trigger2 = !animtime
value = 2601
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim] ;to fast
type = ChangeAnim
triggerall = Anim=2601
trigger1 = !IsHelper
trigger1 = time=50
trigger2 = IsHelper
trigger2 = !animtime
value = 2602
;elem = 1
ignorehitpause = 1
;persistent =

[State 1420, Camera Helper]
type = Helper
triggerall = !isHelper
triggerall = !NumHelper(1426)
trigger1 = !time
helpertype = normal
name = "Camera"
ID =   1426
stateno = 1426
pos = 160,200 ;0,0 ;-120 ;-70
postype = left ;p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =


[State 0, PosAdd]
type = PosAdd
triggerall = !isHelper
trigger1 = anim=2601 ;!time
trigger1 = AnimElemTime(1)=0
x = 0
y = -70
ignorehitpause = 1
;persistent =

[State 1450, Train]
type = AfterImage
triggerall = isHelper ;TEMP
trigger1 = Time = 0
time = -1 ;86
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

[State 2400, AssertSpecial]
type = AssertSpecial
triggerall = !isHelper
trigger1 = time<=40 ;>=5
flag = noBG
flag2 = noFG

[State 2400, nhb]
type = null;nothitby
trigger1 = 1
time = 1
value = SCA



[State 1420, Clone Helper 1]
type = Helper
triggerall = !NumHelper(2601)
triggerall = !isHelper
trigger1 = time=50
helpertype = normal
name = "Clone 1"
ID =   2601
stateno = 2600
pos = 0,0 ;-120 ;-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =

[State 1420, Clone Helper 2]
type = Helper
triggerall = !NumHelper(2602)
triggerall = isHelper(2601)
trigger1 = time=20
helpertype = normal
name = "Clone 2"
ID =   2602
stateno = 2600
pos = 0,0 ;-120 ;-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =

[State 1420, Clone Helper 3]
type = Helper
triggerall = !NumHelper(2603)
triggerall = isHelper(2602)
trigger1 = time=20
helpertype = normal
name = "Clone 3"
ID =   2603
stateno = 2600
pos = 0,0 ;-120 ;-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =

[State 1420, Clone Helper 4]
type = Helper
triggerall = !NumHelper(2604)
triggerall = isHelper(2603)
trigger1 = time=20
helpertype = normal
name = "Clone 4"
ID =   2604
stateno = 2600
pos = 0,0 ;-120 ;-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
;persistent =


[State 200, 1]
type = HitDef
trigger1 = time>(42-30*(IsHelper)) ;42 ;0
attr = A, HA
;damage = 30,0 ;130,0
damage = 0,cond(IsHelper,0,3) ;0,0 ;ceil(cond(fvar(11) * 30 < 15, 15, fvar(11) * 30)), 0
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 5,10 ;10,15
guard.pausetime = 10,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = -1 ;s5, 2
guardsound = -1 ;S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-5),-6;Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-10),-12
guard.velocity = -9 ;9
air.velocity = Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-5),-6;Cond(numtarget,cond((target,Pos X>0),abs(vel X),-abs(vel X)),-10),-12
airguard.velocity = -9
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
yaccel = 0.45
ID = 2600+1*isHelper;2600+1*isHelper(2601)+2*isHelper(2602)+3*isHelper(2603)+4*isHelper(2604)
;NoChainID = 2601 ;2600+1*isHelper(2601)+2*isHelper(2602)+3*isHelper(2603)+4*isHelper(2604)
hitonce = 1
;persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = HitPauseTime = 5
trigger1 = movehit=1
value = 1400,3 ;5,2
channel = 1+1*isHelper(2601)+2*isHelper(2602)+3*isHelper(2603)+4*isHelper(2604)
volumescale = 50
lowpriority = 1
ignorehitpause = 1
;persistent =
[State 0, PlaySnd]
type = PlaySnd
trigger1 = HitPauseTime = 5
trigger1 = moveguarded=1
value = 6,1
channel = 1+1*isHelper(2601)+2*isHelper(2602)+3*isHelper(2603)+4*isHelper(2604)
lowpriority = 1
ignorehitpause = 1
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
;trigger1 = Numtarget ;hit
;trigger1 = target,hitshakeover=0
trigger1 = NumEnemy ;hit
trigger1 = enemynear,hitshakeover=0
movetype = I
ignorehitpause = 1
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
;trigger1 = Numtarget ;hit
;trigger1 = target,hitshakeover=1
trigger1 = NumEnemy ;hit
trigger1 = enemynear,hitshakeover=1
movetype = A
ignorehitpause = 1
;persistent =

[State 13100, shake]
type = envshake
trigger1 = movehit
time = 12
freq = 80
ampl = 6
ignorehitpause = 1

[State 1061, Velocity 000]
type = VelSet
triggerall = !IsHelper
trigger1 = Time = 42 ;(42-40*(IsHelper))
x = 30 ;20
y = 30 ;-20
[State 1061, Velocity 000]
type = VelSet
triggerall = IsHelper(2601)
trigger1 = Time = 2
x = 30
y = -40
[State 1061, Velocity 000]
type = VelSet
triggerall = IsHelper(2602)
trigger1 = Time = 2
x = -40
y = 20
[State 1061, Velocity 000]
type = VelSet
triggerall = IsHelper(2603)
trigger1 = Time = 2
x = -30
y = -30
[State 1061, Velocity 000]
type = VelSet
triggerall = IsHelper(2604)
trigger1 = Time = 2
x = 20
y = -40

[State 0, VelSet Bounce]
type = VelSet
trigger1 = moveguarded=1
x = cond(vel x>0,-(vel x),vel x)
y = cond(vel y>0,-(vel y),vel y)
ignorehitpause = 1
;persistent =

[State 0, VelSet V]
type = VelSet
triggerall = Time>(42-40*(IsHelper))
trigger1 = pos y>=-10
y = -30-random%10;-20-random%5
ignorehitpause = 1

[State 0, VelSet >]
type = VelSet
triggerall = Time>(42-40*(IsHelper))
trigger1 = FrontEdgeDist<=10
x = -30-random%10;-20-random%5
ignorehitpause = 1

[State 0, VelSet ^]
type = VelSet
triggerall = Time>(42-40*(IsHelper))
trigger1 = Screenpos Y <=10
y = 30+random%10;20+random%5
ignorehitpause = 1

[State 0, VelSet <]
type = VelSet
triggerall = Time>(42-40*(IsHelper))
trigger1 = BackEdgeDist<=10
x = 30+random%10;20+random%5
ignorehitpause = 1

[State 200, bounce snd]
type = PlaySnd
triggerall = Anim!=1402
triggerall = Time>(42-40*(IsHelper))
trigger1 = pos y>=-10
trigger2 = FrontEdgeDist<=10
trigger3 = Screenpos Y <=10
trigger4 = BackEdgeDist<=10
trigger5 = moveguarded
value = 1400,3 ;1400,2
volumescale = 100
channel = 8
lowpriority = 1

[State 181, Wee!] ;Wee/Woohoo!
type = playsnd
triggerall = !IsHelper
trigger1 = time= 90 ;60;(50-40*(IsHelper))
value = 2502,10+random%4
volumescale = 255
;lowpriority = 1
channel = 0

[State 181, Wee!] ;Super!
type = playsnd
triggerall = !IsHelper
trigger1 = time= 210 ;180
value = 8,4
volumescale = 255
;lowpriority = 1
channel = 0


[State 3302, Sparks] ;Cybaster way
type=null;explod
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
anim=7030
sprpriority=7
postype=p2
pos=(target,const(size.ground.front)-15+random%10),ceil((pos y)-(target,pos y)-random%10)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = !Ishelper
triggerall = Time>40
;trigger1 = Numtarget
;trigger1 = movehit
trigger1 = enemynear,movetype=H
;trigger1 = time%30=5
trigger1 = time%30=5 ;cond(IsHelper,(root,time%30=5),time%30=5)
trigger1 = enemynear,stateno!=[120,155] ;not block, HIT
value = -30 ;cond(moveguarded>0,-3,-30)
;ID = 2600
kill = 1
absolute = 1
;ignorehitpause = 1
;persistent = 0

[State 0, TargetLifeAdd]
type = null;TargetLifeAdd
triggerall = !Ishelper
triggerall = Time>40
trigger1 = Numtarget
;trigger1 = movehit
trigger1 = target,movetype=H
;trigger1 = time%30=5
;trigger1 = time%30=5 ;cond(IsHelper,(root,time%30=5),time%30=5)
;trigger1 = target,stateno=[120,155] ;block, NOT HIT
trigger1 = moveguarded>0
trigger1 = HitPauseTime = 5
value = -3
;ID = 2600
kill = 1
absolute = 1
;ignorehitpause = 1
;persistent = 0

[State 0, TargetLifeAdd]
type = null;TargetLifeAdd
triggerall = Ishelper(2601)
trigger1 = Numtarget
;trigger1 = movehit
trigger1 = enemynear,movetype=H
trigger1 = root,time%30=5 ;7
value = -30
ID = 2601
kill = 1
absolute = 1
ignorehitpause = 1
;persistent = 0
[State 0, TargetLifeAdd]
type = null;TargetLifeAdd
triggerall = Ishelper(2602)
trigger1 = Numtarget
;trigger1 = movehit
trigger1 = enemynear,movetype=H
trigger1 = root,time%30=5 ;14
value = -30
ID = 2602
kill = 1
absolute = 1
ignorehitpause = 1
;persistent = 0
[State 0, TargetLifeAdd]
type = null;TargetLifeAdd
triggerall = Ishelper(2603)
trigger1 = Numtarget
;trigger1 = movehit
trigger1 = enemynear,movetype=H
trigger1 = root,time%30=5 ;21
value = -30
ID = 2603
kill = 1
absolute = 1
ignorehitpause = 1
;persistent = 0
[State 0, TargetLifeAdd]
type = null;TargetLifeAdd
triggerall = Ishelper(2604)
trigger1 = Numtarget
;trigger1 = movehit
trigger1 = enemynear,movetype=H
trigger1 = root,time%30=5 ;28
value = -30
ID = 2604
kill = 1
absolute = 1
ignorehitpause = 1
;persistent = 0


[State 0, TargetLifeAdd] ;BLOCK
type = null;TargetLifeAdd
;triggerall = !Ishelper
trigger1 = Numtarget
trigger1 = moveguarded
trigger1 = HitPauseTime = 5
value = -2
ID = -1
kill = 1
absolute = 1
ignorehitpause = 1
;persistent = 0

[State 3020, Helper Limiter]
type = Helper
triggerall = !IsHelper
triggerall = !NumHelper(9999)
trigger1= time=190
helpertype = normal
name =  "Limiter"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1


[State 0, DestroySelf]
type = DestroySelf
triggerall = Ishelper
trigger1 = root,stateno!=2600
trigger2 = root,movetype=H
trigger3 = moveguarded
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !Ishelper
triggerall = pos Y<-120
triggerall = Anim=2602
trigger1 = time>=200
trigger2 = winKO
value = 1402
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = Anim=1402
x = 0
y = 0
ignorehitpause = 1
;persistent =

[State 0, SelfState]
type = ChangeState
triggerall = !Ishelper
triggerall = pos Y<-120
triggerall = Anim=1402
triggerall = !animtime
trigger1 = time>=200
trigger2 = winKO
value = 2120
ctrl = 0;1
ignorehitpause = 1
;persistent = 1

;===========================================================================
; <<<<< EMO MODE >>>>>
;===========================================================================
; EMO Mode
[Statedef 2700]
type = S
movetype = I
physics = S
anim = 2700
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 4500, 1];transform SND
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 2350,2 ;188,0
volumescale = 255 ;50
channel = 2

[State 200, BGPalFX]
type = BGPalFX
trigger1 = time=[0,97]
time = 1
add	= -100,-100,-100
mul	= 256,100,100
invertall = 0
color = 256

[State 3000, superpause]
type = superpause
trigger1 = time=0
time = 97
p2defmul = 1
unhittable = 1
anim = -1
;sound = s2350,0
darken = 0
movetime = 97

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 13100, shake]
type = null;envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3000, Buffer var]
type = varset
trigger1 = !time
var(32) = 1000

[State 3000, Flame var]
type = varset
trigger1 = !time
var(33) = 0

[State 200, Sanity Activation]
type = playsnd
trigger1 = !time
value = 4700,2+random%2 ;4700,1+random%3
channel = 0
volumescale = 255 ;100

[State 183, face]
type = Explod
trigger1 = !NumExplod(2701)
trigger1 = !time
anim =  2701
ID =  2701
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = -1
removetime = 97
scale = 1,1
sprpriority = 2
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, RemoveExplod] ;face
type = RemoveExplod
trigger1 = time=80
id = 2701
ignorehitpause = 1
;persistent =


[State 3000, end]
type = changestate
trigger1 = time = 97 ;!animtime
value = 0
ctrl = 1

;Flesh Prison Lv2
[Statedef 2800]
type    = U
movetype= A
physics = N
ctrl = 0
sprpriority = -9
facep2 = 1

[State 4000, hold selector]
type = Explod
;triggerall = !time
trigger1 = !NumExplod(992800)
trigger1 = enemy,statetype!=A
trigger1 = pos y=0
anim = 9999
ID = 992800
pos = 0,0
postype = p1
removetime = -1
removeongethit = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = Cond(statetype=A,2800,2803)
;elem = 1
;ignorehitpause =
;persistent =
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = !time
statetype = A       ;S,A,C,L
;ignorehitpause = 
;persistent = 


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim=2803
trigger1 = !animtime
value = 2800
elem = 3
;ignorehitpause = 
;persistent = 


[State 3320, AssertSpecial]
type = AssertSpecial
trigger1 = time = [5,45]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3320, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 3320, superpause]
type = superpause
trigger1 = time = 5
time = 40
movetime = 40
p2defmul = 1
unhittable = 1
anim = -1
darken = 0


[State 3320, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2442 ;2440 ;Anim 2442 is 6 ticks longer!
id = 2440
pos = 17,-90
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3320, Superpause charge sound]
type = PlaySnd
trigger1 = time = 5
value = 2350,0
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = cond(var(32)>0,-1000,-2000)
;ignorehitpause =
;persistent =

[State 0, disable rage mode]
type = VarSet
trigger1 = time = 5
var(32) = 0

[State 0, PlaySnd] ;Eat You!
type = PlaySnd
trigger1 = time=50;45
value = 2800,20+random%3
channel = 0
ignorehitpause = 1
volumescale = 255
;persistent =


[State 0, VelSet]
type = VelSet
trigger1 = time = 50;45
x = 9
y = -6-4*(pos y=0);-9
;ignorehitpause =
;persistent =

[State 40, 4]; fall
type = Veladd
trigger1 = time >= 50;45
Y = 0.9

[State 800, hit Ground]
type = hitdef
triggerall = p2bodydist x<55
trigger1 = NumExplod(992800)
trigger1 = animelem=5
attr = A,HT
hitflag = MF ;A-
;guardflag = M
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 2801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 800, hit Air]
type = hitdef
triggerall = p2bodydist x<55
trigger1 = !NumExplod(992800)
trigger1 = animelem=5
attr = A,HT
hitflag = MAF ;A-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 2801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !animtime
id = 992800
ignorehitpause = 1
;persistent = 

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
trigger2 = pos Y >20
value = 2802 ;2120
ctrl = 0
;anim =
ignorehitpause = 1
;persistent =

;Flesh Prison Landing
[Statedef 2802]
type = A
physics = N
movetype = I
anim = 2120
ctrl = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
;persistent =

[State 4001, Replace]
type = PosSet
trigger1 = !time
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2120
persistent = 0
statetype = S
physics = N

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = !time
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = !time ;Anim = 2120
anim=17100
id=17100
pos=7,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 4001, End]
type = ChangeState
;trigger1 = Anim = 2120
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Flesh Prison Success
[Statedef 2801]
type    = A
movetype= A
physics = N
ctrl = 0
sprpriority = 10
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 992800
ignorehitpause = 1
;persistent = 

[State 0, PlaySnd] ;melt
type = PlaySnd
trigger1 =  !time
value = 191,0
channel = -1
volumescale = 50
;ignorehitpause =
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 2801
;elem = 1
;ignorehitpause =
;persistent =

[State 0, TargetState]
type = TargetState
trigger1 = !time
value = 2805
ID = -1
ignorehitpause = 1
;persistent =

[State 0, TargetBind]
type = TargetBind
trigger1 = Anim=2801
;trigger2 = Anim=2802
;trigger2 = Animelemtime(1)<2
time = 1
id = -1
pos = 50,-100
ignorehitpause = 1
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = Anim=2801
trigger1 = time>30
trigger1 = time%10=0
value = -13 ;-20 ;-40
ID = -1
kill = 0
absolute = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd] ;hit sound
type = PlaySnd
triggerall = Anim=2801
trigger1 = time>30
trigger1 = time%10=0
value = 2800,random%3 ;5,random%6
channel = -1
volumescale = 200
;ignorehitpause =
;persistent =

[State 0, HitAdd]
type = HitAdd
triggerall = Anim=2801
trigger1 = time>30
trigger1 = time%10=0
value = 1
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
triggerall = Anim=2801
trigger1 = !time
trigger2 = pos Y >=-40 ;-85 ;0
x = 0
y = 0
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = Anim=2801
trigger1 = pos Y <-40 ;-85 ;0
trigger1 = Time>0
y = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time>140 ;67
trigger1 = Anim=2801
trigger1 = pos Y >=-40 ;-85 ;0
value = 2802
;elem = 1
;ignorehitpause =
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = Anim=2802
trigger1 = Animelemtime(1)=0
time = 1
id = -1
;pos = 50,-100
;pos = 27,-185
pos = 17,-155
ignorehitpause = 1
;persistent =

[State 1750, hit]
type = hitdef
trigger1 = 1
attr = A,HT
hitflag = MAFD
;guardflag = MA
priority = 7,Hit
;damage = 10,1
damage = 150,0 ;ceil(cond(fvar(11) * 10 < 7, 7, fvar(11) * 10)), 1
getpower = 0,0
givepower = 20,20
pausetime = 0, 0
animtype = Back
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.hittime = 16
ground.slidetime = 16
guard.hittime = 4;16
air.hittime = 4 ;13
airguard.ctrltime = 16
ground.velocity= -10,0
guard.velocity = -10 ;-9
air.velocity = -6,-6
airguard.velocity = -10.5, -1.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = .5
fall=0
air.fall = 1
fall.recover = 0
fall.recovertime = 13
sparkno = -1
hitsound   = s2800,10 ;s2511,0 ;s5, 2 ;s1000,0
guardsound = S6,0
envshake.time = 16
envshake.ampl = 6
envshake.freq = 100
forcestand = 1
palfx.sinadd=40,30,-40,4
palfx.mul=256,206,206
palfx.time=32
p1sprpriority = 10
persistent=0


[State 0, PosAdd]
type = PosAdd
trigger1 = Anim=2802
trigger1 = Animelemtime(1)=0
;-23,-85
;-22,-66
x = 22;23
y = 51 ;56 ;85 ;0
ignorehitpause = 1
;persistent =

[State 0, TargetVelSet]
type = null;TargetVelSet
trigger1 = Anim=2802
trigger1 = Animelemtime(1)=0
x = -9
y = -9
ID = -1
ignorehitpause = 1
;persistent =


[State 0, PosSet]
type = PosSet
trigger1 = Anim=2802
trigger1 = Animelemtime(5)=0
y = 0
ignorehitpause = 1
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = Anim=2802
trigger1 = !animtime
value = 302
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;P2 thrown State (Flesh Prison)
[StateDef 2805]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = A,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =



[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 825, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 2805

[State 0, FX]
type = PalFX
trigger1 = !time
time = 10
add = 100,100,100
mul = 256,256,256
sinadd = -128,-128,-128,10
invertall = 0
color = 256
;ignorehitpause = 0
;persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<10
value = 1
scale = 1-(time/10.0), 1-(time/10.0)
;ignorehitpause =
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=10
value = 1
scale = 0.1,0.1

[State 0, VelSet]
type = null;VelSet
trigger1 = gethitvar(isbound)=0
x = -9
y = -9

[State 0, SelfState]
type = SelfState
trigger1 = time>140 ;50
trigger1 = vel Y!=0
value = 5030
;anim =
;ctrl =
ignorehitpause = 1
;persistent = 1

; EMO Ender - Mega Candy Beam!
[Statedef 2900]
type = A
physics = N
movetype = A
anim = 2900
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = 0 ;cond(var(32)>0,-2000,-3000)
facep2 = 1

[State 0, Width]
type = Width
trigger1 = 1
value = 20,20
;ignorehitpause =
;persistent =

[State 2400, nhb]
type = nothitby
trigger1 = time<90 ;1
time = 1
value = SCA

[State 2400, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 3020, Helper Limiter]
type = Helper
triggerall = !IsHelper
triggerall = !NumHelper(9996)
trigger1= !time
helpertype = normal
name =  "Limiter"
ID = 9996
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 0, disable EMO Mode]
type = null;VarSet
trigger1 = !time
var(32) = 0
[State 0, disable EMO Mode]
type = null;VarSet
trigger1 = !time
var(33) = 0

[State 0, PlaySnd] ;Everyone shall pay for this!
type = PlaySnd
trigger1 = !time;=5
value = 2900,random%3
channel = 0
volumescale = 255
;ignorehitpause =
;persistent =

[State 2400, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2400, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 0, PlaySnd] ;This means extinction!
type = null;PlaySnd
trigger1 = time=5
value = 4300,1+random%2
channel = 0
volumescale = 255
;ignorehitpause =
;persistent =

[State 183, face A]
type = Explod
triggerall = Anim=2900
trigger1 = AnimElemTime(3)=5
anim =  2902
ID =  2902
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = -1
removetime = 90 ;110 ;-2 ;60 ;20 ;-1
scale = 1,1
sprpriority = 2
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Charge Ball FX 1]
type = Explod
triggerall = Anim=2900
trigger1 = AnimElemTime(4)=0
anim = 2007
id = 2007
pos = -20,-127 ;36,-118
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 30
sprpriority = 10
ownpal = 1
bindtime = -1
scale = 0.5,0.5 ;1,1
removeongethit = 1
persistent = 0

[State 2400, Hyper Charge FX]
type = null;Explod
trigger1 = AnimElemTime(4)=0 ;time = 5
anim = 2905
id = 2905
pos = -17,-127 ;-27,-100
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 30 ;10 ;60 ;-2
sprpriority = -10
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 1600, beam]
type = helper
triggerall = Anim=2900
triggerall = !NumHelper(1605)
trigger1 = AnimElemTime(4)=0
helpertype = normal
stateno = 2905
ID = 1605
name = "Mega Candy Beam"
postype = p1
pos = -17,-127
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 181, Mega Candy Beam sound] ;TEMP
type = playsnd
triggerall = Anim=2900
trigger1 = animelemtime(4) = 0
value = 2400,10 ;TEMP???
volumescale = 300
channel = -1

[State 0, ChangeAnim] ;to whiff
type = ChangeAnim
triggerall = Anim=2900
triggerall = !NumHelper(1605)
trigger1 = AnimElemTime(5)=0
value = 2901
;elem = 1
ignorehitpause = 1
;persistent =

[State 181, Laugh A] ;hehehehe
type = playsnd
triggerall = Anim=2900
trigger1 = AnimElemTime(5)=2
value = 191,5+random%3
volumescale = 300
channel = 0

[State 29000, angry face]
type = Explod
triggerall = Anim=2901
trigger1 = AnimElemTime(2)=0
trigger1 = !NumExplod(7312)
anim = 7312
id = 7312
pos = 0,0
postype = p1
supermovetime = 0
pausemovetime = 0
supermove = 0 ;1
removetime = 40;-2
sprpriority = 5
ownpal = 0
bindtime = -1
removeongethit = 1
;shadow = 0,0,0

[State 200, I hate you!]
type = playsnd
triggerall = Anim=2901
trigger1 = AnimElemTime(2)=0
value = 731,random%2
channel = 0
volumescale = 300


[State 0, Explod] ;Piccolo Compatibility
type = Explod
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),var(1)>0 ;hit
trigger1 = !animtime
;trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 0, disable EMO Mode]
type = VarSet
trigger1 = Anim=2901
;trigger1 = !time
var(32) = 0
[State 0, disable EMO Mode]
type = VarSet
trigger1 = Anim=2901
;trigger1 = !time
var(33) = 0

[State 2400, end] ;End
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

; EMO Startup - Kill You!
[Statedef 4000]
type = A
physics = N
movetype = A
anim = 4000
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = cond(var(32)>0,-2000,-3000)
facep2 = 1

[State 0, Width]
type = Width
trigger1 = 1
value = 20,20
;ignorehitpause =
;persistent =

[State 2400, nhb]
type = nothitby
trigger1 = time<53 ;1
time = 1
value = SCA

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 2400, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 0, reset EMO Finisher VarSet]
type = VarSet
trigger1 = !time
var(39) = 0
ignorehitpause = 1
persistent = 0

[State 0, EMO Finisher VarSet]
type = VarSet
triggerall = var(32)>0 ;EMO
trigger1 = !time
;var(39)= 0+(var(33)=[700,1399])+2*(var(33)=[1400,2099])+3*(var(33)>=2100)
var(39)= 0+(var(33)=[23,45])+2*(var(33)=[46,68])+3*(var(33)>=69)
ignorehitpause = 1
;persistent =

[State 0, disable EMO Mode]
type = VarSet
trigger1 = !time
var(32) = 0
[State 0, disable EMO Mode]
type = VarSet
trigger1 = !time
var(33) = 0

[State 2400, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,3 ;s2000,0
darken = 0
movetime = 40

[State 2400, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,45]
time = 1
color=0
mul=0,0,0

[State 2400, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = -27,-100
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2201, helper]; Background lines
type = Helper
trigger1 = !NumHelper(4270)
trigger1 = animelemtime(4) = 0
pos = -640, -480
postype = back
stateno = 4270
helpertype = normal
name = "horizontal_lines_BG"
id = 4270
ownpal = 1
facing = -1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
sprpriority = 2
size.xscale = 5
size.yscale= 5

[State 181, Roar] ;Roar
type = playsnd
trigger1 = animelemtime(5) = 0
value = 4000,0
volumescale = 300
channel = 0

[State 1300, scream helper]
type = helper
trigger1 = animelemtime(5) = 0
trigger2 = animelemtime(8) = 0
trigger3 = animelemtime(11) = 0
trigger4 = animelemtime(14) = 0
trigger5 = animelemtime(17) = 0
trigger6 = animelemtime(19) = 0
helpertype = normal
stateno = 4050
ID = 4050
name = "scream"
postype = p1
pos = 80, -60

[State 0, Explod] ;Piccolo Compatibility
type = Explod
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),var(1)>0 ;hit
trigger1 = !animtime
;trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 2400, end] ;hit
type = changestate
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),var(1)>0 ;hit
trigger1 = !animtime
value = 4001
ctrl = 0

[State 2400, end] ;fail
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;EMO - going up
[Statedef 4001]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, ScreenBound]
type = null ;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1
;ignorehitpause =
;persistent =

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 200, Laugh]
type = playsnd
trigger1 = !time
value = 191, 5+random%3
channel = 0
volumescale = 300

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 4001
;elem = 1
;ignorehitpause =
;persistent =

[State 220, snd] ;going up
type = playsnd
trigger1 = anim=4001
trigger1 = animElemTime(13)=0
value = 4001,0
channel = 0
loop = 1
volumescale = 300

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim=4001
trigger1 = !animtime
value = 4002
;elem = 1
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = anim=4002
trigger1 = animElemTime(1)=0
y = -190
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = anim=4002
trigger1 = animElemTime(1)=0
y = -10
;ignorehitpause =
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim=4002
trigger1 = animElemTime(2)<=0
trigger1 = ScreenPos Y<0
value = 4002
elem = 2
;ignorehitpause =
persistent = 0

[State 2201, helper]; Background lines
type = Helper
trigger1 = !NumHelper(4070)
trigger1 = AnimElemtime(16)=0 ;!time
pos = -640, -480
postype = back
stateno = 4070
helpertype = normal
name = "vertical_lines_BG"
id = 4070
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 4
size.xscale = 5
size.yscale= 5

[State 2400, end]
type = changestate
trigger1 = !animtime
value = 4002
ctrl = 0

;EMO - going down
[Statedef 4002]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 10
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, ScreenBound]
type = null ;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 4003
;elem = 1
;ignorehitpause =
;persistent =

[State 220, snd] ;going down
type = playsnd
trigger1 = !time
value = 4001,1
channel = 0
loop = 1
volumescale = 300

[State 0, PosSet]
type = PosSet
trigger1 = NumHelper(4050)
trigger1 = !time
x = Helper(4050),pos X
y = Pos Y - ScreenPos Y - 250
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 15
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),pos y <= pos Y
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=4003
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),pos y <= pos Y
value = 4004
;elem = 1
;ignorehitpause =
;persistent =

[State 220, snd] ;into P2
type = playsnd
trigger1 = Anim=4004
trigger1 = AnimElemTime(1)=0
value = 4001,2
channel = 0
volumescale = 300

[State 2400, end]
type = changestate
trigger1 = Anim=4004
trigger1 = !animtime
value = 4003
ctrl = 0

;P1 offscreen
[Statedef 4003]
type = A
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0,0
sprpriority = 10
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = -500*facing
y = 0
ignorehitpause = 1
;persistent =

[State 220, snd]
type = playsnd
trigger1 = !time
value = 250,1
channel = 1
volumescale = 100
loop = 1

[State 220, snd] ;I'm inside you!
type = playsnd
trigger1 = !time
value = 4002,0
channel = 0
volumescale = 300


[State 2400, end] ;hit
type = changestate
trigger1 = NumHelper(4050)
trigger1 = Helper(4050),var(1)=2 ;end
value = 4004
ctrl = 0

;P1 back to screen
[Statedef 4004]
type = A
physics = N
movetype = A
anim =  0;9999
ctrl = 0
velset = 0,0
sprpriority = 10
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = var(39)>0 ;=2
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ChangeState] ;if killed go to absorbed pose
type = ChangeState
trigger1 = enemynear,alive=0
trigger1 = !time
value = 4400
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = NumHelper(4050)
trigger1 = !time
x = (Helper(4050),pos X)-45*facing
y = 0
;ignorehitpause =
;persistent =

[State 0, Turn]
type = Turn
trigger1 = facing!=enemy,facing
trigger1 = !time
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 4005
;elem = 1
;ignorehitpause =
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = !time
value = 1
scale = 0.1,0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<20
value = 1
scale = (time/20.0), (time/20.0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=4005
trigger1 = time=20
value = 4006
;elem = 1
;ignorehitpause =
;persistent =

[State 302, walk forward]
type = VelSet
trigger1 = Anim=4006
trigger1 = AnimElemTime(1)=0
x = const(velocity.run.fwd.x);*facing

[State 0, PlaySnd] ;This means extinction!
type = null;PlaySnd
triggerall = var(39)=3
trigger1 = Anim=4006
trigger1 = AnimElemTime(1)=0
value = 4300,1+random%2
channel = 0
volumescale = 255
;ignorehitpause =
;persistent =

;301 No Finisher
;4100 Finisher 1 (Destroy Everything!)
;4200 Finisher 2 (Eat You!)
;4300 Finisher 3 (Human Extinction Attack)
;4400 Absorbed Winpose

[State 0, ChangeState Finisher 1]
type = ChangeState
triggerall = var(39)=1
triggerall = Anim=4006
trigger1 = !AnimTime
trigger2 = AnimElemTime(4)>=0
trigger2 = FrontEdgeDist < 60
value = 4100
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, ChangeState Finisher 2]
type = ChangeState
triggerall = var(39)=2
triggerall = Anim=4006
trigger1 = !AnimTime
trigger2 = AnimElemTime(4)>=0
trigger2 = FrontEdgeDist < 60
value = 4200
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, ChangeState Finisher 3]
type = ChangeState
triggerall = var(39)=3
triggerall = Anim=4006
trigger1 = !AnimTime
trigger2 = AnimElemTime(4)>=0
trigger2 = FrontEdgeDist < 60
value = 4300
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Piccolo Compatibility
type = RemoveExplod
triggerall = var(39)=0
triggerall = Anim=4006
trigger1 = !AnimTime
trigger2 = AnimElemTime(4)>=0
trigger2 = FrontEdgeDist < 60
id = 991901

[State 0, ChangeState No Finisher]
type = ChangeState
triggerall = var(39)=0
triggerall = Anim=4006
trigger1 = !AnimTime
trigger2 = AnimElemTime(4)>=0
trigger2 = FrontEdgeDist < 60
value = 301
ctrl = 0
;anim =
;ignorehitpause =
;persistent =



;---------------------------------------------------------------------------
;P2  HIT_TRIP (shaking)
[Statedef 4020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 5070, 1]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 4021

;---------------------------------------------------------------------------
; P2 HIT_TRIP2 (fall through air)
[Statedef 4021]
type    = A
movetype= H
physics = N

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 5071, 1]
type = VelSet
trigger1 = !Time
x = GetHitVar(xvel) * facing
y = gethitvar(yvel)

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = time > 0  ;Vans Fix !!!
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 4022 ;5110

;P2 HIT lie dead
[Statedef 4022]
type    = L
movetype= H
physics = N

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 15000,0

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = null;ChangeState
;triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 4023 ;5150

[State 0, ChangeState] ;to dizzy
type = ChangeState
;trigger1 = prevstateno!=4024
trigger1 = prevstateno!=4024 || prevstateno!=4025
trigger1 = time=35
value = 4023
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, ChangeState] ;to get up
type = SelfState
;trigger1 = prevstateno=4024
trigger1 = prevstateno=4024 || prevstateno=4025
trigger1 = time=35
value = 5120 ;4023
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;P2 Dizzy
[Statedef 4023]
type = S
movetype = H
physics = S
;anim = 5011 ;5300
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5120
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=5120
trigger1 = !animtime ;!time
value = cond(SelfAnimExist(5300)=1,5300,5000)
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim2
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,Anim=4004
trigger1 = enemy,AnimElemTime(1)=0
value = 4025
ignorehitpause = 1
;persistent =

[State 0, SelfState]
type = SelfState
trigger1 = Time=240 ;180
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1


; P2 body struggle (non-Z2)
[Statedef 4025]
type = S
movetype = H
physics = S ;N
;anim = 5030
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelemtime(12)<0
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4024
;elem = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = null;PlaySnd
trigger1 = animelemtime(2)=0
trigger2 = animelemtime(6)=0
trigger3 = animelemtime(11)=0
trigger4 = animelemtime(17)=0
trigger5 = animelemtime(21)=0
trigger6 = animelemtime(27)=0
trigger7 = animelemtime(31)=0
trigger8 = animelemtime(34)=0
value = 5000,random%6  ;may play wrong voices
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =


[State 0, PosAdd]
type = PosAdd
trigger1 = animelemtime(6)=0
y = -40
;ignorehitpause =
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(6)=0
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, Gravity]
type = VelAdd
trigger1 = animelemtime(6)>=0 && AnimElemtime(33)<=0
y = const(movement.yaccel)
;ignorehitpause =
;persistent =

[State 0, Turn]
type = Turn
trigger1 = animelemtime(17)=0
trigger2 = animelemtime(21)=0
trigger3 = animelemtime(31)=0
;trigger4 = animelemtime(34)=0
;ignorehitpause =
;persistent =



[State 0, ChangeAnim2] ;hitwall
type = ChangeAnim2
triggerall = Pos y < -15
trigger1 = animelemtime(11)<0
trigger1 = BackEdgeBodyDist <= 20
value = 4024
elem = 11
;ignorehitpause =
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelemtime(12)>=0 && animelemtime(33)<0
value = 0
movecamera = 1,1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = animelemtime(32)>=0
trigger1 = pos Y>=-20 && vel Y>0
value = 4024
elem = 33
;ignorehitpause =
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = AnimElemtime(33)=0
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemtime(33)=0
y = 0
;ignorehitpause =
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemtime(33)=0
statetype = S       ;S,A,C,L
physics = S         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !Alive
flag = invisible
ignorehitpause = 1

[State 3860, 1]
type = PosSet
trigger1 = !Alive
y = 9000

[State 0, PosAdd] ;Vanishing going down
type = PosAdd
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=1 ;finisher1
trigger1 = enemy,stateno=4100
trigger1 = enemy,Anim=4100
trigger1 = enemy,AnimElemTime(9)>0
y = 0.5
;ignorehitpause =
;persistent =


[State 0, ChangeState]
type = ChangeState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=1 ;finisher1
trigger1 = enemy,Anim=4101
value = 4120
ID = -1
;ignorehitpause =
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=3 ;finisher3
trigger1 = enemy,stateno=4300 ;Anim=4101
value = 4315
ID = -1
;ignorehitpause =
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
value = 5150

[State 0, SelfState]
type = SelfState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=0
trigger1 = Alive
trigger1 = Time=215
trigger2 = enemy,var(39)=[1,2] ;finishers 1,2
trigger2 = Time=800
trigger3 = enemy,var(39)=3 ;TEMP
trigger3 = Time=800
value = 5120
ctrl = 0
ignorehitpause = 1
persistent = 1

; P2 body struggle (Z2)
[Statedef 4024]
type = S
movetype = H
physics = S ;N
;anim = 5030
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist <=80
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist >80
x = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4026
;elem = 1
;ignorehitpause =
;persistent =


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemtime(76)=0
statetype = S       ;S,A,C,L
physics = S         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !Alive
flag = invisible
ignorehitpause = 1

[State 0, PosAdd] ;Vanishing going down
type = PosAdd
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=1 ;finisher1
trigger1 = enemy,stateno=4100
trigger1 = enemy,Anim=4100
trigger1 = enemy,AnimElemTime(9)>0
y = 0.5
;ignorehitpause =
;persistent =


[State 3860, 1]
type = PosSet
trigger1 = !Alive
y = 9000

[State 0, ChangeState]
type = ChangeState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=1 ;finisher1
trigger1 = enemy,Anim=4101
value = 4120
ID = -1
;ignorehitpause =
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=3 ;finisher3
trigger1 = enemy,stateno=4300 ;Anim=4101
value = 4315
ID = -1
;ignorehitpause =
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
value = 5150

[State 0, SelfState]
type = SelfState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,var(39)=0
trigger1 = Alive
trigger1 = Time=285
trigger2 = enemy,var(39)=[1,2] ;finishers 1,2
trigger2 = Time=800
trigger3 = enemy,var(39)=3 ;TEMP
trigger3 = Time=800
value = 5120
ctrl = 0
ignorehitpause = 1
persistent = 1

;TEMP EMO scream helper
[Statedef 4050]
type = S
physics = N
movetype = A
ctrl = 0
anim = 4052
sprpriority = 4

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "target=%d"
params = numtarget
;ignorehitpause =
;persistent =

[State 1305, nothitby]
type = null;nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 4054
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(1)=0
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3.5 ;2.8
ignorehitpause = 1
;persistent =

[State 420, 3]
type = HitDef
trigger1 = time>0
attr = S, HP
;damage = 50,0
damage = ceil(cond(root,fvar(11) * 50 < 25, 25, (root,fvar(11)) * 90)), 10
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 0,0 ;12
guard.pausetime = 0,8 ;12
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-30
hitsound   = s5, 5
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3,-3 ;-8
guard.velocity = -8
guard.slidetime = 8
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
airguard.velocity = -5
fall = 1
fall.recover = 0
air.animtype = back
getpower= cond(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45
kill = 0
guard.kill = 0
p2facing = 1
persistent = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarSet]
type = VarSet
triggerall = Numtarget
triggerall = !(target, ishelper)
trigger1 = movehit
trigger2 = moveguarded && target,life<=10 ;chip damage
var(1)=1
ignorehitpause = 1
;persistent =

[State 0, TargetState]
type = TargetState
;triggerall = !winKO
triggerall = Numtarget
triggerall = !(target, ishelper)
trigger1 = movehit
trigger2 = moveguarded && target,life<=10 ;chip damage
value = 4020
ID = -1
ignorehitpause = 1
persistent = 0

[State 1305, End]
type = changestate
triggerall = Numtarget
triggerall = !(target, ishelper)
trigger1 = movehit
trigger2 = moveguarded && target,life<=10 ;chip damage
value = 4051

[State 1306, End]
type = destroyself
trigger1 = !animtime
trigger2 = root,movetype=H

;OLD EMO scream helper
[Statedef 994050]
type = S
physics = N
movetype = A
ctrl = 0
anim = 4050
sprpriority = 4

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "target=%d"
params = numtarget
;ignorehitpause =
;persistent =

[State 1305, nothitby]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 1305, Anim]
type = null ;changeanim
trigger1 = !time ;anim != 1305
value = 4050 ;1305

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(1)=0
ignorehitpause = 1
;persistent =


[State 3010, Scream]
type = Explod
trigger1 = !time
anim =  4050 ;1822
ID =  4050;1822
pos = 0,0 ;160+ceil((enemy,Pos X)), 220;(enemy,Pos Y)
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = 1
removetime = 50 ;-1 ;50
scale = 1,1 ;0.5,0.5
sprpriority = 10
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 420, 3]
type = HitDef
trigger1 = time>0
attr = S, HA
;damage = 50,0
damage = ceil(cond(root,fvar(11) * 50 < 25, 25, (root,fvar(11)) * 90)), 0
hitflag = MAF
;guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,12
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-30
hitsound   = s5, 5
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3,-3 ;-8
guard.velocity = -4
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
fall = 1
fall.recover = 0
air.animtype = back
getpower= cond(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45
persistent = 0
kill = 0
p2facing = 1

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarSet]
type = VarSet
trigger1 = Numtarget
trigger1 = movehit
trigger1 = !(target, ishelper)
var(1)=1
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit
id = 4050
ignorehitpause = 1
;persistent =

[State 3010, Scream]
type = Explod
trigger1 = !NumExplod(4051)
trigger1 = movehit
anim =  4051
ID =  4051
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1 ;0.5,0.5
sprpriority = 10
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
;triggerall = !winKO
trigger1 = Numtarget
trigger1 = movehit
trigger1 = !(target, ishelper)
value = 4020
ID = -1
ignorehitpause = 1
persistent = 0


[State 1305, End]
type = changestate
trigger1 = movehit ;time=50
value = 4051

[State 1306, End]
type = destroyself
;trigger1 = movecontact
trigger1 = time=50

;-----------------------------------------
;TEMP EMO Dizzy
[Statedef 4051]
type = A
physics = N
movetype = A ;I
velset = 0, 0
ctrl = 0
sprpriority = 10
;anim = 5931 ;2534 ;9999 ;dizzy stars

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 9999 ;Cond(!NumExplod(5932)&&!NumExplod(5931)&&(!enemy,AnimExist(5931)),5931,9999)
ignorehitpause = 1
;persistent = 

;NEED TO UPDATE 1ST DIZZY STARS CODE AND THEN TEST AGAINST KFM

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
trigger1 = numtarget
x = target,pos X
y = target,pos Y + target,const(size.head.pos.y) - 15 -40*(target,name="Piccolo Z2")
;ignorehitpause =
;persistent =

[State 3033, Snd]
type = PlaySnd
trigger1 = numtarget
trigger1 = !time ;enemynear, stateno = 5300
value = 2522, cond(random < 500, 0, 1)
persistent = 0

[State 0, TargetState] ;Non-Z2
type = TargetState
;triggerall = !winKO
trigger1 = numtarget
trigger1 = target,authorname!="Team Z2"
trigger1 = root,stateno=4003
;trigger1 = root,time=0 ;Animtime=0
;trigger1 = time = 50
value = 4025
ID = -1
ignorehitpause = 1
persistent = 0

[State 0, TargetState] ;Z2
type = TargetState
;triggerall = !winKO
trigger1 = numtarget
trigger1 = target,authorname="Team Z2"
trigger1 = root,stateno=4003
;trigger1 = root,time=0 ;Animtime=0
;trigger1 = time = 50
value = 4024
ID = -1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState] ;Non-Z2
type = ChangeState
triggerall = numtarget
trigger1 = target,stateno=4025
value = 4052
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, ChangeState] ;Z2
type = ChangeState
triggerall = numtarget
trigger1 = target,stateno=4024
value = 4053
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 3033, End]
type = DestroySelf
;trigger1 = enemynear, ctrl
;trigger1 = (enemynear, MoveType != H)
;trigger1 = (enemynear, stateno != 5300)
trigger1 = !numtarget
trigger2 = time=350


;TEMP EMO struggle
[Statedef 4052]
type = A
physics = N
movetype = A ;I
velset = 0, 0
ctrl = 0
sprpriority = 10
anim = 9999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(2)=0
x = -6
ID = -1
;ignorehitpause =
;persistent =

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(2)=0
trigger2 = target,animelemtime(6)=0
ID = 7020
anim=7010+10*(random%3)
sprpriority=10
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)-30-random%20
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(11)=0
trigger2 = target,animelemtime(17)=0
trigger3 = target,animelemtime(21)=0
trigger4 = target,animelemtime(27)=0
trigger5 = target,animelemtime(31)=0
trigger6 = target,animelemtime(34)=0
ID = 7020
anim=7010+10*(random%3)
sprpriority=10
postype= left
pos= ceil(target,screenpos X)-random%20,ceil(target,screenpos Y)-random%20
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(2)=0
trigger2 = target,animelemtime(6)=0
trigger3 = target,animelemtime(11)=0
trigger4 = target,animelemtime(17)=0
trigger5 = target,animelemtime(21)=0
trigger6 = target,animelemtime(27)=0
trigger7 = target,animelemtime(31)=0
trigger8 = target,animelemtime(34)=0
value = 5,random%6
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =

[State 3002, Broken neck]
type = PlaySnd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(3)=1
trigger2 = target,animelemtime(7)=1
trigger3 = target,animelemtime(12)=1
trigger4 = target,animelemtime(18)=1
trigger5 = target,animelemtime(22)=1
trigger6 = target,animelemtime(28)=1
trigger7 = target,animelemtime(32)=1
value = 2875,random%2
channel = -1
volumescale = 300

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(2)=0
trigger2 = target,animelemtime(6)=0
trigger3 = target,animelemtime(11)=0
trigger4 = target,animelemtime(17)=0
trigger5 = target,animelemtime(21)=0
trigger6 = target,animelemtime(27)=0
trigger7 = target,animelemtime(31)=0
value = -40
ID = -1
kill = 0
absolute = 0
;ignorehitpause =
;persistent =

[State 0, HitAdd]
type = HitAdd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(2)=0
trigger2 = target,animelemtime(6)=0
trigger3 = target,animelemtime(11)=0
trigger4 = target,animelemtime(17)=0
trigger5 = target,animelemtime(21)=0
trigger6 = target,animelemtime(27)=0
trigger7 = target,animelemtime(31)=0
trigger8 = target,animelemtime(34)=0
value = 1
;ignorehitpause =
;persistent =



[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(6)=0
x = -13
y = -11
ID = -1
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(11)=1
x = 6
y = -13
ID = -1
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(17)=0
x = -6
y = -3
ID = -1
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(21)=0
x = -6
y = -10
ID = -1
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(27)=0
x = -6
y = -10
ID = -1
;ignorehitpause =
;persistent =

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(31)=0
x = 6
y = 6
ID = -1
;ignorehitpause =
;persistent =

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(34)=0
ID = 8400
anim=8400
sprpriority=10
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(34)=0
ID = 8401
anim=8401
sprpriority=-10
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(34)=0
value = 800,2
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(34)=0
x = target,pos X
y = 0
;ignorehitpause =
;persistent =

[State 3554, Exclamation]
type = Explod
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(34)=0
anim = 3559
id = 3559
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
sprpriority = 5
bindtime = -1
scale = 1,1
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
persistent = 0
ontop = 1


[State 0, VarSet]
type = VarSet
trigger1 = NumTarget
trigger1 = target,anim=4024
trigger1 = target,animelemtime(34)=0
var(1)=2
ignorehitpause = 1
;persistent =

[State 0, TargetLifeAdd] ;Last hit
type = TargetLifeAdd
triggerall = NumTarget
triggerall = target,anim=4024
trigger1 = target,animelemtime(34)=0
value = -40
ID = -1
kill = cond((root,var(39)=0),1,0)  ;1
absolute = 0
;ignorehitpause =
;persistent =

[State 0, VarSet] ;Combo keeper
type = ParentVarSet
trigger1 = 1
var(35) = hitcount
;ignorehitpause =
;persistent =



[State 3033, End]
type = DestroySelf
;trigger1 = enemynear, ctrl
;trigger1 = (enemynear, MoveType != H)
;trigger1 = (enemynear, stateno != 5300)
trigger1 = time=350

;TEMP Z2 EMO struggle
[Statedef 4053]
type = A
physics = N
movetype = A ;I
velset = 0, 0
ctrl = 0
sprpriority = 10
anim = 9999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, EnvColor]
type = EnvColor
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=0
trigger2 = target,animelemtime(11)=0
trigger3 = target,animelemtime(16)=0
trigger4 = target,animelemtime(20)=0
trigger5 = target,animelemtime(27)=0
trigger6 = target,animelemtime(34)=0
trigger7 = target,animelemtime(41)=0
trigger8 = target,animelemtime(47)=0
trigger9 = target,animelemtime(55)=0
trigger10 = target,animelemtime(60)=0
trigger11 = target,animelemtime(68)=0
value = 255,181,181
time = 2
;under = 0
ignorehitpause = 1
;persistent =


[State 2311, Sparks]     ;Cybaster way
type=null;explod
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=0
trigger2 = target,animelemtime(11)=0
trigger3 = target,animelemtime(16)=0
trigger4 = target,animelemtime(20)=0
trigger5 = target,animelemtime(27)=0
trigger6 = target,animelemtime(34)=0
trigger7 = target,animelemtime(41)=0
trigger8 = target,animelemtime(47)=0
trigger9 = target,animelemtime(55)=0
trigger10 = target,animelemtime(60)=0
trigger11 = target,animelemtime(68)=0
ID = 7020
anim=7010+10*(random%3)
sprpriority=10
postype= left
pos= ceil(target,screenpos X)-random%20,ceil(target,screenpos Y)-random%20
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=0
trigger2 = target,animelemtime(11)=0
trigger3 = target,animelemtime(16)=0
trigger4 = target,animelemtime(20)=0
trigger5 = target,animelemtime(27)=0
trigger6 = target,animelemtime(34)=0
trigger7 = target,animelemtime(41)=0
trigger8 = target,animelemtime(47)=0
trigger9 = target,animelemtime(55)=0
trigger10 = target,animelemtime(60)=0
trigger11 = target,animelemtime(68)=0
value = 5,random%6
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=0
trigger2 = target,animelemtime(11)=0
trigger3 = target,animelemtime(16)=0
trigger4 = target,animelemtime(20)=0
trigger5 = target,animelemtime(27)=0
trigger6 = target,animelemtime(34)=0
trigger7 = target,animelemtime(41)=0
trigger8 = target,animelemtime(47)=0
trigger9 = target,animelemtime(55)=0
trigger10 = target,animelemtime(60)=0
value = -28
ID = -1
kill = 0
absolute = 0
;ignorehitpause =
;persistent =

[State 0, HitAdd]
type = HitAdd
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=0
trigger2 = target,animelemtime(11)=0
trigger3 = target,animelemtime(16)=0
trigger4 = target,animelemtime(20)=0
trigger5 = target,animelemtime(27)=0
trigger6 = target,animelemtime(34)=0
trigger7 = target,animelemtime(41)=0
trigger8 = target,animelemtime(47)=0
trigger9 = target,animelemtime(55)=0
trigger10 = target,animelemtime(60)=0
trigger11 = target,animelemtime(68)=0
value = 1
;ignorehitpause =
;persistent =

[State 3002, Broken neck]
type = PlaySnd
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(3)=1
trigger2 = target,animelemtime(11)=1
trigger3 = target,animelemtime(16)=1
trigger4 = target,animelemtime(20)=1
trigger5 = target,animelemtime(27)=1
trigger6 = target,animelemtime(34)=1
trigger7 = target,animelemtime(41)=1
trigger8 = target,animelemtime(47)=1
trigger9 = target,animelemtime(55)=1
trigger10 = target,animelemtime(60)=1
trigger11 = target,animelemtime(68)=1
value = 2875,random%2
channel = -1
volumescale = 300

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(68)=0
ID = 8400
anim=8400
sprpriority=10
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 2311, Sparks]     ;Cybaster way
type=explod
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(68)=0
ID = 8401
anim=8401
sprpriority=-10
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
;persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = NumTarget
trigger1 = target,anim=4026
trigger1 = target,animelemtime(68)=0
value = 800,2
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = NumTarget
trigger1 = target,anim=4026
trigger1 = target,animelemtime(68)=0
x = target,pos X
y = 0
;ignorehitpause =
;persistent =

[State 3554, Exclamation]
type = Explod
trigger1 = NumTarget
trigger1 = target,anim=4026
trigger1 = target,animelemtime(68)=0
anim = 3559
id = 3559
postype= left
pos= ceil(target,screenpos X),ceil(target,screenpos Y)
sprpriority = 5
bindtime = -1
scale = 1,1
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
persistent = 0
ontop = 1


[State 0, VarSet]
type = VarSet
trigger1 = NumTarget
trigger1 = target,anim=4026
trigger1 = target,animelemtime(76)=0
var(1)=2
ignorehitpause = 1
;persistent =

[State 0, TargetLifeAdd] ;Last hit
type = TargetLifeAdd
triggerall = NumTarget
triggerall = target,anim=4026
trigger1 = target,animelemtime(76)=0
value = -40
ID = -1
kill = cond((root,var(39)=0),1,0)  ;1
absolute = 0
;ignorehitpause =
;persistent =

[State 0, VarSet] ;Combo keeper
type = ParentVarSet
trigger1 = 1
var(35) = hitcount
;ignorehitpause =
;persistent =



[State 3033, End]
type = DestroySelf
;trigger1 = enemynear, ctrl
;trigger1 = (enemynear, MoveType != H)
;trigger1 = (enemynear, stateno != 5300)
trigger1 = time=350

;EMO Scream vanish
[Statedef 4054]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 4

[State 1305, nothitby]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !Animtime
ignorehitpause = 1
;persistent =


;====================================
; Vertical Lines BG
[Statedef 4070]
type = A
movetype = A
physics = N
anim = 2771
velset = 0,0

[State 2260, push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2260, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 2260, flash]
type = null ;PalFX
trigger1 = TimeMod = 4,0
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 0

[state 3250, speedlines]
type = explod
trigger1 = time = 0
anim = 12773
ID = 2773
postype = back
pos = 10,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
;pausemovetime = 145
removetime = -1

[state 3250, speedlines2]
type = explod
trigger1 = time = 0
anim = 12773
ID = 2773
postype = back
pos = 240,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
;pausemovetime = 145
removetime = -1

[State 2260, destroy explod]
type = RemoveExplod
trigger1 = root,stateno != [4001,4003] ;EMO startup
ID = 2773

[State 2260, destroy]
type = DestroySelf
trigger1 = root,stateno != [4001,4003] ;EMO startup

;Finisher 1 - Destroy Everything!
[Statedef 4100]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time<300
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 301
;elem = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=301
trigger1 = !animtime
value = 4100
;elem = 1
;ignorehitpause =
;persistent =

[State 3000, Camera]
type = helper
triggerall = !NumHelper(19705)
trigger1 = Anim=4100
trigger1 = AnimElemTime(10)=0
helpertype = normal
stateno = 19705
ID = 19705
name = "Camera"
postype = p1
pos = 0,0 ;-240
ownpal = 1

[State 1600, ball]
type = helper
triggerall = !NumHelper(4150)
trigger1 = Anim=4100
trigger1 = AnimElemTime(10)=0
helpertype = normal
stateno = 4150
ID = 4150
name = "Destroy Everything"
postype = p1
pos = 10,-120 ;0,-178
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1

[State 0, PlaySnd] ;bye bye!
type = PlaySnd
trigger1 = time=290
value = 4100,random%4
channel = 0
ignorehitpause = 1
volumescale = 255
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=300
value = 4101 ;temp placeholder
;elem = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd] ;launch
type = PlaySnd
trigger1 = time=300
value = 4150,1
channel = -1
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time=300
x = -3
y = 0
;ignorehitpause =
;persistent =

[State 2201, helper]; Background lines
type = Helper
trigger1 = time=300
;pos = -170, 200
pos = 100, 240
postype = back
stateno = 4155
helpertype = normal
name = "diagonal_lines_BG"
id = 4155
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150

[State 2201, helper]; Background lines
type = Helper
trigger1 = time=300
;pos = 150, 150
pos = 325, 125
postype = back
stateno = 4155
helpertype = normal
name = "diagonal_lines_BG"
id = 4155
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150

[State 800, end]
type = changestate
trigger1 = time = 380 ;240
value = 4101
ctrl = 0

;P1 offscreen
[Statedef 4101]
type = A
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0,0
sprpriority = 10
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
time = 1
under = 1
ignorehitpause = 1
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = 500*facing
y = 0
ignorehitpause = 1
;persistent =

[State 2201, helper]; Dust 1
type = Helper
trigger1 = !time
;pos = 150, 150
pos = 0, 0
postype = back
stateno = 4152
helpertype = normal
name = "dust"
;id = 2774
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
size.xscale = -1
size.yscale = 1

[State 2201, helper]; Dust 2
type = Helper
trigger1 = time=10
;pos = 150, 150
pos = 0, 0
postype = back
stateno = 4153
helpertype = normal
name = "dust"
;id = 2774
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
size.xscale = 1
size.yscale = 1

[State 2400, end] ;Destroy Everything ball vanishes
type = changestate
trigger1 = NumHelper(4150) ;time=400
trigger1 = Helper(4150),stateno=4151
value = 4102
ctrl = 0

;P1 back to screen
[Statedef 4102]
type = S
physics = N
movetype = I
anim = 0
ctrl = 0
velset = 0,0
sprpriority = 0
;facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -80*facing
y = -400
;ignorehitpause =
;persistent =

[State -2, cracked ground buffer hack]
type = Explod
triggerall = !NumExplod(4123)
trigger1 = !time
ID = 4123
anim = 4123
postype	= p2
pos = 0,-2
sprpriority = -10
removetime = -2
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod] ;Piccolo Compatibility
type = RemoveExplod
trigger1 = !NumHelper(4150)
id = 991901

[State 0, ChangeState]
type = ChangeState
trigger1 = !NumHelper(4150) ;time=100
value = 2120
ctrl = 0;1
;anim =
;ignorehitpause =
;persistent =

;P2 offscreen
[Statedef 4120]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -10
facep2 = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4120 ;5150
;elem = 1
;ignorehitpause =
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = -500*facing
y = 0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4101
x = -80*facing
y = 0
;ignorehitpause =
persistent = 0

;P2 hit by Ball
[Statedef 4121]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -10
;facep2 = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4121 ;5150
;elem = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4102
trigger2 = enemy,stateno=2120
value = 4121 ;5150
elem = 2
;ignorehitpause =
;persistent =

[State 0, ChangeState] ;to bounce
type = ChangeState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4102
trigger1 = enemy,time=1
value = 4122
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, SelfState]
type = SelfState
triggerall = enemy,name="Buu Z2"
;trigger1 = enemy,stateno=4102
;trigger1 = enemy,time=10
trigger1 = enemy,stateno=0
trigger1 = enemy,ctrl
;trigger1 = enemy,var(39)=0
;trigger1 = Alive
;trigger1 = Time=215
;trigger2 = enemy,var(39)>0 ;finishers
;trigger2 = Time=800
value = 5120
ctrl = 0
ignorehitpause = 1
persistent = 1

;P2 bounce by Ball
[Statedef 4122]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.5

[State 5100, 10]
type = null ;PlaySnd
trigger1 = Time = 1
value = f7,2

[State 5100, 5]
type = VelSet
trigger1 = AnimTime = 0
y = -12 ;-7
x = -2

[State 111, 1]
type = StateTypeSet
trigger1 = AnimTime = 0
physics = A

[State 5100, 12]
type = SelfState
trigger1 = AnimTime = 0
value = 5050

;DESTROY FINISHER HELPER
[Statedef 4150]
type = A
physics = N
movetype = I
anim = 4150
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
;flag3 = roundnotover
ignorehitpause = 1
;persistent =


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 4150,0
channel = 5
ignorehitpause = 1
;persistent =


[State 1605, Pos]
type = bindtoroot
trigger1 = root,anim=4100
pos = 13,-163 ;0,-178 ;30, -44

[State 0, VarSet]
type = VarSet
trigger1 = time>0
trigger1 = root,anim=4100
var(1)= time
;ignorehitpause =
;persistent =

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = time>0
;trigger1 = root,anim!=0
value = 1
scale = 0.1+(var(1)/10.0),0.1+(var(1)/10.0)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = root,anim=4101
x = 3
y = 3
;ignorehitpause =
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = root,stateno=4101
x = -480*facing
y = -400
;ignorehitpause =
persistent = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = root,stateno=4101
value = 10
;ignorehitpause =
;persistent =


[State 0, VelSet]
type = VelSet
trigger1 = root,stateno=4101
trigger1 = pos y >=90
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = root,stateno=4101
trigger1 = pos y >=50
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
ignorehitpause = 1
persistent = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = movecontact=1
value = 8
ignorehitpause = 1
persistent = 0

[state 1215, Smoke FX]
type = null;explod
triggerall = !NumExplod(4152)
trigger1 = root,stateno=4101
trigger1 = pos y >=50
anim = 10000
id = 4152
pos = -10,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1
scale = .8,.8



[State 4106, Hitdef]
type = HitDef
trigger1 = root,stateno=4101
trigger1 = pos y >=50
attr = A, HP
animtype  = hard
damage    = 0,0 ;ceil(16*root,fvar(12)), ceil(2*root,fvar(12))
priority  = 4,Hit
guardflag = HA ;MA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 2,1
sparkno = -1 ;S3435 ;s7010
guard.sparkno = -1
sparkxy = 0,0
hitsound   = s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 15
ground.hittime  = 15
guard.slidetime = 7
guard.hittime  = 7
ground.velocity = -2,0
guard.velocity = -2
air.velocity = -2,5
airguard.velocity = -2, 2
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 0,0
p1sprpriority = 10
;p2stateno = 4112 ;4113
;kill = 0
;persistent = 0

[State 0, TargetState]
type = TargetState
trigger1 = movecontact=1
value = 4121
ID = -1
ignorehitpause = 1
;persistent = 0

[State 0, HitAdd]
type = null;HitAdd
trigger1 = NumTarget
trigger1 = target,stateno=4121
trigger1 = time%10
value = 1
ignorehitpause = 1
;persistent =

[State 0, AllPalFX]
type = AllPalFX
trigger1 = root,stateno=4101
trigger1 = hitcount>0 ;pos y >=90
time = 1
;add = 255,198,232
add = 255,198,232
mul = 25*(hitcount-8),25*(hitcount-8),25*(hitcount-8) ;256,256,256
sinadd = 0,0,0,10
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =

;hitcount>=20

[State 0, PlaySnd] ;explosion
type = PlaySnd
trigger1 = hitcount>=28
value = 4150,10
volumescale = 300
ignorehitpause = 1
persistent = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = hitcount>=28
value = 4151
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;DF dust 1
[Statedef 4152]
type = A
physics = N
movetype = I
anim = 10000
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = -90*enemy,facing
y = 5
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4102
ignorehitpause = 1
;persistent =


;DF dust 2
[Statedef 4153]
type = A
physics = N
movetype = I
anim = 10000
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = -10*enemy,facing
y = 5
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4102
ignorehitpause = 1
;persistent =

;DF ball Vanish
[Statedef 4151]
type = A
physics = N
movetype = I
anim = 4151
ctrl = 0
sprpriority = 10

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = !time
value = -90
ID = -1
kill = 1
absolute = 1
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 10,10
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, AllPalFX]
type = null;AllPalFX
trigger1 = 1
time = 1
add = 256,256,256
mul = 256-25*time,256-25*time,256-25*time
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-10*(time),0+10*(time)
;alpha = 0+10*(time),256-10*(time)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=25 ;240
;ignorehitpause =
;persistent =

; Diagonal Lines BG
[Statedef 4155]
type = A
MoveType = A
physics = N
anim = 4155
velset = 0,0
sprpriority = -1

[State 2260, rotate]
type = Angledraw
trigger1 = 1
value = -45

[State 2260, push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2260, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 2260, destroy]
type = DestroySelf
trigger1 = root,stateno!=[4100,4101] ;F1
trigger2 = NumHelper(19875)

;Finisher1 CAMERA
[Statedef 19705]
type    = S
movetype= I
physics = N
anim = 9999
sprpriority = -10

[State 19705, 1]
type = screenbound
trigger1 = 1
movecamera = 1,1
value = 1

[State 19705, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 19705, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 0 ;200 ;-220 ;145
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time=10
x = 0
y = -2 ;-3
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time= 90
y = 0
ignorehitpause =  1

[State 0, VelSet]
type = VelSet
trigger1 = root,anim=4101
x = 0
y = 2 ;3
;ignorehitpause =
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = root,stateno=4101
x = 0
y = 0
;ignorehitpause =
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time=170
trigger2 = root,stateno=4101
;trigger2 = ScreenPos Y<0
x = 0
y = 0

[State 19705, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4102 ;time = 800 ;250 ;80

;Finisher 2 - Eat you!
[Statedef 4200]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = nojugglecheck
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 1
;ignorehitpause =
;persistent =


[State 0, AngleDraw]
type = AngleDraw
trigger1 = !time
value = 1
scale = 1,1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 301
;elem = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=301
trigger1 = !animtime
value = 4200
;elem = 1
;ignorehitpause =
;persistent =

[State 1600, FX beam]
type = helper
triggerall = !NumHelper(4251)
trigger1 = Anim=4200
trigger1 = AnimElemTime(5)=2
helpertype = normal
stateno = 4251
ID = 4251
name = "Candy FX Finisher"
postype = p1
pos = 0,0
ownpal = 1
size.xscale = 1
size.yscale = 1


[State 1600, beam]
type = helper
triggerall = !NumHelper(4250)
trigger1 = Anim=4200
trigger1 = AnimElemtime(6)=0
helpertype = normal
stateno = 4250
ID = 4250
name = "Candy Finisher"
postype = p1
pos = 0,0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1600, snd] ;Turn to Chocolate!
type = playsnd
trigger1 = Anim=4200
trigger1 = AnimElemtime(6)=0
value = 4200,random%2
volumescale = 255
channel = 0

[State 1600, snd]
type = playsnd
trigger1 = Anim=4200
trigger1 = AnimElemtime(6)=0
value = 1600,0 ;2400,2

[State 1600, snd]
type = null; playsnd
trigger1 = Anim=1601
trigger1 = AnimElemtime(1)=0
value = 1600,0 ;2400,2

[State 3120, hit]
type = HitDef
trigger1 = time >0
attr = S, SA
damage    = 0,0
animtype = light
hitflag = MAFD+
;guardflag = MA
priority = 4, Hit
pausetime = 0,0 ;13,13
guard.pausetime = 0,0 ;13,7
sparkno = -1 ;s7030
guard.sparkno = -1 ;s7000
hitsound   = -1 ;s5, 5
guardsound = -1 ;S6,1
ground.type = High
ground.slidetime = 0
ground.hittime = 0
ground.velocity = 0,0
guard.velocity = 0
air.velocity =0,0
getpower = 0,0
givepower = 0,0
fall = 1
fall.recover = 0
yaccel = 0.5
persistent = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit
trigger1 = !(target, ishelper)
value = 4220
ID = -1
;ignorehitpause =
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
value = 1550,4
channel = 5
ignorehitpause = 1
;persistent =

[State 0, PlaySnd] ;cursed sound
type = PlaySnd
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
value = 1550,5
ignorehitpause = 1
;persistent =

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = Anim=4200
trigger1 = AnimElemtime(7)>=0
value = 1
scale = 1+((time-44)/30.0),1+((time-44)/30.0)  ;49

[State 0, PosAdd]
type = PosAdd
trigger1 = Anim=4200
trigger1 = AnimElemtime(7)>=0
x = -4 ;-6 ;-0.05 ;-1
;ignorehitpause =
;persistent =

[State 1600, floor]
type = null; helper
triggerall = !NumHelper(4246)
trigger1 = !NumHelper(4250)
trigger1 = time>100
helpertype = normal
stateno = 4246
ID = 4246
name = "Giant Floor"
postype = p1
pos = 0,0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = Anim=4200
trigger1 = time=190
value = 1
scale = 1,1

[State 1600, End]
type = changestate
trigger1 = Anim=4200
trigger1 = time=200 ;!animtime
value = 4201
ctrl = 0

;F_2 - Giant Buu
[Statedef 4201]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 5
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial] ;Scale Hack
type = AssertSpecial
trigger1 = Time=[0,2]
flag = invisible

[State 0, PlaySnd] ;Hunger!!!
type = PlaySnd
trigger1 = !time
value = 4201,3+random%2
volumescale = 255
channel = 0

[State 2201, helper]; Background lines
type = Helper
trigger1 = !NumHelper(4270)
trigger1 = !time
pos = -640, -480
postype = back
stateno = 4270
helpertype = normal
name = "horizontal_lines_BG"
id = 4270
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
sprpriority = 2
size.xscale = 5
size.yscale= 5

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = !time
value = 1
scale = 1,1

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -500*facing ;250
y = Pos Y - ScreenPos Y ;-200
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 4201
;elem = 1
;ignorehitpause =
;persistent =

[State 0, VelSet Forward]
type = VelSet
trigger1 = !time;>0
;trigger1 = BackEdgeDist<-50
x = 5
y = 0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim] ;to open mouth
type = ChangeAnim
trigger1 = Anim=4201
trigger1 = Numtarget
trigger1 = (target,ScreenPos X)-(ScreenPos X)>= -350
value = 4202
;elem = 1
;ignorehitpause =
persistent = 0

[State 0, PlaySnd] ;Wind Absorb TEMP
type = PlaySnd
trigger1 = Anim=4202
value = 4201,0
channel = 5
;lowpriority = 1
;ignorehitpause =
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = Anim=4202
trigger1 = time>0
trigger1 = BackEdgeDist>=-50
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim] ;to vacuum back
type = ChangeAnim
trigger1 = Anim=4202
trigger1 = vel X=0
value = 4203
persistent = 0

[State 0, VelSet Backward]
type = VelAdd
trigger1 = Anim=4203
trigger1 = Numtarget
trigger1 = target,Anim=100 || Target,Anim=20
trigger1 = target,AnimElemTime(1)>=0
x = -0.15
y = 0
;ignorehitpause =
;persistent =

[state 1215, Smoke FX 1] ;char
type = explod
trigger1 = !NumExplod(4244)
trigger1 = Numtarget
trigger1 = target,Anim=100 || Target,Anim=20
trigger1 = target,AnimElemTime(1)>=0
anim = 4244
id = 4244
pos = 0,-10
postype = P2
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = -2
ignorehitpause = 1
scale = 0.9,0.9


[state 1215, Smoke FX 2] ;front
type = explod
trigger1 = !NumExplod(4245)
trigger1 = time>=100
anim = 4244
id = 4245
pos = -110,10
postype = P2
sprpriority = 6
ownpal = 1
bindtime = -1
removetime = -2
ignorehitpause = 1

[state 1215, Smoke FX 3];back
type = explod
trigger1 = !NumExplod(4246)
trigger1 = time>=137
anim = 4244
id = 4246
pos = 90,-20
postype = P2
sprpriority = 0
ownpal = 1
bindtime = -1
removetime = -2
ignorehitpause = 1
scale = 0.8,0.8

[State 0, ChangeAnim] ;to vacuum forward
type = ChangeAnim
trigger1 = Anim=4203
trigger1 = Numtarget
trigger1 = abs((target,ScreenPos X)-(ScreenPos X))>380 ;<-380
value = 4204
persistent = 0

[State 0, VelSet]
type = VelAdd
trigger1 = Anim=4204
trigger1 = Numtarget
trigger1 = abs((target,ScreenPos X)-(ScreenPos X))>380 ;<-380
x = 0.2
y = 0
;ignorehitpause =
;persistent = 0

[State 3830, AllPalFX]
type = AllPalFX
trigger1 = Time>110
time = 1
add = -4*(Time-110),-4*(Time-110),-4*(Time-110)

[State 0, PlaySnd] ;Gyam Gyam /You look like you could be tasty
type = PlaySnd
trigger1 = time=120 ;150
value = 1620,random%3 ;4201,1+random%2
volumescale = 255
channel = 0

[State 0, PlaySnd] ;Swallow
type = PlaySnd
trigger1 = time=180 ;200
value = 4210,0
channel = 5
;lowpriority = 1
;ignorehitpause =
persistent = 0


[State 1600, End]
type = changestate
trigger1 = time=250 ;310 ;180 ;!animtime
value = 4210
ctrl = 0

;F_2 - Buu (Munch)
[Statedef 4210]
type = C
movetype = A
physics = C
anim = 1622
ctrl = 0
sprpriority = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0
ignorehitpause = 1
;persistent =

[State 810, bind]
type=targetbind
trigger1= 1
pos = 0,0

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5
;ignorehitpause =
;persistent =

[State 0, TargetState]
type = TargetState
trigger1 = !time
value = 4225
ID = -1
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -100*facing
y = 0
;ignorehitpause =
;persistent =

[State 3830, AllPalFX]
type = AllPalFX
trigger1 = Time<128
time = 1
add = 0,0,0
mul = 2*(Time),2*(Time),2*(Time)
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 0, PlaySnd] ;TEMP MUNCHING
type = PlaySnd
trigger1 = gametime%60
value = 410,0
channel = 5
lowpriority = 1
;ignorehitpause =
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 80
trigger2 = time = 160
trigger3 = time = 240
value = -30 ;-15
ID = -1
kill = 0
absolute = 0
;ignorehitpause =
;persistent =

[State 0, TargetLifeAdd]  ;Kill
type = TargetLifeAdd
trigger1 = time = 290
value = -30 ;-15
ID = -1
kill = 1
absolute = 0
;ignorehitpause =
;persistent =

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 80
trigger2 = time = 160
trigger3 = time = 240
trigger4 = time = 290
value = 1
;ignorehitpause =
;persistent =


[State 1400, to Swallow]
type = ChangeState
triggerall = NumTarget
trigger1 = target,alive=0 ;stop munching if enemy is KO'd
trigger1 = time=300
value = 4212
ctrl = 0

[State 1400, to Spit]
type = ChangeState
triggerall = NumTarget
trigger1 = target,alive=1 ;stop munching if enemy is alive
trigger1 = time=300
value = 4211
ctrl = 0

;F_2 - Buu (Spit)
[Statedef 4211]
type = C
movetype = A
physics = C
anim = 1623
ctrl = 0
sprpriority = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0
ignorehitpause = 1
;persistent =


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4)=0
value = 1600,10
channel = 0

[State 810, bind]
type=targetbind
trigger1= time<15 ;1
pos = 31,-58


[State 0, TargetState]  ;Alive
type = TargetState
trigger1 = time=15
value = 4226
ID = -1
;ignorehitpause =
;persistent =

[State 3331, Spit]
type=explod
triggerall = !NumExplod(1626)
trigger1 = AnimElemtime(4)=3
anim = 1626
ID = 1626
sprpriority=8
postype=p2
pos= 0,0 ;(target,const(size.ground.front)-10),floor(p2dist y)
removetime=-1
bindtime=-1
ownpal=1
facing=-1
ignorehitpause=1
persistent=0
pausemovetime=100
supermovetime=100

[State 3331, Sparks]
type=explod
triggerall = !NumExplod(1606)
triggerall = Numtarget
trigger1 = target,stateno=4226
trigger1 = target,time=8
anim=3304 ;3303 ;3712
ID = 1606
sprpriority=9
postype=p2
pos= 0,0 ;(target,const(size.ground.front)-10),floor(p2dist y)
removetime=-2
bindtime=-1
ownpal=1
facing=-1
ignorehitpause=1
persistent=0
pausemovetime=100
supermovetime=100

[State 0, PlaySnd]
type = PlaySnd
triggerall = Numtarget
trigger1 = target,stateno=4226
trigger1 = target,time=8
value = 1550,4
channel = 5
ignorehitpause = 1
;persistent =

[State 0, Remove Spit]
type = RemoveExplod
triggerall = Numtarget
trigger1 = target,stateno=4226
trigger1 = target,time=8
id =  1626
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Piccolo Compatibility
type = RemoveExplod
trigger1 = !AnimTime
id = 991901

[State 800, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;F_2 - Buu (Swallow)
[Statedef 4212]
type = C
movetype = A
physics = C
anim = 1630
ctrl = 0
sprpriority = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !ishelper
flag =  invisible
;ignorehitpause =
;persistent =

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0
ignorehitpause = 1
;persistent =

[State 0, PlaySnd]  ;swallow
type = PlaySnd
trigger1 = !time
value = 1620,10
channel = -1
ignorehitpause = 1
;persistent =


[State 1600, ]
type = helper
triggerall = !NumHelper(28800)
trigger1 = !time
helpertype = normal
stateno = 4212
ID = 28800
name = "Buu - Swallow"
postype = p1
pos = 0,0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, TargetState]
type = TargetState
trigger1 = !time
value = 4226
ID = -1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = ishelper
trigger1 = Anim=1630
trigger1 = !animtime
value = 1631
;elem = 1
;ignorehitpause =
;persistent =

[State 1600, snd] ;Candy is dandy/I could go for a dessert!
type = playsnd
triggerall = ishelper
trigger1 = Anim=1631
trigger1 = AnimElemTime(1)=0
value = 4212,random%5
channel = 0
persistent = 0

[State 0, RemoveExplod] ;Piccolo Compatibility
type = RemoveExplod
triggerall = !ishelper
trigger1 = !animtime
id = 991901

[State 800, end]
type = changestate
triggerall = !ishelper
trigger1 = !animtime
value = 0
ctrl = 1

;P2 Chocoified
[Statedef 4220]
type = S
movetype = H
physics = S
;anim = 5011 ;5300
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA


[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = !time
value = 4220 ;cond(SelfAnimExist(5300)=1,5300,5000)
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim]
type = null;ChangeAnim2
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,Anim=4004
trigger1 = enemy,AnimElemTime(1)=0
value = 4025
ignorehitpause = 1
;persistent =

;total time 60-70
[State 0, PalFXWiz]
type = PalFX
trigger1 = time<20
trigger1 = gametime%4=0 ;1
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1
[State 0, PalFXWiz]
type = PalFX
trigger1 = time=[20,50]
trigger1 = gametime%2=0 ;1
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1
[State 0, PalFXWiz]
type = PalFX
trigger1 = time>50
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time= 65
value = 4221
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, SelfState]
type = SelfState
trigger1 = Time=240 ;180
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
; P2 Choco HIT_TRIP2 (fall through air)
[Statedef 4221]
type    = A
movetype= H
physics = N

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 5071, 1]
type = VelSet
trigger1 = !Time
x = GetHitVar(xvel) * facing
y = gethitvar(yvel)

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = time > 0  ;Vans Fix !!!
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = (ScreenPos Y - GameHeight)>=(Pos Y - ScreenPos Y + GameHeight -20) ;<=45 ;50;Pos Y >= 25 ;15
value = 4222 ;5110

;P2 CHOCO HIT lie dead
[Statedef 4222]
type    = L
movetype= H
physics = N

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = Pos Y - ScreenPos Y + GameHeight-25 ;-20 ;25 ;0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 15000,0

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = null;ChangeState
;triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 4023 ;5150

[State 0, ChangeState] ;to stand
type = ChangeState
trigger1 = time=20 ;35
value = 4223
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;P2 Choco get up
[Statedef 4223]
type    = S
movetype= H
physics = N
sprpriority = 2


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 25,-60,-40
mul = 150,110,64
sinadd = 10,10,10,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5120
;elem = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=5120
trigger1 = !animtime
value = 0
;elem = 1
;ignorehitpause =
;persistent =


[State 0, Turn]
type = Turn
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,Anim=4202
trigger1 = enemy,AnimElemTime(1)=0
trigger1 = facing != enemy,facing
;ignorehitpause =
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,Anim=4202
trigger1 = enemy,AnimElemTime(1)=0
;trigger1 = facing != enemy,facing
value = 5
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = enemy,name="Buu Z2"
trigger1 = Anim=5 && !animtime
;trigger2 = enemy,Anim=4202
;trigger2 = enemy,AnimElemTime(1)=0
;trigger2 = facing = enemy,facing
value = cond(!selfanimExist(100),20,100)
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelAdd
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,Anim=4204
trigger1 = Anim=100 || Anim=20
x = -0.05;*facing
y = 0
;ignorehitpause =
;persistent =

[State 0, SelfState]
type = SelfState
trigger1 = time=600
value = 0
;anim =
ctrl = 1
;ignorehitpause = 0
;persistent = 1

;P2 Choco Munch
[Statedef 4225]
type = S
physics = N
movetype = H
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 1652, Anim]
type = changeanim2
trigger1 = 1
value = 1650

[State 1651, Push]
type = playerpush
trigger1 = 1
value = 0

[State 1651, Pos]
type = null;posset
trigger1 = 1
y = -1
[State 1651, turn]
type = turn
trigger1 = !time

[State 0, SelfState]
type = SelfState
trigger1 = time = 500
value = 5201
;ignorehitpause = 0
;persistent = 1

;P2 Choco Spit
[Statedef 4226]
type = A ;S
physics = N
movetype = H
ctrl = 0
velset = -8, -6
sprpriority = 1
facep2 = 1

[State 1651, Push]
type = playerpush
trigger1 = 1
value = 0

[State 0, Hack]
type = AssertSpecial
trigger1 = time<20 ;1 ;!time
flag = invisible
ignorehitpause = 1
;persistent =


[State 200, VelAdd]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 0, AssertSpecial]
type = null ;AssertSpecial
trigger1 = !Alive
flag = invisible
ignorehitpause = 1

[State 3860, 1]
type = PosSet
trigger1 = !Alive
y = 9000

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
value = 5150

[State 0, SelfState]
type = null;SelfState
trigger1 = time=112
value = 5030 ;5201
;ignorehitpause = 0
;persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time= 17
value = 5070
;elem = 1
;ignorehitpause =
persistent = 0

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;5201

;GIANT FLOOR HELPER
[Statedef 4246]
type = A
physics = N
movetype = I
anim = 4246
ctrl = 0
sprpriority = -1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "PosY = %d Offset=%d"
params = Pos Y, (Pos Y - ScreenPos Y + GameHeight +50)
;ignorehitpause =
;persistent =

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = Pos Y - ScreenPos Y + GameHeight +50 ;97 ;45 ;95
;ignorehitpause =
;persistent =

;13 ticks
[State 0, PosAdd]
type = PosAdd
trigger1 = time<12
y = -4
;ignorehitpause =
;persistent =



[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4210
trigger1 = root,AnimElemTime(1)=0
;ignorehitpause =
;persistent =


;CANDY FINISHER HELPER
[Statedef 4250]
type = A
physics = N
movetype = I
anim = 1607 ;1605
ctrl = 0
sprpriority = 10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =


[State 1605, Pos]
type = bindtoroot
trigger1 = 1
pos = 0,0 ;30, -44

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = time>=8;6
value = 1
scale = 1+((time-8)/30.0),1+((time-8)/30.0)  ;30.0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=45 ;55
value = 1608 ;1606
;elem = 1
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Anim=1608 ;1606
trigger1 = !animtime
;ignorehitpause =
;persistent =

;CANDY FX FINISHER HELPER
[Statedef 4251]
type = A
physics = N
movetype = I
anim = 1609
ctrl = 0
sprpriority = 11

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =


[State 1605, Pos]
type = bindtoroot
trigger1 = 1
pos = 0,0 ;30, -44

[State 0, AngleDraw] ;TEMP
type = AngleDraw
trigger1 = time>=8;6
value = 1
scale = 1+((time-8)/30.0),1+((time-8)/30.0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=45 ;55
value = 1610 ;1606
;elem = 1
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Anim=1610 ;1606
trigger1 = !animtime
;ignorehitpause =
;persistent =

;------------------------------------------------
; Horizontal Lines BG

[Statedef 4270]
type = A
movetype = A
physics = N
anim = 15999
velset = 0,0

[State 2260, push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2260, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 2260, flash]
type = PalFX
trigger1 = TimeMod = 4,0
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 0

[state 3250, speedlines]
type = explod
trigger1 = time = 0
anim = 2923
ID = 2923
postype = back
pos = 0,10
bindtime = -1
supermove = 0
pausemovetime = 224
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1
removetime = 224

[state 3250, speedlines2]
type = explod
trigger1 = time = 0
anim = 2923
ID = 2923
postype = back
pos = 0,240
bindtime = -1
supermove = 0
pausemovetime = 224
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1
removetime = 224

[State 2260, destroy explod]
type = RemoveExplod
trigger1 = root,stateno!=4201 ;Giant Buu F2
trigger1 = root,stateno!=4000 ;Kill you! Lv3
ID = 2923

[State 2260, destroy]
type = DestroySelf
trigger1 = root,stateno!=4201 ;Giant Buu F2
trigger1 = root,stateno!=4000 ;Kill you! Lv3

;Finisher 3 - Human Extinction Attack!
[Statedef 4300]
type = A
physics = N
movetype = A
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, AssertSpecial] ; Pause timer
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 ;time<300
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 1
;ignorehitpause =
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 301
;elem = 1
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=301
trigger1 = !animtime
value = 4300
;elem = 1
;ignorehitpause =
;persistent =

[State 3000, Camera]
type = helper
triggerall = !NumHelper(19706)
trigger1 = Anim=4300
trigger1 = AnimElemTime(1)=0
helpertype = normal
stateno = 19706
ID = 19706
name = "Camera"
postype = p1
pos = 0,0 ;-240
ownpal = 1


[State 0, AssertSpecial] ; BGM OFF
type = AssertSpecial
trigger1 = NumHelper(19706)
flag = nomusic
ignorehitpause = 1
;persistent =

[State 0, PlaySnd] ;EPIC BGM
type = PlaySnd
trigger1 = Anim=4300
trigger1 = AnimElemTime(1)=0
value = 4300,0
channel = 14
volumescale = 255
;ignorehitpause =
;persistent =

[State 0, PlaySnd]  ;aura sound
type = PlaySnd
trigger1 = Anim=4300
trigger1 = AnimElemTime(1)=0
value = 8,5
channel = 5
volumescale = 10 ;50
loop = 1



[State 0, Explod]  ;Small aura
type = Explod
triggerall = !NumExplod(4303)
trigger1 = Anim=4300
trigger1 = AnimElemTime(1)=0
anim = 4303
ID = 4303
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, PlaySnd] ;This means extinction!
type = PlaySnd
trigger1 = Anim=4300
trigger1 = AnimElemTime(6)=0
value = 4300,1+random%2
channel = 0
volumescale = 255
;ignorehitpause =
;persistent =

[State 183, face A]
type = Explod
trigger1 = Anim=4300
trigger1 = AnimElemTime(6)=10
anim =  43001
ID =  43001
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
facing = 1
vfacing = 1
bindtime = -1
removetime = 100 ;120 ;20 ;-1
scale = 1,1
sprpriority = 2
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, PlaySnd] ;charge sound
type = PlaySnd
trigger1 = Anim=4300
trigger1 = AnimElemTime(10)=0
value = 4301,1
volume = 0
channel = -1
;ignorehitpause =
;persistent =

[State 0, Explod] ;Charge Ball
type = Explod
triggerall = !NumExplod(4302)
trigger1 = Anim=4300
trigger1 = AnimElemTime(10)=0
anim = 4302
ID = 4302
pos = 0,-208 ;-215
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(4302)
ID = 4302
scale = 1-(0.05*(time%10)),1-(0.05*(time%10))


[State 0, RemoveExplod]  ;small aura
type = RemoveExplod
trigger1 = time=390
id = 4303
;ignorehitpause =
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = time=390
channel = 5
;ignorehitpause =
;persistent =

[State 0, Explod] ;Big Aura
type = Explod
trigger1 = time=390
anim = 4305
ID = 4305
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = -10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 4101, Temp Blast helper]
type = helper
triggerall = time>=390
trigger1 = time%10=0
helpertype = normal
stateno = 4306
ID = 4306
name = "Genocide Blast"
postype = p1
pos = 0, -325
ownpal = 1

[State 0, PlaySnd] ;energy sound
type = PlaySnd
trigger1 = time=400
value = 4301,0
volume = 0
channel = -1
;ignorehitpause =
;persistent =


[State 0, Black BG]
type = Helper
triggerall = !NumHelper(4309)
trigger1 = time = 800
helpertype = normal ;player
name = "Black BG"
ID = 4309
stateno = 4309
pos = 160,-120
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Space BG]
type = Helper
triggerall = !NumHelper(4310)
trigger1 = time = 880
helpertype = normal ;player
name = "Space BG"
ID = 4310
stateno = 4310
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 900
value = 4301
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;Finisher 3 - Space
[Statedef 4301]
type = S
physics = N
movetype = I
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =


[State 0, AssertSpecial] ;
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = nomusic
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = 500*facing
y = 0
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod]  ;charge ball
type = RemoveExplod
trigger1 = !time
id = 4302
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]  ;big aura
type = RemoveExplod
trigger1 = !time
id = 4305
;ignorehitpause =
;persistent =

[State 0, Black Curtain]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = time = 760
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 784 ;800
value = 4302
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


;Finisher 3 - Victims
[Statedef 4302]
type = S
physics = N
movetype = I
;anim = 4001
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial] ;
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = nomusic
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 2201, helper]; Background lines
type = Helper
trigger1 = !NumHelper(4325)
trigger1 = !time
pos = -640, -480
postype = back
stateno = 4325
helpertype = normal
name = "horizontal_lines_BG"
id = 4325
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
sprpriority = 2
size.xscale = 5
size.yscale= 5

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = 500*facing
y = 0
ignorehitpause = 1
;persistent =

[State 0, Victim 1]
type = Helper
triggerall = !NumHelper(4360)
trigger1 = !time
helpertype = normal ;player
name = "Victim 1"
ID = 4360
stateno = 4360
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 1]
type = Helper
triggerall = !NumHelper(4330)
trigger1 = !time ;=30
helpertype = normal ;player
name = "Beam1"
ID = 4330
stateno = 4330
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Black Curtain 1-2]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = NumHelper(4330)
trigger1 = Helper(4330),stateno=4343 ;2011
trigger1 = Helper(4330),time=10
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Victim 2]
type = Helper
triggerall = !NumHelper(4361)
trigger1 = time=70
helpertype = normal ;player
name = "Victim 2"
ID = 4361
stateno = 4361
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 2]
type = Helper
triggerall = !NumHelper(4331)
trigger1 = time=70
helpertype = normal ;player
name = "Beam2"
ID = 4331
stateno = 4331
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Black Curtain 2-3]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = NumHelper(4331)
trigger1 = Helper(4331),stateno=4343 ;2011
trigger1 = Helper(4331),time=10
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Victim 3]
type = Helper
triggerall = !NumHelper(4362)
trigger1 = time=160
helpertype = normal ;player
name = "Victim 3"
ID = 4362
stateno = 4362
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 3]
type = Helper
triggerall = !NumHelper(4332)
trigger1 = time=160
helpertype = normal ;player
name = "Beam3"
ID = 4332
stateno = 4332
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Black Curtain 3-4]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = NumHelper(4332)
trigger1 = Helper(4332),stateno=4343 ;2011
trigger1 = Helper(4332),time=10
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Victim 4]
type = Helper
triggerall = !NumHelper(4363)
trigger1 = time=250
helpertype = normal ;player
name = "Victim 4"
ID = 4363
stateno = 4363
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 4]
type = Helper
triggerall = !NumHelper(4333)
trigger1 = time=250
helpertype = normal ;player
name = "Beam4"
ID = 4333
stateno = 4333
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Black Curtain 4-5]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = NumHelper(4333)
trigger1 = Helper(4333),stateno=4343 ;2011
trigger1 = Helper(4333),time=10
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Victim 5 - Tien]
type = Helper
triggerall = numenemy
triggerall = (enemy,authorname="Team Z2")
triggerall = (enemy,Name = "Satan Z2") || (enemy,Name = "Shin Satan Z2")
triggerall = !NumHelper(4390)
trigger1 = time=340
helpertype = normal ;player
name = "Tien"
ID = 4390
stateno = 4397 ;Tien
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 5 - Tien]
type = Helper
triggerall = numenemy
triggerall = (enemy,authorname="Team Z2")
triggerall = (enemy,Name = "Satan Z2") || (enemy,Name = "Shin Satan Z2")
triggerall = !NumHelper(4334)
trigger1 = time=340
helpertype = normal ;player
name = "Beam Tien"
ID = 4334
stateno = 4334
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Victim 5 - Satan]
type = Helper
triggerall = numenemy
triggerall = (enemy,authorname="Team Z2")
triggerall = (enemy,Name = "Tien Z2")
triggerall = !NumHelper(4390)
trigger1 = time=340
helpertype = normal ;player
name = "Satan"
ID = 4390
stateno = 4399 ;Satan
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 5 - Satan]
type = Helper
triggerall = numenemy
triggerall = (enemy,authorname="Team Z2")
triggerall = (enemy,Name = "Tien Z2")
triggerall = !NumHelper(4334)
trigger1 = time=340
helpertype = normal ;player
name = "Beam Satan"
ID = 4334
stateno = 4335
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Victim 5 - Any]
type = Helper
triggerall = !NumHelper(4390)
trigger1 = time=340
helpertype = normal ;player
name = "Random"
ID = 4390
stateno = 4397+2*(gametime%2) ;Tien=97, Satan=99
pos = 0,220
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam 5 - Any]
type = Helper
triggerall = !NumHelper(4334)
trigger1 = time=340
helpertype = normal ;player
name = "Beam Any"
ID = 4334
stateno = 4334+(gametime%2) ;Tien=34, Satan=35
pos = 0,220
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Black Curtain 5-End]
type = Helper
triggerall = !NumHelper(4320)
trigger1 = NumHelper(4334)
trigger1 = Helper(4334),stateno=4343 ;2011
trigger1 = Helper(4334),time=10
helpertype = normal ;player
name = "Black Curtain"
ID = 4320
stateno = 4320
pos = 160,240
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 800, end]
type = changestate
triggerall = NumHelper(4320)
triggerall = Helper(4320),time=23
trigger1 = time>350 ;= 800 ;406 ;240
value = 4303
ctrl = 0

;Finisher 3 - Ender
[Statedef 4303]
type = S
physics = N
movetype = I
anim = 4301
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = timerfreeze
flag2 = nomusic
flag3 = nobardisplay
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = !time ; 1
x = 80;*facing
y = 0
ignorehitpause = 1
;persistent =

[State 0, Turn]
type = Turn
trigger1 = facing=1
;ignorehitpause =
persistent = 0


[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(4340)<10
triggerall = time<260 ;=30
trigger1 = time%24=0
trigger2 = time%24=12
helpertype = normal ;player
name = "Beam Ender R"
ID = 4340
stateno = 4340
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(43401)<10
triggerall = time<260 ;=30
trigger1 = time%24=6
trigger2 = time%24=18
helpertype = normal ;player
name = "Beam Ender R2"
ID = 43401
stateno = 4340
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(4341)<10
triggerall = time<260 ;=30
trigger1 = time%24=3
trigger2 = time%24=15
helpertype = normal ;player
name = "Beam Ender L"
ID = 4341
stateno = 4341
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(43411)<10
triggerall = time<260 ;=30
trigger1 = time%24=9
trigger2 = time%24=21
helpertype = normal ;player
name = "Beam Ender L2"
ID = 43411
stateno = 4341
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(4342)<10
triggerall = time<260 ;=30
trigger1 = time%6=4
trigger2 = time%6=16
helpertype = normal ;player
name = "Beam Ender M"
ID = 4342
stateno = 4342
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Beam Ender]
type = Helper
triggerall = NumHelper(43421)<10
triggerall = time<260 ;=30
trigger1 = time%24=8
trigger2 = time%24=20
helpertype = normal ;player
name = "Beam Ender M2"
ID = 43421
stateno = 4342
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, HitAdd]  ;retrieve old combo
type = HitAdd
;triggerall = Helper(4340),hitcount=0 && Helper(4341),hitcount=0 && Helper(4342),hitcount=0
;trigger1 = enemy,hitover=1
;trigger1 = enemy,stateno=[4316,4317]
;trigger1 = enemy,time=0
trigger1 = enemy,stateno=4316
trigger1 = enemy,time=1
value = var(35)+1
;ignorehitpause =
persistent = 0


[State 0, HitAdd]
type = HitAdd
;triggerall = Helper(4340),hitcount>0 || Helper(4341),hitcount>0 || Helper(4342),hitcount>0
trigger1 = enemy,hitover=0
trigger1 = enemy,stateno=4316
trigger1 = enemy,time=1
value = 1
;ignorehitpause =
;persistent =

[State 181, Laugh C]  ;Snort Laugh
type = playsnd
trigger1 = time=60
value = 183,3+random%3
channel = 0
volumescale = 300

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=291
value = 43011
;elem = 1
ignorehitpause = 1
;persistent =

[State 0, RemoveExplod] ;Piccolo Compatibility
type = RemoveExplod
trigger1 = time = 300
id = 991901

[State 800, end]
type = changestate
trigger1 = time = 300
value = 0
ctrl = 1

;F3 BEAM TEMP
[Statedef 4306]
type    = S
movetype= A
physics = N
;anim = 1010
sprpriority = 5
hitcountpersist = 1
movehitpersist = 1

[State 4106, Launch Sound]
type = PlaySnd
trigger1 = !time
value = 2010, 1

[State 3302, anim]
type = changeanim
trigger1 = !time
value = 4306

[State 3302, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;flag2 = invisible
ignorehitpause = 1

[State 4106, transparency]
type = Trans
trigger1 = root,var(2)=1
trans = addalpha
alpha = 200,128
ignorehitpause = 1

[State 4106, Turn]
type = null;AngleDraw
trigger1 = vel y<0
value = 180

[State 3302, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP
ignorehitpause = 1


[State 4106, Velocity]
type = VelSet
trigger1 = AnimElemTime(2)=0
x = 0.0 + Tan(random%8) - Tan(random%8)
y = -18

[State 4106, End]
type = destroyself
trigger1 = time>20

;BlackBG
[Statedef 4309]
type = S
movetype = I
physics = N
anim = 4309
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = -200
;ignorehitpause =
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time<64
trans = addalpha
alpha = 4*time,256-4*time

[State 0, Trans]
type = null;Trans
trigger1 = time=[36,226]
trans = addalpha
alpha = 216,40

[State 0, Trans]
type = Trans
trigger1 = root,stateno=4301
trigger1 = root,time>=0
trans = addalpha
alpha = 256-12*(root,time),0+12*(root,time)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4301
trigger1 = root,time=20;time>150
;ignorehitpause =
;persistent =

;Space BG
[Statedef 4310]
type = S
movetype = I
physics = N
anim = 9999
ctrl = 0
sprpriority = 9

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = (root,pos Y) + (GameHeight - root,ScreenPos Y) ;40
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = invisible
ignorehitpause = 1

[State 0, PalFXWiz] ;Namek effect
type = null;PalFX
trigger1 = StageVar(info.name) = "Namek"
trigger2 = StageVar(info.name) = "Namek (Porunga)"
time = 1
add = 0,130,30
mul = 0,128,90
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, PalFXWiz]  ;Destroyed Namek effect
type = null;PalFX
trigger1 = StageVar(info.name) = "Namek dying"
time = 1
add = -20,-200,-200
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0
ignorehitpause = 1

[State 0, Explod] ;Space mask for planets effects
type = Explod
triggerall = !NumExplod(4315)
trigger1 = !time
anim = 4315
ID = 4315
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0
;ontop = 1

[State 0, Explod] ;Root
type = Explod
;triggerall = !NumExplod(4314)
trigger1 = !time
anim = 4314
ID = 4314
pos = 2,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 99 ;120 ;-1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0
;ontop = 1

[State 0, Explod] ;Space
type = Explod
triggerall = !NumExplod(4310)
trigger1 = !time
anim = 4310
ID = 4310
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, Explod] ;Root2
type = Explod
;trigger1 = !NumExplod(4314)
trigger1 = time=99
anim = 4314
ID = 4314
pos = 2,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0
;ontop = 1

[State 4106, Launch Sound]
type = PlaySnd
trigger1 = time=120
trigger2 = time>160
trigger2 = time%20=1
value = 2010, 1
volumescale = 10

[State 4106, Explosion Sound]
type = PlaySnd
trigger1 = time=140
trigger2 = time>160
trigger2 = time%30=1
value = 2010, 2
volumescale = 10

[State 0, Beam 00A]
type = Helper
triggerall = !NumHelper(4344)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam 00A"
ID = 4344
stateno = 4344
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam 0A]
type = Helper
triggerall = !NumHelper(4345)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam 0A"
ID = 4345
stateno = 4345
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam A]
type = Helper
triggerall = !NumHelper(4346)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam A"
ID = 4346
stateno = 4346
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam B]
type = Helper
triggerall = !NumHelper(4347)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam B"
ID = 4347
stateno = 4347
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam C]
type = Helper
triggerall = !NumHelper(4348)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam C"
ID = 4348
stateno = 4348
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam D]
type = Helper
triggerall = !NumHelper(4349)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam C"
ID = 4349
stateno = 4349
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam E]
type = Helper
triggerall = !NumHelper(4350)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam E"
ID = 4350
stateno = 4350
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam F]
type = Helper
triggerall = !NumHelper(4351)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam F"
ID = 4351
stateno = 4351
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam G]
type = Helper
triggerall = !NumHelper(4352)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam G"
ID = 4352
stateno = 4352
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam H]
type = Helper
triggerall = !NumHelper(4353)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam H"
ID = 4353
stateno = 4353
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam I]
type = Helper
triggerall = !NumHelper(4354)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam I"
ID = 4354
stateno = 4354
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam J]
type = Helper
triggerall = !NumHelper(4355)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam J"
ID = 4355
stateno = 4355
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam K]
type = Helper
triggerall = !NumHelper(4356)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam K"
ID = 4356
stateno = 4356
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam L]
type = Helper
triggerall = !NumHelper(4357)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam L"
ID = 4357
stateno = 4357
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam M]
type = Helper
triggerall = !NumHelper(4358)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam M"
ID = 4358
stateno = 4358
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
[State 0, Beam N]
type = Helper
triggerall = !NumHelper(4359)
trigger1 = time>=120
helpertype = normal ;player
name = "Beam N"
ID = 4359
stateno = 4359
pos = 0,0 ;160,-120
postype = p1 ;back    ;p2,front,back,left,right
facing = facing ;-1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod] ;Explosions Low
type = Explod
;triggerall = !NumExplod(4311)
trigger1 = time>=240
trigger1 = time%24=0
anim = 4311
ID = 4311
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 20,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, Explod] ;Explosions Mid
type = Explod
;triggerall = !NumExplod(4312)
trigger1 = time>=360
trigger1 = time%36=0
anim = 4312
ID = 4312
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 20,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, Explod] ;Explosions High
type = Explod
;triggerall = !NumExplod(4313)
trigger1 = time>=480
trigger1 = time%60=0
anim = 4313
ID = 4313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = facing ; 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 20,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, RemoveExplod] ;Space
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4310
;ignorehitpause =
;persistent =


[State 0, RemoveExplod] ;Explosions Low
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4311
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Explosions Mid
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4312
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Explosions High
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4313
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Explosions Root
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4314
;ignorehitpause =
;persistent =

[State 0, RemoveExplod] ;Space Mask
type = RemoveExplod
trigger1 = root,stateno=4302
id = 4315
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
;trigger1 = time>4000
trigger1 = root,stateno=4302
;ignorehitpause =
;persistent =

;P2 Dizzy + offscreen
[Statedef 4315]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -10
facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5120
ignorehitpause = 1
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=5120
trigger1 = !animtime
value = cond(SelfAnimExist(5300)=1,5300,5000)
ignorehitpause = 1
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4301
x = -500*facing
y = 0
ignorehitpause = 1
;persistent =



[State 0, PosSet]
type = PosSet
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4303
x = -80;*facing
y = 0
;ignorehitpause =
persistent = 0

[State 0, Turn]
type = Turn
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4303
trigger1 = facing=-1
;ignorehitpause =
persistent = 0

[State 0, LifeAdd]
type = LifeAdd
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4303
value = -150 ;-250
kill = 0
absolute = 0
;ignorehitpause =
persistent = 0

;P2 Hit by Genocide Rain
[Statedef 4316]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -10
;facep2 = 1

[State 5020, 1]
type = ChangeAnim2
trigger1 = !Time
value = 4316

[State 0, VelSet]
type = VelSet
trigger1 = !time
;x = 0.2
y = -2 ;4
ignorehitpause = 1
;persistent =

[State 0, AllPalFX]
type = BGPalFX
trigger1 = 1
time = 1
;add = 255,198,232
add = 205,148,182
;mul = 256+12*(gethitvar(hitcount)),256+12*(gethitvar(hitcount)),256+12*(gethitvar(hitcount)) ;256,256,256
mul = 128+6*(gethitvar(hitcount)),128+6*(gethitvar(hitcount)),128+6*(gethitvar(hitcount))
sinadd = 40,40,40,10
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =




[State 5035, 2]
type = VelAdd
trigger1 = time > 0  ;Vans Fix !!!
y = GetHitVar(yaccel)


[State 5030, 4]
type = ChangeState
trigger1 = Vel Y > 0    ;Hit ground
trigger1 = Pos Y >= 10  ;.
value = 4317 ;HITA_FALL

;P2 Hit ground
[Statedef 4317]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -10

[State 5020, 1]
type = ChangeAnim2
trigger1 = !Time
value = 4317

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0
;ignorehitpause =
;persistent =

[State 0, AllPalFX]
type = null;BGPalFX
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=4303
trigger1 = enemy,time>=299
trigger2 = enemy,stateno=0
trigger2 = enemy,ctrl
time = 1
;add = 255,198,232
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,0
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =

[State 0, LifeAdd] ;killing blow
type = LifeAdd
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=0
trigger1 = enemy,ctrl
value = -1
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 0



[State 0, SelfState]
type = SelfState
triggerall = enemy,name="Buu Z2"
trigger1 = enemy,stateno=0
trigger1 = enemy,ctrl
value = 5120
ctrl = 0
ignorehitpause = 1
persistent = 1

;Black Curtain
[Statedef 4320]
type = S
movetype = I
physics = N
anim = 4320
ctrl = 0
sprpriority = 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = noshadow
ignorehitpause = 1


[State 0, PalFXWiz]  ;TEMP
type = null;PalFX
trigger1 = 1
time = 1
add = 0,50,240
mul = 120,224,150
sinadd = 85,55,110,10
invertall = 1
color = 0
;ignorehitpause = 0
;persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 2830,0
channel = 9

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 160
y = 27
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -20
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>50
;ignorehitpause =
;persistent =


; Horizontal Lines BG
[Statedef 4325]
type = A
movetype = A
physics = N
anim = 15999
velset = 0,0

[State 2260, push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2260, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 2260, flash]
type = PalFX
trigger1 = TimeMod = 4,0
trigger1 = 1
time = 1
invertall = 1
ignorehitpause = 0

[state 3250, speedlines]
type = explod
trigger1 = time = 0
anim = 2923
ID = 2923
postype = back
pos = 0,10
bindtime = -1
supermove = 0
pausemovetime = 224
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1
removetime = -1 ;224

[state 3250, speedlines2]
type = explod
trigger1 = time = 0
anim = 2923
ID = 2923
postype = back
pos = 0,240
bindtime = -1
supermove = 0
pausemovetime = 224
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1
removetime = -1 ;224

[State 2260, destroy explod]
type = RemoveExplod
trigger1 = root,stateno!=4302 ;F3 Victims
ID = 2923

[State 2260, destroy]
type = DestroySelf
trigger1 = root,stateno!=4302 ;F3 Victims

;Beam 1
[Statedef 4330]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 300
y = -400
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -10.0
y = 10.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -135 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =

[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam 2
[Statedef 4331]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -600
y = -600
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10.0
y = 10.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam 3
[Statedef 4332]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 180 ;200
y = -600
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -5.3
y = 10.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -120 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam 4
[Statedef 4333]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -500
y = -100
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 15.0
y = 1.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -20 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos x>250 ;pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam 5 - Tien
[Statedef 4334]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 125
y = -500
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -4.0
y = 15.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -120 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam 5 - Satan
[Statedef 4335]
type = S
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 600
y = -700
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -10.0
y = 10.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<56
value = -135 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time=56
x = -10.0
y = -5.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time=[56,64)
value = -225 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time=64
x = -10.0
y = 10.0
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=64
value = -135 ;-90
scale = 1,1
ignorehitpause = 1
;persistent =


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
affectteam = F          ;B,E,F
pausetime = 0,0
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 3.8,0
guard.velocity = 3.5
air.velocity = 2.8,-3
airguard.velocity = 2, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam Ender R
[Statedef 4340]
type = A
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10
;facep2 = 1
hitcountpersist = 1
movehitpersist = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = noshadow
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
;x = 100*(random%8) ;100*cond(random%2=0,random%5,-1*random%5) ;300
;x = 200*(1+random%4) ;100*cond(random%2=0,(random%8),-1*(random%8)) ;300
x = 150*(1+random%4) ;100*cond(random%2=0,(random%8),-1*(random%8)) ;300
;y = -400 ;-100*random%3 ;-400
y = -400-25*(1+random%3) ;-400;-100*(random%4) ;-400
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -10-2.0*(random%3) ;-5.0-(random/100.0) ;cond(random%2=0,(random%10),-1*(random%10))
y = 10+2.0*(random%3) ;random%10
;ignorehitpause =
;persistent =


;----------------------
[State 0, VarSet] ;angle
type = VarSet
;triggerall = p2dist y <=50
;trigger1 = !numtarget ;1 ;time=0
trigger1 = 1 ;time=1 ;time<2 ;5
fvar(4)= -90-(180/pi)*atan((-1*(vel y))/vel x)
;fvar(4)= -90+(180/pi)*atan((-1*fvar(6))/fvar(5))*(-1*facing)
;fvar(4)= -90+(180/pi)*atan((-1*vel y)/vel x)*(-1*facing)
;fvar(4)= (180/pi)*atan((-1*(vel y))/vel x)
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(4)
scale = 1,1
ignorehitpause = 1
;persistent =

[State 1061, Velocity]
type = VelSet
trigger1 = Movehit
x = 0
y = 0
ignorehitpause = 1


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,8 ;4
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 0,-4
guard.velocity = 0
air.velocity = 0,-4
airguard.velocity = 0, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0
ID = 4340
numhits = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit=1
var(35) = 1
ignorehitpause = 1
persistent = 0


[State 0, TargetState]
type = TargetState
trigger1 = movehit=1
value = 4316
ID = 4340
ignorehitpause = 1
;persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
trigger2 = movehit
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam Ender L
[Statedef 4341]
type = A
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10
;facep2 = 1
hitcountpersist = 1
movehitpersist = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = noshadow
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
;x = 100*(random%8) ;100*cond(random%2=0,random%5,-1*random%5) ;300
x = -200*(1+random%4) ;100*cond(random%2=0,(random%8),-1*(random%8)) ;300
;y = -400 ;-100*random%3 ;-400
y = -400-25*(1+random%3) ;-400;-100*(random%4) ;-400
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 10+2.0*(random%3) ;-5.0-(random/100.0) ;cond(random%2=0,(random%10),-1*(random%10))
y = 10+2.0*(random%3) ;random%10
;ignorehitpause =
;persistent =


;----------------------
[State 0, VarSet] ;angle
type = VarSet
;triggerall = p2dist y <=50
;trigger1 = !numtarget ;1 ;time=0
trigger1 = 1 ;time=1 ;time<2 ;5
fvar(4)= -90-(180/pi)*atan((-1*(vel y))/vel x)
;fvar(4)= -90+(180/pi)*atan((-1*fvar(6))/fvar(5))*(-1*facing)
;fvar(4)= -90+(180/pi)*atan((-1*vel y)/vel x)*(-1*facing)
;fvar(4)= (180/pi)*atan((-1*(vel y))/vel x)
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(4)
scale = 1,1
ignorehitpause = 1
;persistent =

[State 1061, Velocity]
type = VelSet
trigger1 = Movehit
x = 0
y = 0
ignorehitpause = 1


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,8 ;4
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 0,-4
guard.velocity = 0
air.velocity = 0,-4
airguard.velocity = 0, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0
ID = 4340
numhits = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit=1
var(35) = 1
ignorehitpause = 1
persistent = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit=1
value = 4316
ID = 4340
ignorehitpause = 1
;persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
trigger2 = movehit
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;Beam Ender M
[Statedef 4342]
type = A
movetype = A
physics = N
anim = 4330
ctrl = 0
sprpriority = 10
;facep2 = 1
hitcountpersist = 1
movehitpersist = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = noshadow
ignorehitpause = 1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
;x = 100*(random%8) ;100*cond(random%2=0,random%5,-1*random%5) ;300
;x = 50*(1+random%4) ;100*cond(random%2=0,(random%8),-1*(random%8)) ;300
x = -10*(1+random%4) ;100*cond(random%2=0,(random%8),-1*(random%8)) ;300
;y = -400 ;-100*random%3 ;-400
y = -400-25*(1+random%3) ;-400;-100*(random%4) ;-400
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -1.0-1.0*(random%3) ;-5.0-(random/100.0) ;cond(random%2=0,(random%10),-1*(random%10))
y = 10+2.0*(random%3) ;random%10
;ignorehitpause =
;persistent =


;----------------------
[State 0, VarSet] ;angle
type = VarSet
;triggerall = p2dist y <=50
;trigger1 = !numtarget ;1 ;time=0
trigger1 = 1 ;time=1 ;time<2 ;5
fvar(4)= -35-(180/pi)*atan((-1*(vel y))/vel x)
;fvar(4)= -90+(180/pi)*atan((-1*fvar(6))/fvar(5))*(-1*facing)
;fvar(4)= -90+(180/pi)*atan((-1*vel y)/vel x)*(-1*facing)
;fvar(4)= (180/pi)*atan((-1*(vel y))/vel x)
ignorehitpause = 1
;persistent =

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(4)
scale = 1,1
ignorehitpause = 1
;persistent =

[State 1061, Velocity]
type = VelSet
trigger1 = Movehit
x = 0
y = 0
ignorehitpause = 1


[State 1061, Hitdef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype  = hard
damage    = 0, 0
priority  = 4,Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,8 ;4
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = s2010,2 ;s1006,1 ;s1000,0
guardsound = S6,1
ground.type = high
air.type = low
ground.slidetime = 16 ;20
ground.hittime  = 16 ;20
ground.velocity = 0,-4
guard.velocity = 0
air.velocity = 0,-4
airguard.velocity = 0, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 0
ID = 4340
numhits = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit=1
var(35) = 1
ignorehitpause = 1
persistent = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit=1
value = 4316
ID = 4340
ignorehitpause = 1
;persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y>=0
trigger2 = movehit
value = 4343
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;ignorehitpause =
;persistent =

;-----------------------------------------
; Beam Ender vanish
[Statedef 4343]
type    = A
movetype= A
physics = N
;anim = 4343 ;1013  ;TEMP
sprpriority = 5
velset = 0,0
hitcountpersist = 1
movehitpersist = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = cond(pos Y>=0,1006,4343)
;elem = 1
;ignorehitpause =
;persistent =


[State 4106, Ground Hit Sound]
type = PlaySnd
trigger1 = !time
value = 2010, 2

[State 4106, Turn]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.7,0.7 ;0.4,0.4
ignorehitpause = 1
;persistent =


[State 1061, NoShadow]
type = Trans
trigger1 = root,var(2)=0
trans = none
ignorehitpause = 1

[State 1061, NoJuggle Safety]
type = parentvarset
trigger1 = !time
v = 18
value = 0

[State 1002, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1061, End]
type = destroyself
trigger1= !animtime

;Beam 00A
[Statedef 4344]
type = S
movetype = I
physics = N
anim = 4344
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam 0A
[Statedef 4345]
type = S
movetype = I
physics = N
anim = 4345
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam A
[Statedef 4346]
type = S
movetype = I
physics = N
anim = 4346
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam B
[Statedef 4347]
type = S
movetype = I
physics = N
anim = 4347
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam C
[Statedef 4348]
type = S
movetype = I
physics = N
anim = 4348
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam D
[Statedef 4349]
type = S
movetype = I
physics = N
anim = 4349
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam E
[Statedef 4350]
type = S
movetype = I
physics = N
anim = 4350
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam F
[Statedef 4351]
type = S
movetype = I
physics = N
anim = 4351
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam G
[Statedef 4352]
type = S
movetype = I
physics = N
anim = 4352
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam H
[Statedef 4353]
type = S
movetype = I
physics = N
anim = 4353
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam I
[Statedef 4354]
type = S
movetype = I
physics = N
anim = 4354
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam J
[Statedef 4355]
type = S
movetype = I
physics = N
anim = 4355
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam K
[Statedef 4356]
type = S
movetype = I
physics = N
anim = 4356
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam L
[Statedef 4357]
type = S
movetype = I
physics = N
anim = 4357
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam M
[Statedef 4358]
type = S
movetype = I
physics = N
anim = 4358
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Beam N
[Statedef 4359]
type = S
movetype = I
physics = N
anim = 4359
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno=4302
;ignorehitpause =
;persistent =

;Victim 1
[Statedef 4360]
type = S
movetype = I
physics = N
anim = 4360
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4390
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 200
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -const(velocity.run.fwd.x)
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>100
;ignorehitpause =
;persistent =

;Victim 2
[Statedef 4361]
type = S
movetype = I
physics = N
anim = 4361
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4390
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -200
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 1.2*const(velocity.walk.fwd.x)
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>100
;ignorehitpause =
;persistent =

;Victim 3
[Statedef 4362]
type = S
movetype = I
physics = N
anim = 4362
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4390
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 200
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -0.95*const(velocity.run.fwd.x)
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>100
;ignorehitpause =
;persistent =

;Victim 4
[Statedef 4363]
type = S
movetype = I
physics = N
anim = 4363
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4390
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -200
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = const(velocity.run.fwd.x)
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>100
;ignorehitpause =
;persistent =

;Victim Dies
[Statedef 4390]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 9

[State 0, ChangeAnim] ;Freeze Frame
type = ChangeAnim
trigger1 = 1
value = anim
;elem = 1
;ignorehitpause =
;persistent =


[State 0, PlaySnd]
type = PlaySnd
triggerall = IsHelper(4363)
trigger1 = !time
value = 4360,10  ;Wilhelm
;volumescale = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = IsHelper(4362)
trigger1 = !time
value = 4360,20 ;Female
;volumescale = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = IsHelper(4361)
trigger1 = !time
value = 4360,30+random%2 ;Fattie
;volumescale = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = IsHelper(4360)
trigger1 = !time
value = 4360,40 ;Wolfie
;volumescale = 100
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
;ignorehitpause =
;persistent =

[State 0, AssertSpecial] ;Die!
type = AssertSpecial
trigger1 = time%9=0;10=[7,9]   ;TEMP
flag = invisible
;flag3 = roundnotover
ignorehitpause = 1
;persistent =

[State 0, DestroySelf]
type = DestroySelf
;trigger1 = !NumHelper(4330)
;trigger1 = !NumHelper(4331)
;trigger1 = !NumHelper(4332)
;trigger1 = !NumHelper(4333)
trigger1 = time = 45
;ignorehitpause =
;persistent =

;Victim 5 - Tien
[Statedef 4397]
type = S
movetype = I
physics = S
anim = 4397
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4359
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=20
value = 43971
;elem = 1
;ignorehitpause =
;persistent =


[State 0, VelSet]
type = VelSet
trigger1 = Anim=43971
trigger1 = AnimElemTime(1)=0
x = -13 ;const(velocity.run.back.x)
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>65
;ignorehitpause =
;persistent =

;Victim 5 - Satan
[Statedef 4399]
type = S
movetype = I
physics = S
anim = 4399
ctrl = 0
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
;value = SCA,HA
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, HitOverride]  ;to die
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 4359
time = 1
forceair = 0
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=50
value = 43991
;elem = 1
;ignorehitpause =
;persistent =

[State 0, Explod]  ;Question mark
type = Explod
triggerall = !NumExplod(4398)
;trigger1 = Anim=43991
;trigger1 = AnimElemTime(5)=0
trigger1 = time=66
anim = 4398
ID = 4398
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1 ;2
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time>110
id = 4398
;ignorehitpause =
;persistent =


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time>110
;ignorehitpause =
;persistent =


;Finisher3 CAMERA
[Statedef 19706]
type    = S
movetype= I
physics = N
anim = 9999
sprpriority = -10

[State 19705, 1]
type = screenbound
trigger1 = 1
movecamera = 1,1
value = 1

[State 19705, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 19705, PosSet]
type = PosSet
trigger1 = !time
trigger2 = root,stateno=4300
trigger2 = root,time=880
x = 0
y = 0 ;200 ;-220 ;145
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time=50
x = 0
y = -1.5 ;-1.5
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = pos y<=-320 ;-250 ; time=180
x = 0
y = 0 ;-1.5
;ignorehitpause =
;persistent =



[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno=4301 ;time>150
;ignorehitpause =
;persistent =

; Absorbed - Pose
[Statedef 4400]
type = S
movetype = I
physics = N ;S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
;persistent =

[State 0, Turn]
type = Turn
trigger1 = !time
ignorehitpause = 1
;persistent =


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 3559
ignorehitpause = 1
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 1
;ignorehitpause =
;persistent =

;Absorbed sprites. Thanks to all the fans that submitted their sprites.
;0XX DBZ characters
;000 - Buu
;001 - Satan
;002 - Saibamen
;003 - Babidi
;004 - Piccolo
;005 - Goku
;006 - SSJ Goku/Cyan Goku
;007 - Gohan
;008 - Vegeta/Cyan Vegeta
;009 - Majin Vegeta
;010 - Gotenks
;011 - Freeza
;012 - C18
;013 - C17 (Someguy)
;014 - Cell
;015 - Future Trunks
;016 - Yamcha
;017 - Ten Shin Han
;018 - Ginyu (Someguy)
;019 - Beerus
;020 - Broly
;021 - Vegetto (eFeX)
;022 - Krilin
;023 - Fat Buu (AlexSin)
;024 - Golden Freeza (Ethan The Human + Balmsoldier)
;025 - Farmer
;026 - Goku Black (Barker)
;027 - Jiren
;028 - SSJ Vegeta (Armor)
;029 - Raditz (Zx_Zeo125)
;030 - Launch (Toni)
;1XX Capcom characters
;150 - Hulk (888roderigo888)
;151 - Deadpool (Sabockee)
;166 - Morrigan (Sabockee)
;168 - Alex (The Edge)
;169 - Chun Li (Sabockee)
;170 - Dhalsim (Sabockee)
;171 - Guile (Sabockee)
;172 - Honda (The Edge)
;173 - Ibuki (Toni)
;179 - Akuma (Toni)
;3XX SNK characters
;300 - Haohmaru (Sabockee)
;369 - Blue Mary (N.The Silver)
;370 - Terry Bogard (Speedster)
;371 - Andy Bogard (Speedster)
;372 - Joe Higashi (Speedster)
;373 - Mai Shiranui (Speedster)
;379 - Kim Kaphwan (N.The Silver)
;380 - Geese (Sabockee)
;5XX other games
;500 - Generic Wrestler (N.The Silver)
;540 - Megaman 1 (N.The Silver)
;541 - Megaman 2 (N.The Silver)
;550 - Yuuki (Speedster)
;551 - Asuna (Speedster)
;552 - Kirito (Speedster)
;560 - Tokiko Tsumura (Speedster)
;579 - Big Boo
;586 - Sonic (ghoulglifer)
;650 - Sailor Moon (Speedster)
;651 - Sailor Mercury (Speedster)
;652 - Sailor Venus (Speedster)
;653 - Sailor Mars (Speedster)
;654 - Sailor Jupiter (Speedster)
;655 - Sailor Saturn (Speedster)
;656 - Sailor Uranus (Speedster)
;657 - Sailor Neptune (Speedster)
;658 - Sailor Pluto (Speedster)
;659 - Sailor ChibiMoon (Speedster)
;660 - Takishido Kamen (Speedster)
;730 - Ichigo Kurosaki (Speedster)
;731 - Ichigo Hollow (Speedster)
;732 - Byakuya Kuchiki (Speedster)
;733 - Sousuke Aizen (Speedster)
;734 - Momo Hinamori (Speedster)
;735 - Toushirou Hitsugaya (Speedster)
;736 - Kenpachi Zaraki (Speedster)
;737 - Yoruichi Shihouin (Speedster)
;738 - Shunsui Kyouraku (Speedster)
;770 - Kagura (Speedster)
;771 - Kikyo (Speedster)
;772 - Sango (Speedster)
;773 - Miroku (Speedster)
;774 - Kagome (Speedster)
;775 - Koga (Speedster)
;776 - Sesshomaru (Speedster)
;777 - Inuyasha (Speedster)
;778 - Inuyasha Youkai (Speedster)
;779 - Oni Me no Kyo (Speedster)
;780 - Sanada Yukimura (Speedster)
;784 - Battousai (Speedster)
;785 - Makimachi Misao (Speedster)
;786 - Sanosuke Sagara (Speedster)
;787 - Kenshin (Speedster) - Generic Swordsman
;788 - Saito Shinsengumi (Speedster)
;789 - Saito Normal (Speedster)
;790 - Soujiro Seta (Speedster)
;791 - Shishio Makoto (Speedster)
;792 - Enishi Yukishiro (Speedster)
;793 - Souji Okita (Speedster)
;794 - Udo Jin-e (Speedster)
;795 - Yukyuzan Anji (Speedster)
;796 - Aoshi Shinomori (Speedster)
;8XX Original characters
;882 - Maximilian Dood
;883 - Tenacious D (Likiji123)
;884 - Supergirl (Toni)
;885 - Banana (Minion)
;886 - Bender (Altoiddealer + N.The Silver)
;887 - Duck Hunt Dog (DJ_HANNIBALROYCE)
;888 - Jailbot (Likiji123)
;889 - Kung Fu Man (Daeron)
;9XX Random forms/Intros
;993 - Other - Muscle (Toni)
;994 - Other - Female (Toni)
;995 - Other - Female (N.The Silver)
;996 - Other - Female (N.The Silver)
;997 - Other - Balloon (Hatter)
;998 - Other - Old (Sabockee)
;999 - Other - Young (AlexSin)


[State 0, VarSet]
type = VarSet
trigger1 = !time
var(51) = -1

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Buu Z2"
trigger2 = Enemy,Name = "Buu" || Enemy, Name = "Super Buu" || Enemy, Name = "Majin Buu" || Enemy, Name = "Fat Buu"
trigger3 = Enemy,Name = "Pocket-Mr.Buu_SS"
trigger4 = Enemy,Name = "Ultimate Bu by Sniper85" || Enemy, Name = "PexBuu" || Enemy, Name = "Kid Buu"
trigger5 = enemy,name="Mister Buu Hyper Demension"
trigger6 = enemy,name="Kid Buu" || enemy,name="Kid Buu Hyper Demension"
trigger7 = enemy,name="Uub"
var(51) = 0

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Satan Z2"
trigger2 = enemy,name = "Shin Satan Z2"
trigger3 = enemy,name="Mr Satan" || enemy,name="Mr.Satan"
var(51) = 1

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Saibamen"
trigger2 = enemy,name = "Saibaman Extreme Butoden"
var(51) = 2

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Babidi Z2"
trigger2 = enemy,name = "Babidi" || enemy,name = "Bibidi" || enemy,name = "Bibidi Z2"
var(51) = 3

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Piccolo Z2"
trigger2 = enemy,name = "Piccolo" || Enemy, Name = "Piccolo Daimao"
trigger3 = enemy,name = "Piccolo por Ssonic" || enemy,name="DK-Piccolo Com Capa 1.0" || enemy,name="Piccolo Daimao Jr"
trigger4 = enemy,name = "[FlowaGirl's] Piccolo" || enemy,name="Piccolo by Ryon" || enemy,name="Piccolo Hyper Demension"
var(51) = 4

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Goku Z2"
trigger2 = Enemy,Name = "Goku" || Enemy, Name = "Songoku" || Enemy, Name = "Son Goku" || Enemy, Name = "GokuHR"
trigger3 = Enemy,Name = "Goku-n-hd by EmuBoarding" || Enemy, Name = "SFXVI Goku" || Enemy, Name = "Goku by Komodo"
trigger4 = Enemy,Name = "Another Goku by HyperionX & Iron Mask"
trigger5 = enemy,authorname="Da_Maverik"		;LOL Jerk
trigger6 = enemy,name="Goku from Dragon Ball Z"
trigger7 = enemy,name="Goku JUS"
trigger8 = enemy,name="Goku Transform"
trigger9 = enemy,name="SSJ God Goku" ;MK ninjas
var(51) = 5

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "SSJ Goku Z2"
trigger2 = enemy,name = "SSJ God Goku Z2"
trigger3 = Enemy,Name = "SSJ Goku" || Enemy, Name = "Goku SSJ" || Enemy, Name = "SSJ2 Goku"
trigger4 = Enemy,Name = "Goku Super Sayajin 2 by ribeiro" || Enemy, Name = "[Necromancer's] Goku" || Enemy, Name = "Goku-SSJ2"
trigger5 = Enemy,Name = "SSJ Goku by Ryon" || Enemy, Name = "Sup. Goku" || Enemy, Name = "Sup.Goku" || Enemy, Name = "Goku Super Sayajin by Roken"
trigger6 = Enemy,Name = "NeoKakaroto" || Enemy, Name = "Son Goku by Duende Macabro" || Enemy, Name = "SSJ2 Goku Hyper Demension"
trigger7 = Enemy,Name = "Goku By Hyper" || Enemy, Name = "SSJ2-GOKU by BARDOCK" || Enemy, Name = "Goku Legend" || Enemy, Name = "Goku by ynvaser"
trigger8 = Enemy,Name = "Goku Super Saiyajin" || Enemy, Name = "SSJ3 Goku" || Enemy, Name = "ss3goku" || Enemy, Name = "Son-Goku-SSJ3"
trigger9 = Enemy,Name = "Super Sayan 3" || Enemy, Name = "GokuSSJ3"
trigger10 = Enemy,Name = "super ssj3 goku v2"
trigger11 = Enemy,Name = "Goku SSJ4 by _Vision and MRP" || Enemy, Name = "Goku Type-Z" || Enemy, Name = "Ultra SSj4 Goku by Princevegeta"
trigger12 = enemy,name="UB22 Goku"
trigger13 = enemy,name="False SSJ Goku Z2" || enemy,name="SSJ4 Goku Z2" || enemy,name="SSJB Kaioken Goku Z2"  ;MK ninjas
var(51) = 6

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Gohan Z2"
trigger2 = enemy,name="Gohan" || Enemy, Name = "Son Gohan by EmuBoarding" || Enemy, Name = "SSJ Gohan" || Enemy, Name = "SSJ Gohan By Kamekaze"
trigger3 = Enemy,Name = "Gohan Movie 9 2.00" || Enemy, Name = "Messy hair Gohan" || Enemy, Name = "Movie 9 Gohan" || Enemy, Name = "Super 2 Gohan"
trigger4 = Enemy,Name = "PGohanSSJ2" || Enemy, Name = "Gohan" || Enemy, Name = "SSJ Gohan by Ryon" || Enemy, Name = "Mystic Gohan"
trigger5 = Enemy,Name = "Mystic_Gohan" || Enemy, Name = "Mystic Gohan by Zero_X" || Enemy, Name = "GohanZ" || Enemy, Name = "Mystic Gohan Hyper Demension"
trigger6 = Enemy,Name = "||>(Zerberus-:-Dante)<|| Gohan Sword`s User"
trigger7 = Enemy,Name = "great saiyaman by Franciynaldo" || Enemy, Name = "Mistico gohan by franciynaldo"
trigger8 = enemy,name="Great Saiyaman By Tomo"  || enemy,name="Ultimate Gohan" || enemy,name="Ultimate Gohan (edit by Tomo)"
trigger9 = enemy,name="Future Gohan Z2" || enemy,name="SSJ Future Gohan Z2" || enemy,name="SSJ Gohan Z2" ;MK ninjas
var(51) = 7

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Vegeta Z2" && (enemy,palno = [1,6])
trigger2 = enemy,name = "Normal Vegeta Z2"
trigger3 = enemy,name = "SSJ God Vegeta Z2"
trigger4 = Enemy,Name = "vegeta-n-3 by EmuBoarding"
trigger5 = Enemy,Name = "Vegeta" || Enemy, Name = "SSJ Vegeta"
trigger6 = Enemy,Name = "Vegeta Normal 2 by EB" || Enemy, Name = "Vegeta Super Sayjin 4 by EB and BS" || Enemy, Name = "SSJ Vegeta by Ryon"
trigger7 = Enemy,Name = "Prince Vegeta" || Enemy, Name = "Bebi Vegeta" || Enemy, Name = "Bejita" || Enemy, Name = "BAYJEETA?!"
trigger8 = Enemy,Name = "Vegeta-Type-R" || Enemy, Name = "KiKi's Vegeta" || Enemy, Name = "Vegeta-GT-SSJ2" || Enemy, Name = "Vegita" || Enemy, Name = "Vegeta Saiyan BY franciynaldo"
trigger9 = Enemy,Name = "VEGETA GT BY NICO" || Enemy, Name = "Practice Vegeta by Detah" || Enemy, Name = "DK-Super Vegeta " || Enemy, Name = "Bejiita by Seifer Firehart"
trigger10 = Enemy,Name = "BebiVegeta by Princevegeta" || Enemy, Name = "Vegeta by DM" || Enemy, Name = "Vegeta Alpha" || Enemy, Name = "EvilFighter Vegeta"
trigger11 = Enemy,Name = "Supa Saiyajin Tsu Bejiita" || Enemy, Name = "OS USSJ Vegeta" || Enemy, Name = "=El Principe Saiyajin Vegeta= By Team OS"
trigger12 = Enemy,Name = "VegetaSsj4" || Enemy, Name = "vegeta_ssj4"
trigger13 = enemy,name = "Vegeta by OverMind" || enemy,name="ESF Vegeta By Ninja_Naruto,3D Model By Unknown ESF Modeller"
trigger14 = enemy,name = "Vegita" || enemy,name="Vegeta Transform"
trigger15 = enemy,name = "baby vegeta 3D by stopmotiontoys"
trigger16 = enemy,name = "Vegeth@ by Nemesis82 & Biohazard82"
trigger17 = enemy,name = "SSJ God Vegeta" || enemy,name="SSJ VegetaZ2" ;MK ninjas
var(51) = 8 + 20*(random<250)

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Vegeta Z2" && (enemy,palno = [7,12])
trigger2 = enemy,name = "Majin Vegeta Z2"
trigger3 = Enemy,Name = "Mystiq Vegeta" || Enemy, Name = "Majin Vegeta" || Enemy, Name = "MajinVedita"
trigger4 = Enemy,Name = "Majin Vedita by Bacteria" || Enemy, Name = "Majin Vegeta by Komodo" || Enemy, Name = "MAJIN-VEGETA by BARDOCK"
trigger5 = enemy,name="SSJ2 Majin Vegeta Hyper Demension"
var(51) = 9

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "SSJ Vegeta Z2"
var(51) = 28

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Gotenks Z2"
trigger2 = Enemy,Name = "Gotenks"
trigger3 = Enemy,Name = "SSJ3 Gotenks Hyper Demension" || Enemy, Name = "Gotenks by Pextin" || Enemy, Name = "Gotenks SSJ4 HD by Orochi Koe"
trigger4 = enemy,name = "Super Gotenks"
var(51) = 10

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Freeza Z2"
trigger2 = Enemy,Name = "Freeza UB22" || Enemy, Name = "Freeza" || Enemy, Name = "Freiza" || Enemy, Name = "Freezer" || enemy,name="Frieza"
trigger3 = Enemy,Name = "Freeza by OverMind" || Enemy, Name = "Disciple's Freeza" || Enemy, Name = "Freezer 4th Form OS" || Enemy, Name = "frz"
trigger4 = enemy,name = "CS-Freezer'AS" || enemy,name="Final Form Frieza Hyper Demension"
trigger5 = Enemy,Name = "Coola" || Enemy, Name = "Cooler" || Enemy, Name = "M-Kooler" || Enemy, Name = "coola by Franciynaldo"
var(51) = 11+13*(life>800)

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "C18 Z2"
trigger2 = enemy,name = "C18" || enemy,name = "Android 18" || enemy,name = "Android18"
trigger3 = enemy,name = "Juuhachigou" || enemy,name="Androide 18 by _Vision" || enemy,name="18" || enemy,name="C-18"
trigger4 = enemy,name = "Android 18 from Dragon Ball Z"
var(51) = 12

[State 0, VarSet] ;C17 by Someguy
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "C17 Z2"
trigger2 = enemy,name = "C17" || enemy,name = "Android 17" || enemy,name = "Android17"
trigger3 = enemy,name = "Juunanagou" || enemy,name="Androide 17" || enemy,name="17" || enemy,name="C-17"
trigger4 = enemy,name = "Android 17 from Dragon Ball Z"
var(51) = 13

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Cell Z2"
trigger2 = enemy,name = "Cell" || enemy, name = "Perfect Cell" || enemy, name="Insect Cell" || enemy, name ="Imperfect Cell"
trigger3 = enemy,name = "Cell por Ssonic" || enemy, name ="Cell Imperfecto"
trigger4 = enemy,name = "PunchCell! Bonus Game" || enemy, name ="Cell UB22"
trigger5 = enemy,name = "cell_2nd_Form" || enemy, name ="[Necromancer's] Cell" || enemy, name ="Ultimate_Cell"
trigger6 = enemy,name = "Perfect Cell Z2i" ;MK ninjas
var(51) = 14

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Future Trunks Z2" || enemy,name = "Trunks Z2"
trigger2 = enemy,name = "Future Trunks" || enemy,name = "Trunks" || enemy,name = "Extreme Trunks Super Saiyan" ;MK ninjas
var(51) = 15

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Yamcha Z2"
trigger2 = enemy,name = "Yamcha"
var(51) = 16

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Ten Shin Han Z2" || enemy,name = "TenShinHan Z2" || enemy,name = "Tien Z2"
trigger2 = enemy,name = "TenShinHan"
trigger3 = enemy,name = "Goten88's Tien"
var(51) = 17

[State 0, VarSet] ;Ginyu by Someguy
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Ginyu Z2"
trigger2 = enemy,name = "Ginyu" || enemy,name = "Captain Ginyu" || enemy,name = "Ginew"
trigger3 = enemy,name = "GinyuMVC"
var(51) = 18

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Beerus Z2"
trigger2 = enemy,name = "Beerus" || enemy,name = "Beerus by Rahlonnir" ;MK ninjas
var(51) = 19

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Broly Z2"
trigger2 = enemy,name = "Broly"
var(51) = 20

[State 0, VarSet] ;Vegetto by eFeX
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Vegetto"
trigger2 = Enemy,Name = "Sup. Vegito" || Enemy, Name = "Vegito ssj2" || Enemy, Name = "Sup.Gogeta"
trigger3 = Enemy,Name = "Vegetto EX by Shishi-Ryu" || Enemy, Name = "Vegito Ex by [Wasaby]" || Enemy, Name = "Super Vegetto by [Wasaby]"
trigger4 = Enemy,Name = "Vegeth@ by Nemesis82 & Biohazard82" || Enemy, Name = "Gogeta"
trigger5 = enemy,name = "Vegetto by [C]CSFF7H" || enemy,name="VegettoSB" || enemy,name="Vegetto Blue"
trigger6 = enemy,name = "Super Gogeta4"
trigger7 = enemy,name = "SSJ Gogeta Z2" || enemy,name="Super Vegetto Z2" || enemy,name="Vegetto Blue Z2" || enemy,name="Vegetto Z2" ;MK ninjas
var(51) = 21

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Krilin Z2" || enemy,name = "Krillin Z2"
trigger2 = enemy,name = "Krilin" || enemy,name="Krillin"
trigger3 = enemy,name = "Kuririn" || enemy,name="Kuririn by EmuBoarding"
trigger4 = enemy,name = "Krillin by Ryon" || enemy,name="Crilin"
trigger5 = enemy,name = "Krillin By ChAoS & NeOcIdE"
var(51) = 22

[State 0, VarSet] ;Fat Buu by AlexSin
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "the pink fattie"
var(51) = 23

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "G. Freeza Z2" || enemy,name = "Golden Freeza Z2"
trigger2 = enemy,name = "Golden Freeza" || enemy,name = "GFreeza"
var(51) = 24

[State 0, VarSet] ;Farmer
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Farmer Z2" || enemy,name = "FarmerZ2" || enemy,name = "Farmer"
var(51) = 25

[State 0, VarSet] ;Goku Black
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Black Z2"
trigger2 = enemy,name="Black GokuZ2" ||enemy,name="Goku Black" || enemy,name="SSJ God Goku" || enemy,name="SSJ Goku Black" || enemy,name="SSJR Goku Black" ;MK ninjas
var(51) = 26

[State 0, VarSet] ;Jiren
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Jiren Z2"
trigger2 = enemy,name = "Jiren"
var(51) = 27

[State 0, VarSet]
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "SSJ Vegeta Z2"
var(51) = 28

[State 0, VarSet]  ;Raditz by Zx_Zeo125
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Raditz"
var(51) = 29

[State 0, VarSet]  ;Launch by Toni
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Launch Z2"
trigger2 = enemy,name = "Launch" || enemy,name = "Lunch"
var(51) = 30

[State 0, VarSet] ;Hulk by 888roderigo888
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Hulk"
trigger2 = Enemy,Name = "Hulk 2099" || Enemy, Name = "Savage Hulk"
trigger3 = enemy,name = "Savage Hulk by Renegade"
trigger4 = enemy,name = "Red hulk"
trigger5 = enemy,name = "She-Hulk"
trigger6 = enemy,name = "MvC2 Hulk By Kamekaze"
var(51) = 150

[State 0, VarSet] ;Deadpool by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Deadpool"
var(51) = 151

[State 0, VarSet] ;Morrigan by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Morrigan"
trigger2 = Enemy, Name = "Morrigan Aensland" || Enemy, Name = "morrigan by ryokucha" || Enemy, Name = "cvsmorrigan" || Enemy, Name = "Ultimate Morrigan"
trigger3 = Enemy, Name = "Lilith" || Enemy, Name = "Lilith Aensland" || Enemy, Name = "cvslilith" || Enemy,name="BloodRayne"
var(51) = 166

[State 0, VarSet] ;Alex by The Edge
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Alex"
trigger2 = enemy,name = "cvsalex"
trigger3 = Enemy, Name = "Camper Dude" || Enemy, Name = "SF3 Alex" || Enemy, Name = "SF3 Pablo" || Enemy, Name = "That sexy, sexy man" || Enemy, Name = "ALEX SF3trd"
var(51) = 168

[State 0, VarSet] ;Chun Li by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy, name = "Chun-Li"
trigger2 = enemy, name = "Chun Li" || enemy,name="Dark Bolt"
trigger3 = enemy, name = "ChunLi"
trigger4 = enemy, name = "Dark Chun Li" || enemy, name = "Dark Chun-Li R" || enemy, name = "Shadow Lady"
trigger5 = enemy, name = "cvschunli"
trigger6 = enemy, name = "Pocket Chun Li" || Enemy, Name = "SF3 Chun Li"
var(51) = 169

[State 0, VarSet] ;Dhalsim by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Dhalsim"
trigger2 = Enemy, Name = "cvsdhalsim" || Enemy, Name = "dhalsims" || enemy,name="RajaaDhalsim"
var(51) = 170

[State 0, VarSet] ;Guile by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy, name = "Guile"
trigger2 = enemy, name = "Guile-XI"||enemy, name = "Sonic Machine"
trigger3 = enemy, name = "Guile-XI Remix"
trigger4 = enemy, name = "cvsguile"
trigger5 = enemy, name = "EVIL GUIRE!!111"
trigger6 = enemy, name="Seikimatu Guile"
var(51) = 171

[State 0, VarSet] ;Honda by The Edge
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "E. Honda" || Enemy, Name = "E.Honda" || Enemy, Name = "Honda" || Enemy, Name = "cvshonda" || Enemy, name = "Edmond Honda"
var(51) = 172

[State 0, VarSet] ;Ibuki by Toni
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Ibuki"
var(51) = 173

[State 0, VarSet] ;Akuma by Toni
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Akuma" || Enemy, Name = "cvsakuma" || Enemy, name = "Shin Akuma" || enemy,name = "ShinGouki" || enemy,name = "ShinAkuma"
trigger2 = Enemy, Name = "Gouki" || Enemy, Name = "cvsgouki" || Enemy, name = "Shin Gouki" || Enemy, Name = "cvsgouki_normal" || Enemy, Name = "cvsgouki_ex" || Enemy, Name = "SF3Gouki"
trigger3 = Enemy, Name = "Oni" ||Enemy, Name = "Gouki by M.M.R." || Enemy, Name = "svcgouki" || Enemy, Name = "Shin Gouki SF'2"
trigger4 = Enemy, Name = "Rare Akuma" || Enemy, Name = "Tin's S_Gouki" || Enemy, Name = "Pocket Shin Gouki"
trigger5 = Enemy, Name = "Gouki_Cota" || Enemy, Name = "Eternity of Heroes: Gouki" || Enemy, Name = "Gouki Lv2" || Enemy, Name = "MvC-EoH Gouki" || Enemy, Name = "SHINJIN GOUKI"
trigger6 = enemy, name = "Cyber Akuma" || enemy,name="Cyber Gouki" || enemy,name="C.Akuma_MvC" || Enemy, Name = "Mech Gouki" || Enemy, Name = "Mech Akuma"
trigger7 = enemy, name = "Zero-Akuma" || enemy,name="Gouki CVS 3"
trigger8 = enemy,name="Ogre"|| enemy,name="CvS_Ogre"
trigger9 = enemy,name="Anti-Gouki #07" || enemy,name="Anti-Gouki #08"
var(51) = 179

[State 0, VarSet] ;Haohmaru by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Cvshaohmaru" || enemy,name="cvshaohmaru" || enemy,name="cvshaohmaru_normal" || enemy,name="cvshaohmaru_ex"
trigger2 = enemy,name="Haohmaru" || enemy,name="HaohmaruMG" || enemy,name="ZeroHaohmaru"
var(51) = 300

[State 0, VarSet] ;Blue Mary by N.The Silver
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Blue Mary" || Enemy, Name = "B.Mary" || Enemy, Name = "bluemary"
var(51) = 369

[State 0, VarSet] ;Terry Bogard by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Terry" || Enemy, Name = "Terry Bogard" || Enemy, Name = "cvsterry"
var(51) = 370

[State 0, VarSet] ;Andy Bogard by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Andy" || Enemy, Name = "Andy Bogard" || Enemy, Name = "cvsandy"
var(51) = 371

[State 0, VarSet] ;Joe Higashi by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Joe" || Enemy, Name = "Joe Higashi" || Enemy, Name = "cvsjoe"
var(51) = 372

[State 0, VarSet] ;Mai Shiranui by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Mai" || Enemy, Name = "cvsmai"
trigger2 = Enemy, Name = "rbsmai" || Enemy, Name = "Mai Shiranui" || Enemy, Name = "Shiranui Mai"
var(51) = 373

[State 0, VarSet] ;Kim by N.The Silver
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "cvskim" || Enemy, Name = "Kim" || Enemy, Name = "Kim Kaphwan"
var(51) = 379

[State 0, VarSet] ;Geese by Sabockee
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "cvsgeese" || Enemy, Name = "Geese" || Enemy, Name = "Geese Howard" || Enemy, Name = "cvsgeese_normal" || Enemy, Name = "cvsgeese_ex" || Enemy, Name = "Nightmare Geese" || Enemy, Name = "Geese_WLS" || Enemy, Name = "Geese B Howard" || Enemy, Name = "DGeese" || Enemy, Name = "geese_mmx" || Enemy, Name = "Crazy Laughing Geese" || Enemy, Name = "Mini_Geese"
var(51) = 380

[State 0, VarSet] ;Wrestler by N.The Silver
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy, name = "Zangief" || enemy, name = "cvszangief" || enemy, name = "[KoYotae]'s Zangief"
trigger2 = enemy, name = "Mecha Zangief" || enemy, name = "Mecha-Zangief" || enemy, name = "MechaZangief" || enemy,name="Mech Zangief"
trigger3 = enemy, name = "Zangeese" || enemy, name = "Zangyura" || enemy, name = "Pocket Zangief"
trigger4 = enemy,name="MvC2 Zangief By Kamekaze" && (enemy,var(58)=1)
var(51) = 500

[State 0, VarSet] ;Megaman/Generic Robot by N.The Silver
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sentinel"
trigger2 = enemy,name="Perfect Weapon MB-02"
trigger3 = enemy,name="Prime Sentinels"
trigger4 = enemy,name="UMVC_Sentinel"
trigger5 = enemy,name="Mech Rugal" || enemy,name="Cyber Dan"
trigger6 = enemy,name="Cyborg" || enemy,name="ShotoBorg Mk. II"
trigger7 = enemy,name="MechaSpaghettio"
;---------CYBERBOTS-------------
trigger8 = enemy,name="Karakuri Hei" || enemy,name="Zero-Akuma" || enemy,name="Cyclone" || enemy,name="G_Cyclone" || enemy,name="Reptos" || enemy,name="B.Swordsman"
trigger9 = enemy,name="Jage" || enemy,name="Vlade" || enemy,name="Swordsman" || enemy,name="Toatus" || enemy,name="UVA-02_Helion" || enemy,name="Lightning" || enemy,name="R.Lightning"
trigger10 = enemy,name="BWorker" || enemy,name="Blodia" || enemy,name="Blodia-k" || enemy,name="Fordy" || enemy,name="Gaits" || enemy,name="Guldin"
trigger11 = enemy,name="Helion" || enemy,name="Jackal" || enemy,name="R.Jackal" || enemy,name="KillerBee" || enemy,name="F.KillerBee" || enemy,name="Reptos"
trigger12 = enemy,name="Atlas" || enemy,name="Valimes" || enemy,name="Warlock" || enemy,name="Warlock-k" || enemy,name="Riot" || enemy,name="Tarantula" || enemy,name="F.Tarantula"
trigger13 = enemy,name="Super-8" || enemy,name="Super-8-k" || enemy,name="Vise" || enemy,name="G.Vise" || enemy,name="RAD" || enemy,name="Insect" || enemy,name="Cyberbots_Sculd"
;-----------MEGAMAN-------------
trigger14 = enemy,name="Vision" || enemy,name="Megaman X" || enemy,name="Bomb Man" || enemy,name="Zero by Fusion" || enemy,name="MegamanX"
trigger15 = enemy,name="Rockman" || enemy,name="Rock Volnutt" || enemy,name="fxr" || enemy,name="Saber Zero"
trigger16 = enemy,name="Megaman" || enemy,name="Megaman PLUS" || enemy,name="Megaman.exe" || enemy,name="B-Megaman"
trigger17 = enemy,name="Elecman-o" || enemy,name="Elec Man" || enemy,name="Gutsman" || enemy,name="Bad Megaman"
trigger18 = enemy,name="Helmetless MegaMan" || enemy,name="Metalman" || enemy,name="Zero" || enemy,name="ZeroAnthem"
trigger19 = enemy,name="Roll" || enemy,name="Marvel vs. Capcom - Eternity of Heroes: Roll" || enemy,name="Megaman - Robot Master Mayhem: Roll"
trigger20 = enemy,name="Shadow_Man_PB" || enemy,name="Snakeman_PB" || enemy,name="Bass / Forte" || enemy,name="Rush"
trigger21 = enemy,name="EDDIE" || enemy,name="Wea" ;Mad Grinder by Basara-kun
trigger22 = enemy,name="DESTROYOUS" || enemy,name="Blizzard Wolfang"
trigger23 = enemy,name="Marvel vs Capcom - Eternity of Heroes: Rockman Copy"
;-------------------------------
trigger24 = enemy,name="Ultron"
trigger25 = enemy,name="Bastion"
trigger26 = enemy,name="ROBO-LEN" || enemy,name="ROBO-KY" || enemy,name="ROBO-JAM" || enemy,name="ROBO-KY MK-‡U"
trigger27 = enemy,name="ROBO-KY3" || enemy,name="ROBO-SOL" || enemy,name="ROBO-KY2" || enemy,name="ZAGI" || enemy,name="XECHS"
trigger28 = enemy,name="”pŠü•¨@440†"   ;Name of Wasteno 440
trigger29 = enemy,name="Robo Rock" || enemy,name="Robo Rock Type-2"
trigger30 = enemy,name="Q"
trigger31 = enemy,name="ochamaro" || enemy,name="Megatron"
trigger32 = enemy,name="Taros"
trigger33 = enemy,name="Politank Z"
trigger34 = enemy,name="juano`s cyborg guy"
trigger35 = enemy,name="cyrax" || enemy,name="Sektor"
trigger36 = enemy,name="Maxima"
trigger37 = enemy,name="RajaaMech-Hisui" || enemy,name="Maximum_Cute_Hisui"
;-----------OMF 2097-------------
trigger38 = enemy,authorname="aokmaniac13" || enemy,name="Ming-Vase" || enemy,name="Chronos" || enemy,name="Shadow"
;--------------------------------
trigger39 = enemy,name="GLaDOS"
trigger40 = enemy,name="Bender Rodriguez"
trigger41 = enemy,name="Mega Tigerzord" || enemy,name="Mecha-gorilla"
trigger42 = enemy,name="Fulgore"
trigger43 = enemy,name="t8p" || enemy,name="Arnold Schwarzenegger"
trigger44 = enemy,name="Fio" && enemy,authorname="3ha"
trigger45 = enemy,name="Astroboy OmegaFactor"
trigger46 = enemy,name="Dis Astranagant" || enemy,name="Dai Rai Oh"
trigger47 = enemy,name="Honda Tadakatsu"
;-----------GUNDAM-------------
trigger48 = enemy,name="God Gundam" || enemy,name="god_gundom" || enemy,name="Gundam Nataku" || enemy,name="Wing Gundam" || enemy,name="Shenlong Gundam"
trigger49 = enemy,name="Wing Gundam Zero" || enemy,name="Devil Gundam" || enemy,name="Gundum Death-Scythe" || enemy,name="Deathscythe Gundam"
trigger50 = enemy,name="Mercurius" || enemy,name="Freedom Gundam" || enemy,name="HeavyArmsCustom" || enemy,name="GundamX_SD"
trigger51 = enemy,name="Char's Zugock" || enemy,name="Char's Zaku" || enemy,name="Char's Acguy"
trigger52 = enemy,name="Zphiroude" || enemy,name="Granzon" || enemy,name="TKGD7K" || enemy,name="sazabi" || enemy,name="zaku"
trigger53 = enemy,name="WingGundam-Z2" || enemy,name="Gyan" || enemy,name="GundamExia_SD" || enemy,name="ZZ_Gundam" || enemy,name="Tallgeese Gundam"
trigger54 = enemy,name="Gaogaigar" || enemy,name="zeorymer" || enemy,name="Heavyarms Gundam" || enemy,name="Mercurius Doll Prototype"
trigger55 = enemy,name="Sandrock Gundam" || enemy,name="Vayeate Doll Prototype" || enemy,name="Epyon Gundam"
;-------------------------------
trigger56 = enemy,name="Super 17 by Szowel" || enemy,name="Androide13 By Team DBZ OS"
trigger57 = enemy,name="Metallo" || enemy,name="Servbot" || enemy,name="Kobun 43"
trigger58 = enemy,name="BROKKEN" || enemy,name="RYUKO-ROBO"
trigger59 = enemy,name="alteisen" || enemy,name="GarmRaid" || enemy,name="VaiSaga" || enemy,name="R-2"
trigger60 = enemy,name="souryu" || enemy,name="VAVA"
trigger61 = enemy,name="Politank Z"
trigger62 = enemy,name="CyberSKELETON"
trigger63 = enemy,name="METALGEAR REX"
trigger64 = enemy,name="Bergamot"		;Maple Story
trigger65 = enemy,name="Robot Guard" || enemy,name="SuperBot"
trigger66 = enemy,name="Dangaioh" || enemy,name="bloody" || enemy,name="Getter1"
trigger67 = enemy,name="Franky" || enemy,name="CS'Kuma'AS" || enemy,name="Bartholomew Kuma"		;One Piece
trigger68 = enemy,name="Robo" || enemy,name="Cyber Shredder"
trigger69 = enemy,name="Zweizergain" || enemy,name="E-123 Omega" || enemy,name="koryuoh"
var(51) = 540+random%2

[State 0, VarSet] ;Yuuki by Speedster (Sword Art Online)
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Yuuki"
var(51) = 550

[State 0, VarSet] ;Asuna by Speedster (Sword Art Online)
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Asuna"
var(51) = 551

[State 0, VarSet] ;Kirito by Speedster (Sword Art Online)
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kirito"
var(51) = 552

[State 0, VarSet] ;Tokiko Tsumura by Speedster (Buso Renkin)
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Tokiko Tsumura" || enemy,name="Tsumura Tokiko"
var(51) = 560

[State 0, VarSet] ;Big Boo
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Big Boo" || enemy,name="Ghost"
trigger2 = Enemy, Name = "Boo" || Enemy, Name = "Majin Boo" || Enemy, Name = "Super Boo" || Enemy, Name = "Mr.Boo by OverMind"
var(51) = 579

[State 0, VarSet] ;Sonic by ghoulglifer
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Sonic" || enemy,name=" Sonic"
trigger2 = enemy, name = "Sonic The Hedgehog" || enemy, name = "Classic Sonic" || enemy, name = "Neo Sonic by MS" || enemy, name = "That Darn Hedgehog"
var(51) = 586

[State 0, VarSet] ;Sailor Moon by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Moon" || enemy,name="Usagi" || enemy,name="Usagi Tsukino" || enemy,name="Bunny"
var(51) = 650

[State 0, VarSet] ;Sailor Mercury by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Mercury" || enemy,name="Ami" || enemy,name="Ami Mizuno" || enemy,name="Amy"
var(51) = 651

[State 0, VarSet] ;Sailor Venus by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Venus" || enemy,name="Minako" || enemy,name="Minako Aino" || enemy,name="Mina"
var(51) = 652

[State 0, VarSet] ;Sailor Mars by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Mars" || enemy,name="Rei" || enemy,name="Rei Hino" || enemy,name="Raye"
var(51) = 653

[State 0, VarSet] ;Sailor Jupiter by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Jupiter" || enemy,name="Makoto" || enemy,name="Makoto Kino" || enemy,name="Lita"
var(51) = 654

[State 0, VarSet] ;Sailor Saturn by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Saturn" || enemy,name="Hotaru" || enemy,name="Hotaru Tomoe"
var(51) = 655

[State 0, VarSet] ;Sailor Uranus by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Uranus" || enemy,name="Haruka" || enemy,name="Haruka Tenou" || enemy,name="Amara"
var(51) = 656

[State 0, VarSet] ;Sailor Neptune by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Neptune" || enemy,name="Michiru" || enemy,name="Michiru Kaiou" || enemy,name="Michelle"
var(51) = 657

[State 0, VarSet] ;Sailor Pluto by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Pluto" || enemy,name="Setsuna" || enemy,name="Setsuna Meiou" || enemy,name="Trista"
var(51) = 658

[State 0, VarSet] ;Sailor Chibimoon by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sailor Chibi-Moon" || enemy,name="Chibiusa" || enemy,name="Chibiusa Tsukino" || enemy,name="Rini"
var(51) = 659

[State 0, VarSet] ;Tuxedo Mask by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Tuxedo Mask" || enemy,name="Mamoru" || enemy,name="Mamoru Chiba" || enemy,name="Darien Shields"
trigger2 = enemy,name="Takishido Kamen" || enemy,name="T.Mask"
var(51) = 660

[State 0, VarSet] ;Ichigo Kurosaki by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Ichigo Kurosaki" || enemy,name="Kurosaki Ichigo" || enemy,name="Ichigo" || enemy,name="awoken Ichigo"
var(51) = 730

[State 0, VarSet] ;Ichigo Hollow by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Ichigo Hollow" || enemy,name="Ichigo_InnerHollow"
var(51) = 731

[State 0, VarSet] ;Byakuya Kuchiki by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Byakuya Kuchiki" || enemy,name="Byakuya Kuchiki by Websta"
var(51) = 732

[State 0, VarSet] ;Sousuke Aizen by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sousuke Aizen" || enemy,name="Aizen"
var(51) = 733

[State 0, VarSet] ;Momo Hinamori by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Momo Hinamori" || enemy,name="Hinamori"
var(51) = 734

[State 0, VarSet] ;Toushirou Hitsugaya by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Toushirou Hitsugaya" || enemy,name="Hitsugaya"
var(51) = 735

[State 0, VarSet] ;Kenpachi Zaraki by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kenpachi Zaraki" || enemy,name="Zaraki" || enemy,name="Kenpachi"
var(51) = 736

[State 0, VarSet] ;Yoruichi Shihouin by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Yoruichi Shihouin" || enemy,name="Yoruichi"
var(51) = 737

[State 0, VarSet] ;Shunsui Kyouraku by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Shunsui Kyouraku"
var(51) = 738

[State 0, VarSet] ;Kagura by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kagura"
var(51) = 770

[State 0, VarSet] ;Kikyo by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kikyo"
var(51) = 771

[State 0, VarSet] ;Sango by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sango"
var(51) = 772

[State 0, VarSet] ;Miroku by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Miroku"
var(51) = 773

[State 0, VarSet] ;Kagome by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kagome" || enemy,name="Kagome Higurashi" || enemy,name="Higurashi Kagome"
var(51) = 774

[State 0, VarSet] ;Koga by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Koga" || enemy,name="Kouga"
var(51) = 775

[State 0, VarSet] ;Sesshomaru by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sesshomaru"
var(51) = 776

[State 0, VarSet] ;Inuyasha by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="InuYasha By CVS Artist" || enemy,name="InuYasha" || enemy,name="Inu Yasha"
var(51) = 777

[State 0, VarSet] ;Inuyasha Youkai by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="InuYasha Youkai" || enemy,name="Youkai"
var(51) = 778

[State 0, VarSet] ;Oni Me no Kyo by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Oni Me no Kyo" || enemy,name="Oni Me no Kyou" || enemy,name="OniMenoKyo" || enemy,name="Demon Eyes Kyo"
var(51) = 779

[State 0, VarSet] ;Sanada Yukimura by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sanada Yukimura" || enemy,name="Yukimura Sanada"
var(51) = 780

[State 0, VarSet] ;Battousai by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Himura Battousai" || enemy,name="Battousai"
var(51) = 784

[State 0, VarSet] ;Misao by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Makimachi Misao" || enemy,name="Misao Makimachi" || enemy,name="Misao"
var(51) = 785

[State 0, VarSet] ;Sanosuke by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Sagara Sanosuke" || enemy,name="Sanosuke Sagara" || enemy,name="Sanosuke"
var(51) = 786

[State 0, VarSet] ;Kenshin/Weapon user by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Kenshin"
trigger2 = enemy,name="Dragon Claw" || enemy,name="Squall"
trigger3 = enemy,name="ZeroCloud" || enemy,name="Cloud Strife [Beta 2]" || enemy,name="Cloud Strife" || enemy,name="Cloud" || enemy,name="Cloud by MGSSJ2"
trigger4 = enemy,name="cvshayato" || enemy,name="hayato" || enemy,name="Marvel vs. Capcom 2's Hayato Kanzaki" || enemy,name="MvC-EoH Hayato"
trigger5 = enemy,name="Blade" || enemy,name="Leo" || enemy,name="Leo (Leo)" || enemy,name="cvsleo"
;---------LAST BLADE-------------
trigger6 = enemy,name="Keiichiro Washizuka"
trigger7 = enemy,name="Washizuka" || enemy,name="Moriya"
trigger8 = enemy,name="Hibiki Takane" || enemy,name="Hibiki-SAN" || enemy,name="Takane Hibiki" || enemy,name="ZeroHibiki"
trigger9 = enemy,name="Kouryu" || enemy,name="Kouryu By Third" || enemy,name="kaede" || enemy,name="Setsuna" || enemy,name="Kagami"
;---------SAMURAI SHODOWN-------------
trigger10 = enemy,name="nakoruru"
trigger11 = enemy,name="Kyoushirou Senryou"
trigger12 = enemy,name="Kazama Kazuki" || enemy,name="Kazama Sogetsu"
trigger13 = Enemy,Name= "Ukyo" || Enemy, Name = "Tachibana Ukyo" || Enemy, Name = "Ukyo Tachibana"
trigger14 = Enemy, Name = "Kibagami Genjuro" || Enemy, Name = "Genjuro Kibagami" || Enemy, Name = "Genjuro" || Enemy, Name = "cvsgenjuro" || Enemy, Name = "Tin's Kibagami"
trigger15 = Enemy, Name = "Yoshitora" || Enemy, Name = "Yoshitora Tokugawa" || Enemy, Name = "Tokugawa Yoshitora"
;------------BLAZBLUE----------------
trigger16 = enemy,name="Hakumen" || enemy,name="daimonhaku" || enemy,name="Jin" || enemy,name="Jin Kisaragi"
trigger17 = enemy,name="Ares" || enemy,name="Ares_BB" || enemy,name="Ragna" || enemy,name="ULRagna" || enemy,name="ragnamau" || enemy,name="Tsubaki"
;------------------------------------
trigger18 = enemy,name="Huey" || enemy,name="yu-to"
trigger19 = enemy,name="Hiryu" || enemy,name="Strider Hiryu" || enemy,name="Strider_Hiryu" || enemy,name="Hiryu Clase Z"
trigger20 = enemy,name="Dies" && enemy,authorname="Pre-to"
trigger21 = enemy,name="shogun" || enemy,name="Reika Murasame"
trigger22 = enemy,name="Weis" || enemy,name="Weiss"															;Arcana Heart
trigger23 = enemy,name="Zoro Roronoa" || enemy,name="Roronoa Zoro (1.2)" || enemy,name="Roronoa Zoro by Renegade" || enemy,name="Kizaru Borsalino by NBA01" || enemy,name="Smoker" || enemy,name="Shanks"	;One Piece
trigger24 = enemy,name="Dark King Rayleigh BY XASOR" || enemy,name="HawkEyes" || enemy,name="Kaku" || enemy,name="Arlong"
trigger25 = enemy,name="Himura Kenshin"
trigger26 = enemy,name="Kenshin JUS"
trigger27 = enemy,name="Mihawk"
;---------GUILTY GEAR-------------
trigger28 = enemy,name="Sol Badguy" || enemy,name="Sol=Badguy" || enemy,name="badguy" || enemy,name="solengrenado"
trigger29 = enemy,name="darkordersol" || enemy,name="sol" || enemy,name="order-Sol=Badguy" || enemy,name="osol"
trigger30 = enemy,name="ky"
trigger31 = enemy,name="Ky_and_Sol" || enemy,name="Ky=kiske" || enemy,name="Ky Kiske"
trigger32 = enemy,name="kliff" || enemy,name="Johnny"
;----------BASARA X-----------------
trigger33 = enemy,name="Keiji" || enemy,name="Maeda Keiji" || enemy,name="Date Masamune" || enemy,name="Takenaka Hanbei"
trigger34 = enemy,name="Takenaka Hanbei" || enemy,name="Katakura Kojuro" || enemy,name="Date Masamune" || enemy,name="Uesugi Kensin"
;------------------------------------
trigger35 = enemy,name="Murakumo"   		;Akatsuki Blitzkampf
trigger36 = (enemy,name="Shion" && enemy,authorname="DrKelexo") || enemy,name="Diana"
trigger37 = enemy,name="Naomi Kokoro" || enemy,name="Akira Rikudou" || enemy,name="Katima"
trigger38 = enemy,name="TLOZ Link" || enemy,name="Link 0.95" || enemy,name="Link" || enemy,name="MvC Young Link"
trigger39 = enemy,name="Spinal" || enemy,name="Sabrewulf" || enemy,name="Saberwulf"
trigger40 = enemy,name="Kain Blade" || enemy,name="Milan" || enemy,name="Milan Flare"		;Golden Axe
trigger41 = enemy,name="Oda Nobunaga" || enemy,name="Rikimaru"
trigger42 = enemy,name="Barns" || enemy,name="cvsmukuro"
trigger43 = enemy,name="Rosa" || enemy,name="Great Dragonian"
trigger44 = enemy,name="Stahn" || enemy,name="Frio" || enemy,name="Veigue_lungberg"
trigger45 = enemy,name="yoshimitsu" || enemy,name="Yamato from Dragoon Might"
trigger46 = enemy,name="S.Geist" || enemy,name="goat_B" || enemy,name="goat"			;Asura Buster/Blade
trigger47 = enemy,name="Yashaoh" || enemy,name="zinsuke"
trigger48 = enemy,name="Ultimate Sephiroth"
trigger49 = enemy,name="Suigetsu" || enemy,name="Hibito"
trigger50 = enemy,name="Jecht" || enemy,name="Agrias_Oaks"   ;Final Fantasy Tactics
trigger51 = enemy,name="Frog" || enemy,name="Erza Scarlet"
trigger52 = enemy,name="erile" || enemy,name="krayce"		;Spectral VS Generation
trigger53 = enemy,name="JANNE" || enemy,name="RAIDOU"
trigger54 = enemy,name="senna kyoudou" || enemy,name="Senna_Kyoudou" || enemy,name="SENNA" || enemy,name="KYOUDOU SENNA"   ;BBB
trigger55 = enemy,name="Kamui"		;BBBR
trigger56 = enemy,name="DEATH MAUL" || enemy,name="Anakin Skywalker"
trigger57 = enemy,name="chaka"  ;JOJO
trigger58 = enemy,name="Polnareff"
trigger59 = enemy,name="Byrne" || enemy,name="Rangle" || enemy,name="Faud"
trigger60 = enemy,name="Walkure" || enemy,name="Kung Fu Stick (Pivot Style)" || enemy,name="Macheta"
trigger61 = enemy,name="BloodRayne" || enemy,name="Asutorea" || enemy,name="Astraea"
trigger62 = enemy,name="CLESS ALVEIN" || enemy,name="Cless" || enemy,name="Kyle Dunamis" || enemy,name="rid hershel" || enemy,name="Zetu Akatuki"
trigger63 = enemy,name="dc_Mictlan" || enemy,name="dc_hugo" || enemy,name="dc_dimlos" || enemy,name="Guy_Cecil"
trigger64 = enemy,name="THE MONSTER HUNTER" || enemy,name="Raydric_And_Archer"
trigger65 = enemy,name="Tapion =El Valiente Legendario= By Team OS"
trigger66 = enemy,name="vergil" || enemy,name="Isabella Valentine" || enemy,name="Ivy by CVS Artist" || enemy,name="Cervantes By CVS Artist" || enemy,name="Mitsurugi By CVS Artist"
trigger67 = enemy,name="Oktavia_von_Seckendorff" || enemy,name="Oktavia Von Seckendorff"
trigger68 = enemy,name="raigu's Armor_Lord" || enemy,name="Chartette"
trigger69 = enemy,name="S.Sinclair" || enemy,name="Mikitaka"
trigger70 = enemy,name="Kosanjou" || enemy,name="Knight"
trigger71 = enemy,name="Undead Hero By Ryon" || enemy,name="Samuel Han By Ryon"
trigger72 = enemy,name="Kanon"		;Ougon Musou Kyoku (OMK)
trigger73 = enemy,name="Miki Sayaka" || enemy,name="erika"
trigger74 = enemy,name="Jataaka" || enemy,name="krasnaya"
trigger75 = enemy,name="Kohaku" || enemy,name="Kohaku_K"
trigger76 = (enemy,name="Rio" && enemy,authorname="Alexei Roschak (kenshinx0)")
trigger77 = enemy,name="Guts_WOB" || enemy,name="MetaKnight"
trigger78 = enemy,name="Shimo" || enemy,name="Hina"		;Yatagarasu
trigger79 = enemy,name="Siegfried By CVS Atrist" || enemy,name="Sophitia by CVS Artist"
trigger80 = enemy,name="KH1 Riku" || enemy,name="Sora" || enemy,name="Sora COM"   ;A Blade is a Sword (kinda), and a Keyblade is a Blade (it's in the name LOL) -> a Keyblade is a sword! ¯\(º_o)/¯
trigger81 = enemy,name="Vritra"			;Chaos Breaker
var(51) = 787

[State 0, VarSet] ;Saito (Shinsengumi) by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Saitou" || enemy,name = "Hajime Saitou" || enemy,name = "Saitou Shinengumi"
trigger2 = enemy,name = "Shin Saito Hajime" || enemy,name = "Shin_Saitou"
var(51) = 788

[State 0, VarSet] ;Saito (Normal) by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Saitou Normal" || enemy,name = "Saito" || enemy,name="Saito Hajime"
var(51) = 789

[State 0, VarSet] ;Soujiro Seta by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = Enemy, Name = "Sojiro Seta" || Enemy, Name = "Seta Sojiro" || Enemy, Name = "Soujiro Seta" || Enemy, Name = "Seta Soujiro"
var(51) = 790

[State 0, VarSet] ;Shishio Makoto by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Shishioh" || enemy,name="Makoto" || enemy,name="Shishio Makoto" || enemy,name="Shishio"
var(51) = 791

[State 0, VarSet] ;Enishi Yukishiro by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Yukishiro Enishi"
var(51) = 792

[State 0, VarSet] ;Souji Okita by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Souji Okita" || enemy,name="Okita Souji" || enemy,name="Okita"
var(51) = 793

[State 0, VarSet] ;Udo Jin-e by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Udo Jin-e" || enemy,name="Udo Jine" || enemy,name="Jine" || enemy,name="Udo Jinei" || enemy,name="Jinei"
var(51) = 794

[State 0, VarSet] ;Yukyuzan Anji by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Yukyuzan Anji" || enemy,name="Anji Yukyuzan" || enemy,name="Anji"
var(51) = 795

[State 0, VarSet] ;Aoshi Shinomori by Speedster
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Shinomori Aoshi" || enemy,name="Aoshi Shinomori" || enemy,name="Aoshi"
var(51) = 796

[State 0, VarSet] ;Maximilian Dood
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Maximilian Dood" || enemy,name = "Max Dood"
var(51) = 882

[State 0, VarSet] ;Tenacious D by Likiji123
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Tenacious D" || enemy,name = "Devil" || enemy,name = "Diablo"
var(51) = 883

[State 0, VarSet] ;Supergirl by Toni
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Supergirl" || enemy,name = "Powergirl" || enemy,name = "Super-girl" || enemy,name = "Superwoman"
var(51) = 884

[State 0, VarSet] ;Banana by Minion
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Banana"
var(51) = 885

[State 0, VarSet] ;Bender by Altoiddealer + N.The Silver
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Bender" || enemy,name = "Bender Rodriguez"
var(51) = 886

[State 0, VarSet] ;Duck Hunt Dog by DJ_HANNIBALROYCE
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Duck Hunt" || enemy,name = "DHD" || enemy,name = "Duck Hunt Dog"
var(51) = 887

[State 0, VarSet] ;Jailbot by Likiji123
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name = "Jailbot"
var(51) = 888

[State 0, VarSet] ;Kung Fu Man by Daeron
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,name="Kung Fu Man"
trigger2 = enemy,name="Kung Fu Man 720"
trigger3 = enemy,name="juano`s morph guy" && enemy,fvar(6)=15
trigger4 = enemy,name="chain combo KFM"
trigger5 = enemy,name="CheckerMan"
trigger6 = enemy,name="Epic Kung Fu Man"
trigger7 = enemy,name="Evil Kung Fu Man"
trigger8 = enemy,name="God KFMan" || enemy,name="God Kung Fu Man"
trigger9 = enemy,name="HDM"
trigger10 = enemy,name="SF4 Kung Fu Man"
trigger11 = enemy,name="Kung Fu Man AT"
trigger12 = enemy,name="Kung Fu Man in add004"
trigger13 = enemy,name="KFM [CHO]"
trigger14 = enemy,name="Kung Fu Man Master"
trigger15 = enemy,name="Kung Fu Mako"
trigger16 = enemy,name="kfma4b"
trigger17 = enemy,name="Boss Kung Fu Man"
trigger18 = enemy,name="Z-TKFM" || enemy,name="the kung fu man"
trigger19 = enemy,name="Another Kung Fu girl" || enemy,name="Kung Fu Girl"
trigger20 = enemy,name="EX Kung Fu Man"
trigger21 = enemy,name="Training"
var(51) = 889


[State 0, VarSet] ;Generic female
type = VarSet
triggerall = !time
triggerall = numenemy
trigger1 = enemy,selfanimExist(8055002) ;woman - Messatsu
trigger2 = Enemy, Name = "cvsathena" ||Enemy, Name = "cvscammy" || Enemy, Name = "cvschamcham" || Enemy, Name = "cvsfelicia" || Enemy, Name = "Hibiki Takane"
trigger3 = Enemy, Name = "cvsinglid" || Enemy, Name = "cvsingrid" || Enemy, Name = "cvsjill" || Enemy, Name = "cvsking"
trigger4 = Enemy, Name = "cvsmaki" || Enemy, Name = "Genryusai Maki" || Enemy, Name = "cvsnakoruru" || Enemy, Name = "cvssakura" || Enemy, Name = "cvsvice"
trigger5 = Enemy, Name = "cvsyuri" || Enemy, Name = "Tin's Anny" || Enemy, Name = "Tin's chunli" || Enemy, Name = "Tin's Leona" || Enemy, Name = "Tin's Linn_Kurosawa"
trigger6 = Enemy, Name = "Tin's May Lee" || Enemy, Name = "Tin's Shiki" || Enemy, Name = "Akane Tendo" || Enemy, Name = "Akiha_Tohno" || Enemy, Name = "alice" || Enemy, Name = "angel"
trigger7 = Enemy, Name = "Annie Murakami" || Enemy, Name = "Arcueid Brunestud" || Enemy, Name = "Arina" || Enemy, Name = "Aska by BEK" || Enemy, Name = "Asuka" || Enemy, Name = "Athena Asamiya"
trigger8 = Enemy, Name = "Athena" || Enemy, Name = "Ayako by Luchini" || Enemy, Name = "Baiken" || Enemy, Name = "baiken_GGX" || Enemy, Name = "Baby Bonnie Hood" || Enemy, Name = "Bulleta"
trigger9 = Enemy, Name = "K_Bulleta" || Enemy, Name = "cvsbulleta" || Enemy, Name = "Beretta" || Enemy, Name = "cvsberetta" || Enemy, Name = "Rugal Bee" || Enemy, Name = "Benten"
trigger10 = Enemy, Name = "Cammy" || Enemy, Name = "cassandra" || Enemy, Name = "Celsius" || Enemy, Name = "Charlotte" || Enemy, Name = "Chizuru Kagura"
trigger11 = Enemy, Name = "CIEL(ELEICIA)" || Enemy, Name = "clara" || Enemy, Name = "Dizzy" || Enemy, Name = "DVanessa"
trigger12 = Enemy, Name = "K_Vanessa" || Enemy, Name = "Misuzu_Kamio" || Enemy, Name = "Elena" || Enemy, Name = "Rogue" || Enemy, Name = "Rouge" || Enemy, Name = "Rouge the Bat"
trigger13 = Enemy, Name = "Erina by Luchini"  || Enemy, Name = "Ayu Tsukimiya EX" || Enemy, Name = "Mai Kawasumi EX" || Enemy, Name = "Felicia" || Enemy, Name = "mvcfelicia" || Enemy, Name = "Fio"
trigger14 = Enemy, Name = "Foxy" || Enemy, Name = "Fubuki Sakuragasaki" || Enemy, Name = "GROOVY ARCHE" || Enemy, Name = "hibiki" || Enemy, Name = "Hikaru" || Enemy, Name = "Hinako Shijo"
trigger15 = Enemy, Name = "Hinata Wakaba" || Enemy, Name = "cvshinata" || Enemy, Name = "Hisui" || Enemy, Name = "Hotaru Futaba" || Enemy, Name = "Hsien-ko" || Enemy, Name = "hsienko"
trigger16 = Enemy, Name = "Lei-Lei" || Enemy, Name = "leilei" || Enemy, Name = "cvsleilei" || Enemy, Name = "Ingrid SFA3" || Enemy, Name = "I-NO" || Enemy, Name = "IROHA"
trigger17 = Enemy, Name = "JAM KURADOBERI" || Enemy, Name = "Janne Dulk"  || Enemy, Name = "B.Jenet" || Enemy, Name = "B. Jenet" || Enemy, Name = "Bonne Jenet" || Enemy, Name = "Jill Valentine"
trigger18 = Enemy, Name = "Juli" || Enemy, Name = "cvsjuli" || Enemy, Name = "Juni" || Enemy, Name = "cvsjuli" || Enemy, Name = "Decapre" || Enemy, Name = "cvsdecapre"
trigger19 = Enemy, Name = "Kano Kirishima" || Enemy, Name = "Karin"  || Enemy, Name = "Karin Kanzuki" || Enemy, Name = "Kanzuki Karin" || Enemy, Name = "cvskarin" || Enemy, Name = "Karina"
trigger20 = Enemy, Name = "Sakura Kasugano" || Enemy, Name = "Kasugano Sakura" || Enemy, Name = "Kasumi Todo" || Enemy, Name = "Kasumi Todoh" || Enemy, Name = "cvskasumi"
trigger21 = Enemy, Name = "kinu" || Enemy, Name = "Kisarah Westfield" || Enemy, Name = "Kisarah" || Enemy, Name = "nbc_kisarah" || Enemy, Name = "nbckisarah" || Enemy, Name = "Kohaku"
trigger22 = Enemy, Name = "Kohaku By Toshi" || Enemy, Name = "Jun Kubota by Luchini" || Enemy, Name = "Kula" || Enemy, Name = "Kurara Hanakouji" || Enemy, Name = "kurenai" || Enemy, Name = "Len"
trigger23 = Enemy, Name = "lenny" || Enemy, Name = "linn kurosawa" || Enemy, Name = "Lt. Kurosawa" || Enemy, Name = "Lynn Baker" ||Enemy, Name = "King" && AuthorName != "chuchoryu" ; KOF King, not Tekken
trigger24 = Enemy, Name = "Lynn" || Enemy, Name = "lyris" || Enemy, Name = "Mahoro" || Enemy, Name = "Makoto"
trigger25 = Enemy, Name = "Makoto Nanaya" || Enemy, Name = "Malin" || Enemy, Name = "Manami Kusunoki" || Enemy, Name = "Kusunoki Manami By CAP" || Enemy, Name = "MARIAH" || Enemy, Name = "Marrow"
trigger26 = Enemy, Name = "Marika M Peachitree" || Enemy, Name = "[Vice]'s Mature" || Enemy, Name = "Mature" || Enemy, Name = "cvsmature" || Enemy, Name = "May" || Enemy, Name = "Megumi"
trigger27 = Enemy, Name = "MIDLER" || Enemy, Name = "Millia_Rage" || Enemy, Name = "Millia" || Enemy, Name = "Millia Rage" ||  Enemy, Name = "Mina" || Enemy, Name = "Mina Majikina"
trigger28 = Enemy, Name = "Majikina Mina" || Enemy, Name = "cvsmina" || Enemy, Name = "Minis Mahn" || Enemy, Name = "nakoruruss0"
trigger29 = Enemy, Name = "Nana" || Enemy, Name = "natsume" || Enemy, Name = "Nausicaa" || Enemy, Name = "liza by ryokucha"
trigger30 = Enemy, Name = "MVCtabasa by ryokucha" || Enemy, Name = "NewAkari" || Enemy, Name = "Akari Ichijou" || Enemy, Name = "kofakari" || Enemy, Name = "nbcakari" || Enemy, Name = "Ai"
trigger31 = Enemy, Name = "nbcai" || Enemy, Name = "oni chizuru" || Enemy, Name = "psylocke by Qkrtkf!" || Enemy, Name = "Psylocke" || Enemy, Name = "cvspsylocke"
trigger32 = Enemy, Name = "Pupa Salgueiro" || Enemy, Name = "Pupa" || Enemy, Name = "Q-Bee by M@PPY" || Enemy, Name = "Q-Bee" || Enemy, Name = "cvsqbee" || Enemy, Name = "Rasyouzin Miduki"
trigger33 = Enemy, Name = "Rainbow Mika By TAMAGO" || Enemy, Name = "Rainbow Mika" || Enemy, Name = "R.Mika" || Enemy, Name = "RMika" || Enemy, Name = "R.Mika" || Enemy, Name = "cvsmika"
trigger34 = Enemy, Name = "Raiya Mikazuchi" || Enemy, Name = "Ranma SaotomeF" || Enemy, Name = "Reika Murasame" || Enemy, Name = "Reimi" || Enemy, Name = "Rera" || Enemy, Name = "cvsrera"
trigger35 = Enemy, Name = "raira" || Enemy, Name = "Rila" || Enemy, Name = "rimururu" || Enemy, Name = "cvsrimururu" || Enemy, Name = "Roll" || Enemy, Name = "cvsroll"
trigger36 = Enemy, Name = "Roomi v2.1 by Inverse" || Enemy, Name = "Rose" || Enemy, Name = "cvsrose" || Enemy, Name = "Izumo Ryoko" || Enemy, Name = "Ryoko Kano"  || Enemy, Name = "Ryuho"
trigger37 = Enemy, Name = "SAKURA SHINGOUJI" || Enemy, Name = "Saki" || Enemy, Name = "Satomi" || Enemy, Name = "Satsuki_Yumiduka" || Enemy, Name = "Shaia"
trigger38 = Enemy, Name = "Shampoo" || Enemy, Name = "Shermie" || Enemy, Name = "cvsshermie" || Enemy, Name = "Shinobu" || Enemy, Name = "sonia" || Enemy, Name = "Spiral by Luchini"
trigger39 = Enemy, Name = "Spiral" || Enemy, Name = "mvcspiral" || Enemy, Name = "[Shinta]'s Storm" || Enemy, Name = "Storm" || Enemy, Name = "mvcstorm"|| Enemy, Name = "Suzu  Fujibayashi"
trigger40 = Enemy, Name = "Suzu" || Enemy, Name = "SHIKI" || Enemy, Name = "K_Shiki" || Enemy, Name = "svcshiki" || Enemy, Name = "svcathena" || Enemy, Name = "nbcathena" || Enemy, Name = "Tessa"
trigger41 = Enemy, Name = "Tabasa" || Enemy, Name = "Tamao Mitsurugi" || Enemy, Name = "Tamao V.G-MAX" || Enemy, Name = "TESSE"
trigger42 = Enemy, Name = "Tia" || Enemy, Name = "torami" || Enemy, Name = "Ukyo Kuonji" || Enemy, Name = "Sion Eltnam Atlasia [Vampire]" || Enemy, Name = "Vanessa" || Enemy, Name = "Vanilla H(beta)"
trigger43 = Enemy, Name = "Vice" || Enemy, Name = "WARCUEID"
trigger44 = Enemy, Name = "whip"  || Enemy, Name = "Li XiangFei" || Enemy, Name = "yagumo" || Enemy, Name = "Yuka Takeuchi" || Enemy, Name = "Yuka_Takeuchi" || Enemy, Name = "Yuki By Third"
trigger45 = Enemy, Name = "Riu Yung Mie" || Enemy, Name = "Yuri Sakazaki" || Enemy, Name = "Yuri sakazaki 96" || Enemy, Name = "Yuri98" || Enemy, Name = "Yuri" || Enemy, Name = "A.B.A"
trigger46 = Enemy, Name = "Athena-Goddess" || Enemy, Name = "jam" || Enemy, Name = "cham cham" || Enemy, Name = "Senna_Kyoudou" || Enemy, Name = "senna kyoudou" || Enemy, Name = "kunagi tenrou"
trigger47 = Enemy, Name = "Haruhi Suzumiya" || Enemy, Name = "Mikuru Asahina" || Enemy, Name = "Yoko" || Enemy, Name = "cvsyoko" || Enemy, Name = "cvssakura_normal" || Enemy, Name = "cvssakura_ex"
trigger48 = Enemy, Name = "Hotaru" || Enemy, Name = "Hotaru Futaba" || Enemy, Name = "cvshotaru" || Enemy, Name = "Lyzer"
var(51) = 994+random%3

[State 0, VarSet] ; Other Character
type = VarSet
triggerall = !time
trigger1 = var(51)=-1
var(51) = 999-random%7

[State 0, DEBUG] ; DEBUG
type = null ;VarSet
trigger1 = 1
var(51) = 166

[State 730, Explod]
type = Explod
trigger1 = time=1 && !NumExplod(907)
anim =  907
ID =  907
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = -10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 4500, 2];long sound
type = PlaySnd
trigger1 = time=1
value = 8,5
loop = 1
pan = 1
volumescale = 25
channel = -1 ;3

[State 3802, Abs Base]
type = Helper
triggerall = !NumHelper(28800)
trigger1 = time=1 ;!time
name = "Absorbed - Base"
postype = P1
pos = 0,0
ownpal = 1
helpertype = normal
stateno = 4401
id = 28800

[State 3802, Abs Overlay]
type = Helper
triggerall = !NumHelper(28900)
trigger1 = time=1 ;!time
name = "Absorbed - Overlay"
postype = P1
pos = 0,0
ownpal = 1
helpertype = normal
stateno = 4402
id = 28900

[State 3830, AllPalFX]
type = AllPalFX
trigger1 = Time<128
time = 1
add = 0,0,0
mul = 2*(Time),2*(Time),2*(Time)
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=60
value = 4400,random%3
volumescale = 300
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time=150
trigger1 = Win
value = 0
ctrl = 1

; Absorbed - Base Helper
[Statedef 4401]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
sprpriority = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 0,0
;ignorehitpause =
;persistent =

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 28000+(root,var(51))

[State -2, Jailbot Stand Hover]
type = Offset
trigger1 = root,var(51)= 5 ;Goku
trigger2 = root,var(51)= 579 ;Big Boo
trigger3 = root,var(51)= 888 ;Jailbot
trigger4 = root,var(51)= 997 ;Other - Balloon
y = 1*cos(GameTime/6.0)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=600
;ignorehitpause =
;persistent =

; Absorbed - Overlay Helper
[Statedef 4402]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 0,0
;ignorehitpause =
;persistent =

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 29000+(root,var(51))

[State -2, Jailbot Stand Hover]
type = Offset
trigger1 = root,var(51)= 5 ;Goku
trigger2 = root,var(51)= 888 ;Jailbot
y = 1*cos(GameTime/6.0)

[State 0, Offset]
type = Offset
trigger1 = root,var(51)= 166 ; Morrigan
x = 50
y = -70
;ignorehitpause =
;persistent =

[State 0, Explod] ;Buutenks Ghost (tongue)
type = Explod
trigger1 = !NumExplod(7314)
trigger1 = root,var(51)= 10 ; Gotenks
anim =7314
ID = 7314
pos = -40,-120
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod] ;Buutenks Ghost 2 (normal)
type = Explod
trigger1 = !NumExplod(7313)
trigger1 = root,var(51)= 10 ; Gotenks
anim =7313
ID = 7313
pos = 60,-130
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, Explod] ;Morrigan Bats
type = Explod
trigger1 = !NumExplod(29166)
trigger1 = root,var(51)= 166 ; Morrigan
anim =29166
ID = 29166
pos = 100,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=600
;ignorehitpause =
;persistent =



